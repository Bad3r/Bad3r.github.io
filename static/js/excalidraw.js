(function(){
shadow$provide[641]=function(Z,J,ta,t){var n=J(2);!function(v,l){"object"==typeof t&&"object"==typeof ta?ta.exports=l(J(10),J(19)):"function"==typeof define&&define.amd?define(["react","react-dom"],l):"object"==typeof t?t.Excalidraw=l(J(10),J(19)):v.Excalidraw=l(v.React,v.ReactDOM)}(self,function(v,l){return(()=>{function h(u){if(a[u])return a[u].exports;var m=a[u]={id:u,exports:{}};return q[u](m,m.exports,h),m.exports}var f,d,k,q={5374:u=>{function m(e,r,z,A,E,K,G){try{var C=e[K](G),D=C.value}catch(x){return void z(x)}C.done?
r(D):Promise.resolve(D).then(A,E)}u.exports=function(e){return function(){var r=this,z=arguments;return new Promise(function(A,E){function K(D){m(C,A,E,K,G,"next",D)}function G(D){m(C,A,E,K,G,"throw",D)}var C=e.apply(r,z);K(void 0)})}}},566:u=>{u.exports=function(m,e,r){return e in m?Object.defineProperty(m,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):m[e]=r,m}},6950:u=>{function m(){return u.exports=m=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var z=arguments[r],A;for(A in z)Object.prototype.hasOwnProperty.call(z,
A)&&(e[A]=z[A])}return e},m.apply(this,arguments)}u.exports=m},5474:(u,m,e)=>{var r=e(8387);u.exports=function(z,A){if(null==z)return{};var E,K=r(z,A);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);for(E=0;E<G.length;E++){var C=G[E];0<=A.indexOf(C)||Object.prototype.propertyIsEnumerable.call(z,C)&&(K[C]=z[C])}}return K}},8387:u=>{u.exports=function(m,e){if(null==m)return{};var r,z={},A=Object.keys(m);for(r=0;r<A.length;r++){var E=A[r];0<=e.indexOf(E)||(z[E]=m[E])}return z}},
6009:(u,m,e)=>{m=e(487);e=e(8328);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},1395:(u,m,e)=>{m=e(487);e=e(6121);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},3211:(u,m,e)=>{m=e(487);e=e(2510);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},5574:(u,m,e)=>{m=e(487);e=e(7972);
"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},4518:(u,m,e)=>{m=e(487);e=e(190);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},3040:(u,m,e)=>{m=e(487);e=e(6718);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},8623:(u,m,e)=>{m=e(487);e=e(3623);"string"==typeof(e=e.__esModule?e.default:
e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},4193:(u,m,e)=>{m=e(487);e=e(103);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},341:(u,m,e)=>{m=e(487);e=e(7061);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},9705:(u,m,e)=>{m=e(487);e=e(1498);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",
singleton:!1});u.exports=e.locals||{}},7143:(u,m,e)=>{m=e(487);e=e(666);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},7428:(u,m,e)=>{m=e(487);e=e(849);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},8465:(u,m,e)=>{m=e(487);e=e(6915);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||
{}},8680:(u,m,e)=>{m=e(487);e=e(7030);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},205:(u,m,e)=>{m=e(487);e=e(3994);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},8416:(u,m,e)=>{m=e(487);e=e(700);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},2816:(u,m,e)=>{m=e(487);e=e(287);
"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},1575:(u,m,e)=>{m=e(487);e=e(5657);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},7287:(u,m,e)=>{m=e(487);e=e(7392);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},8518:(u,m,e)=>{m=e(487);e=e(6065);"string"==typeof(e=e.__esModule?e.default:
e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},5849:(u,m,e)=>{m=e(487);e=e(83);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},9478:(u,m,e)=>{m=e(487);e=e(1554);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},2680:(u,m,e)=>{m=e(487);e=e(1970);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",
singleton:!1});u.exports=e.locals||{}},3142:(u,m,e)=>{m=e(487);e=e(961);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},8234:(u,m,e)=>{m=e(487);e=e(4878);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},4651:(u,m,e)=>{m=e(487);e=e(1988);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||
{}},2189:(u,m,e)=>{m=e(487);e=e(3245);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);m(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},487:(u,m,e)=>{function r(ha){for(var ea=-1,O=0;O<x.length;O++)if(x[O].identifier===ha){ea=O;break}return ea}function z(ha,ea){for(var O={},X=[],S=0;S<ha.length;S++){var V=ha[S],N=ea.base?V[0]+ea.base:V[0],P=O[N]||0,L="".concat(N," ").concat(P);O[N]=P+1;N=r(L);V={css:V[1],media:V[2],sourceMap:V[3]};-1!==N?(x[N].references++,x[N].updater(V)):
x.push({identifier:L,updater:G(V,ea),references:1});X.push(L)}return X}function A(ha){var ea=document.createElement("style"),O=ha.attributes||{};if(void 0===O.nonce){var X=e.nc;X&&(O.nonce=X)}if(Object.keys(O).forEach(function(S){ea.setAttribute(S,O[S])}),"function"==typeof ha.insert)ha.insert(ea);else{ha=D(ha.insert||"head");if(!ha)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ha.appendChild(ea)}return ea}function E(ha,ea,O,
X){O=O?"":X.media?"@media ".concat(X.media," {").concat(X.css,"}"):X.css;ha.styleSheet?ha.styleSheet.cssText=ca(ea,O):(O=document.createTextNode(O),X=ha.childNodes,X[ea]&&ha.removeChild(X[ea]),X.length?ha.insertBefore(O,X[ea]):ha.appendChild(O))}function K(ha,ea,O){ea=O.css;var X=O.media;O=O.sourceMap;if(X?ha.setAttribute("media",X):ha.removeAttribute("media"),O&&"undefined"!=typeof btoa&&(ea+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(O)))),
" */")),ha.styleSheet)ha.styleSheet.cssText=ea;else{for(;ha.firstChild;)ha.removeChild(ha.firstChild);ha.appendChild(document.createTextNode(ea))}}function G(ha,ea){if(ea.singleton){var O=ma++;var X=U||(U=A(ea));var S=E.bind(null,X,O,!1);var V=E.bind(null,X,O,!0)}else X=A(ea),S=K.bind(null,X,ea),V=function(){if(null===X.parentNode)var N=!1;else X.parentNode.removeChild(X),N=void 0;!N};return S(ha),function(N){N?(N.css!==ha.css||N.media!==ha.media||N.sourceMap!==ha.sourceMap)&&S(ha=N):V()}}var C,D=
function(){var ha={};return function(ea){if(void 0===ha[ea]){var O=document.querySelector(ea);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch(X){O=null}ha[ea]=O}return ha[ea]}}(),x=[],R,ca=(R=[],function(ha,ea){return R[ha]=ea,R.filter(Boolean).join("\n")}),U=null,ma=0;u.exports=function(ha,ea){(ea=ea||{}).singleton||"boolean"==typeof ea.singleton||(ea.singleton=(void 0===C&&(C=!(!(window&&document&&document.all)||window.atob)),C));var O=z(ha=
ha||[],ea);return function(X){if(X=X||[],"[object Array]"===Object.prototype.toString.call(X)){for(var S=0;S<O.length;S++){var V=r(O[S]);x[V].references--}X=z(X,ea);for(S=0;S<O.length;S++)V=r(O[S]),0===x[V].references&&(x[V].updater(),x.splice(V,1));O=X}}}},2829:u=>{u.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version."},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:u=>{u.exports=JSON.parse('{"ar-SA":84,"bg-BG":96,"ca-ES":95,"de-DE":100,"el-GR":100,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":94,"hu-HU":84,"id-ID":100,"it-IT":100,"ja-JP":98,"kab-KAB":97,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":93,"pa-IN":97,"pl-PL":98,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":98,"sk-SK":98,"sv-SE":100,"tr-TR":84,"uk-UA":97,"zh-CN":98,"zh-TW":100}')},788:(u,m,e)=>{function r(A){if(!e.o(z,A))return Promise.resolve().then(()=>
{var G=Error("Cannot find module '"+A+"'");throw G.code="MODULE_NOT_FOUND",G;});var E=z[A],K=E[0];return Promise.all(E.slice(1).map(e.e)).then(()=>e.t(K,3))}var z={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};r.keys=()=>Object.keys(z);r.id=788;u.exports=r},7154:u=>{function m(){return u.exports=m=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var z=arguments[r],A;for(A in z)Object.prototype.hasOwnProperty.call(z,A)&&(e[A]=z[A])}return e},m.apply(this,arguments)}u.exports=m},6479:(u,m,e)=>{var r=e(7316);u.exports=function(z,A){if(null==z)return{};var E,K=r(z,A);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);
for(E=0;E<G.length;E++){var C=G[E];0<=A.indexOf(C)||Object.prototype.propertyIsEnumerable.call(z,C)&&(K[C]=z[C])}}return K}},7316:u=>{u.exports=function(m,e){if(null==m)return{};var r,z={},A=Object.keys(m);for(r=0;r<A.length;r++){var E=A[r];0<=e.indexOf(E)||(z[E]=m[E])}return z}},8328:(u,m,e)=>{e.r(m);e.d(m,{default:()=>A});m=e(3645);var r=e.n(m);m=e(1667);m=e.n(m);var z=e(7464);e=e(9638);r=r()(function(E){return E[1]});z=m()(z.Z);e=m()(e.Z);r.push([u.id,'@font-face{font-family:"Virgil";src:url('+
z+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+e+");font-display:swap}",""]);const A=r},6121:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const r=e},2510:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const r=e},7972:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const r=e},190:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const r=e},6718:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const r=e},3623:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const r=e},103:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const r=e},7061:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);
e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const r=e},1498:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const r=e},666:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const r=e},849:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const r=e},6915:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});
m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const r=e},7030:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const r=e},3994:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const r=e},700:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const r=e},287:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const r=e},5657:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const r=e},7392:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const r=e},6065:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const r=e},83:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const r=e},1554:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const r=e},1970:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const r=e},961:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const r=e},4878:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const r=e},1988:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:root{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const r=e},3245:(u,m,e)=>{e.r(m);e.d(m,{default:()=>r});m=e(3645);e=e.n(m)()(function(z){return z[1]});e.push([u.id,"",""]);e.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const r=e},3645:u=>{u.exports=function(m){var e=[];return e.toString=function(){return this.map(function(r){var z=m(r);return r[2]?"@media ".concat(r[2]," {").concat(z,"}"):z}).join("")},e.i=function(r,z,A){"string"==typeof r&&(r=[[null,
r,""]]);var E={};if(A)for(var K=0;K<this.length;K++){var G=this[K][0];null!=G&&(E[G]=!0)}for(K=0;K<r.length;K++)G=[].concat(r[K]),A&&E[G[0]]||(z&&(G[2]?G[2]="".concat(z," and ").concat(G[2]):G[2]=z),e.push(G))},e}},1667:u=>{u.exports=function(m,e){return e||(e={}),"string"!=typeof(m=m&&m.__esModule?m.default:m)?m:(/^['"].*['"]$/.test(m)&&(m=m.slice(1,-1)),e.hash&&(m+=e.hash),/["'() \t\n]/.test(m)||e.needQuotes?'"'.concat(m.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):m)}},9638:(u,m,e)=>{e.d(m,{Z:()=>
r});const r=e.p+"excalidraw-assets/Cascadia.woff2"},7464:(u,m,e)=>{e.d(m,{Z:()=>r});const r=e.p+"excalidraw-assets/Virgil.woff2"},8288:(u,m,e)=>{e.d(m,{iC:()=>z,f:()=>A,qx:()=>E,Iw:()=>K,$e:()=>G,wZ:()=>C,ay:()=>D,oc:()=>x,Oh:()=>R,Ks:()=>r,Vi:()=>ca,$C:()=>U,ut:()=>ma,_D:()=>ha,n5:()=>ea,rk:()=>O,Hg:()=>X,hs:()=>S,eQ:()=>V,k:()=>N,LO:()=>P,I:()=>L,Gj:()=>aa,nM:()=>sa,Lg:()=>W,HM:()=>na,V4:()=>ra,EH:()=>xa,Gi:()=>Ba});var r;u=e(2189);e=e.n(u);var z="Excalidraw",A=10,E=8,K=5,G=1,C=30,D=Math.PI/12,
x={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},R={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(va){va.COPY="copy";va.PASTE="paste";va.CUT="cut";va.KEYDOWN="keydown";va.KEYUP="keyup";va.MOUSE_MOVE="mousemove";va.RESIZE="resize";va.UNLOAD="unload";va.BLUR="blur";va.DRAG_OVER="dragover";va.DROP="drop";va.GESTURE_END="gestureend";va.BEFORE_UNLOAD="beforeunload";va.GESTURE_START="gesturestart";va.GESTURE_CHANGE="gesturechange";va.POINTER_MOVE="pointermove";
va.POINTER_UP="pointerup";va.STATE_CHANGE="statechange";va.WHEEL="wheel";va.TOUCH_START="touchstart";va.TOUCH_END="touchend";va.HASHCHANGE="hashchange";va.VISIBILITY_CHANGE="visibilitychange";va.SCROLL="scroll"}(r||(r={}));var ca={TEST:"test",DEVELOPMENT:"development"},U={SHAPE_ACTIONS_MENU:"App-menu__left"},ma={1:"Virgil",2:"Helvetica",3:"Cascadia"},ha="Segoe UI Emoji",ea=20,O=1,X="left",S="top",V="{version}",N=20,P={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
L={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},aa=300,sa=500,W=5E3,na=100,ra=.1,xa={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Ba=e().appearanceFilter},3956:(u,m,e)=>{function r(g,y){return Math.pow(g[0]-y[0],2)+Math.pow(g[1]-y[1],2)}function z(g,y,B){return[g[0]+(y[0]-g[0])*B,g[1]+(y[1]-g[1])*B]}function A(g,y,B,M){M=M||[];var ba=g[y+0],ia=g[y+1],ya=g[y+2];const wa=g[y+3];var Da=3*ia[0]-2*ba[0]-wa[0];Da*=Da;ia=3*ia[1]-2*ba[1]-wa[1];ia*=ia;let Pa=3*ya[0]-2*wa[0]-ba[0];Pa*=Pa;ba=3*ya[1]-2*wa[1]-
ba[1];(ba*=ba,Da<Pa&&(Da=Pa),ia<ba&&(ia=ba),Da+ia)<B?(B=g[y+0],M.length?1<(Ka=M[M.length-1],lb=B,Math.sqrt(r(Ka,lb)))&&M.push(B):M.push(B),M.push(g[y+3])):(Ka=g[y+0],Da=g[y+1],lb=g[y+2],g=g[y+3],y=z(Ka,Da,.5),ba=z(Da,lb,.5),lb=z(lb,g,.5),Da=z(y,ba,.5),ba=z(ba,lb,.5),ya=z(Da,ba,.5),A([Ka,y,Da,ya],0,B,M),A([ya,ba,lb,g],0,B,M));var Ka,lb;return M}function E(g,y){return K(g,0,g.length,y)}function K(g,y,B,M,ba){ba=ba||[];const ia=g[y],ya=g[B-1];let wa=0,Da=1;for(let rb=y+1;rb<B-1;++rb){var Pa=g[rb];var Ka=
ia,lb=ya,tb=r(Ka,lb);0===tb?Pa=r(Pa,Ka):(tb=((Pa[0]-Ka[0])*(lb[0]-Ka[0])+(Pa[1]-Ka[1])*(lb[1]-Ka[1]))/tb,Pa=(tb=Math.max(0,Math.min(1,tb)),r(Pa,z(Ka,lb,tb))));Pa>wa&&(wa=Pa,Da=rb)}return Math.sqrt(wa)>M?(K(g,y,Da+1,M,ba),K(g,Da,B,M,ba)):(ba.length||ba.push(ia),ba.push(ya)),ba}function G(g,y=.15,B){const M=[],ba=(g.length-1)/3;for(let ia=0;ia<ba;ia++)A(g,3*ia,y,M);return B&&0<B?K(M,0,M.length,B):M}function C(g,y,B){if(g&&g.length){const [M,ba]=y;y=Math.PI/180*B;const ia=Math.cos(y),ya=Math.sin(y);
g.forEach(wa=>{const [Da,Pa]=wa;wa[0]=(Da-M)*ia-(Pa-ba)*ya+M;wa[1]=(Da-M)*ya+(Pa-ba)*ia+ba})}}function D(g){const y=g[0];g=g[1];return Math.sqrt(Math.pow(y[0]-g[0],2)+Math.pow(y[1]-g[1],2))}function x(g,y,B,M){const ba=y[1]-g[1];y=g[0]-y[0];g=ba*g[0]+y*g[1];const ia=M[1]-B[1];M=B[0]-M[0];B=ia*B[0]+M*B[1];const ya=ba*M-ia*y;return ya?[(M*g-y*B)/ya,(ba*B-ia*g)/ya]:null}function R(g,y,B){const M=g.length;if(3>M)return!1;const ba=[Number.MAX_SAFE_INTEGER,B];y=[y,B];B=0;for(let ia=0;ia<M;ia++){const ya=
g[ia],wa=g[(ia+1)%M];if(ma(ya,wa,y,ba)){if(0===U(ya,y,wa))return ca(ya,y,wa);B++}}return 1==B%2}function ca(g,y,B){return y[0]<=Math.max(g[0],B[0])&&y[0]>=Math.min(g[0],B[0])&&y[1]<=Math.max(g[1],B[1])&&y[1]>=Math.min(g[1],B[1])}function U(g,y,B){g=(y[1]-g[1])*(B[0]-y[0])-(y[0]-g[0])*(B[1]-y[1]);return 0===g?0:0<g?1:2}function ma(g,y,B,M){const ba=U(g,y,B),ia=U(g,y,M),ya=U(B,M,g),wa=U(B,M,y);return ba!==ia&&ya!==wa||!(0!==ba||!ca(g,B,y))||!(0!==ia||!ca(g,M,y))||!(0!==ya||!ca(B,g,M))||!(0!==wa||!ca(B,
y,M))}function ha(g,y){const B=[0,0],M=Math.round(y.hachureAngle+90);M&&C(g,B,M);y=function(ba,ia){var ya=[...ba];ya[0].join(",")!==ya[ya.length-1].join(",")&&ya.push([ya[0][0],ya[0][1]]);ba=[];if(ya&&2<ya.length){let Da=ia.hachureGap;0>Da&&(Da=4*ia.strokeWidth);Da=Math.max(Da,.1);ia=[];for(var wa=0;wa<ya.length-1;wa++){const lb=ya[wa],tb=ya[wa+1];if(lb[1]!==tb[1]){const rb=Math.min(lb[1],tb[1]);ia.push({ymin:rb,ymax:Math.max(lb[1],tb[1]),x:rb===lb[1]?lb[0]:tb[0],islope:(tb[0]-lb[0])/(tb[1]-lb[1])})}}if(ia.sort((lb,
tb)=>lb.ymin<tb.ymin?-1:lb.ymin>tb.ymin?1:lb.x<tb.x?-1:lb.x>tb.x?1:lb.ymax===tb.ymax?0:(lb.ymax-tb.ymax)/Math.abs(lb.ymax-tb.ymax)),!ia.length)return ba;let Pa=[],Ka=ia[0].ymin;for(;Pa.length||ia.length;){if(ia.length){ya=-1;for(wa=0;wa<ia.length&&!(ia[wa].ymin>Ka);wa++)ya=wa;ia.splice(0,ya+1).forEach(lb=>{Pa.push({s:Ka,edge:lb})})}if(Pa=Pa.filter(lb=>!(lb.edge.ymax<=Ka)),Pa.sort((lb,tb)=>lb.edge.x===tb.edge.x?0:(lb.edge.x-tb.edge.x)/Math.abs(lb.edge.x-tb.edge.x)),1<Pa.length)for(ya=0;ya<Pa.length;ya+=
2){wa=ya+1;if(wa>=Pa.length)break;ba.push([[Math.round(Pa[ya].edge.x),Ka],[Math.round(Pa[wa].edge.x),Ka]])}Ka+=Da;Pa.forEach(lb=>{lb.edge.x+=Da*lb.edge.islope})}}return ba}(g,y);return M&&(C(g,B,-M),function(ba,ia,ya){const wa=[];ba.forEach(Da=>wa.push(...Da));C(wa,ia,ya)}(y,B,-M)),y}function ea(g){const y=[];a:{var B=g;for(var M=[];""!==B;){if(!B.match(/^([ \t\r\n,]+)/))if(B.match(/^([aAcChHlLmMqQsStTvVzZ])/))M[M.length]={type:0,text:RegExp.$1};else{if(!B.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){B=
[];break a}M[M.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}B=B.substr(RegExp.$1.length)}B=(M[M.length]={type:2,text:""},M)}M="BOD";let ba=0;for(var ia=B[ba];2!==ia.type;){let ya=0;const wa=[];if("BOD"===M){if("M"!==ia.text&&"m"!==ia.text)return ea("M0,0"+g);ba++;ya=dh[ia.text];M=ia.text}else 1===ia.type?ya=dh[M]:(ba++,ya=dh[ia.text],M=ia.text);if(!(ba+ya<B.length))throw Error("Path data ended short");for(ia=ba;ia<ba+ya;ia++){const Da=B[ia];if(1!==Da.type)throw Error("Param not a number: "+M+
","+Da.text);wa[wa.length]=+Da.text}if("number"!=typeof dh[M])throw Error("Bad segment: "+M);y.push({key:M,data:wa});ba+=ya;ia=B[ba];"M"===M&&(M="L");"m"===M&&(M="l")}return y}function O(g){let y=0,B=0,M=0,ba=0;const ia=[];for(const {key:ya,data:wa}of g)switch(ya){case "M":ia.push({key:"M",data:[...wa]});[y,B]=wa;[M,ba]=wa;break;case "m":y+=wa[0];B+=wa[1];ia.push({key:"M",data:[y,B]});M=y;ba=B;break;case "L":ia.push({key:"L",data:[...wa]});[y,B]=wa;break;case "l":y+=wa[0];B+=wa[1];ia.push({key:"L",
data:[y,B]});break;case "C":ia.push({key:"C",data:[...wa]});y=wa[4];B=wa[5];break;case "c":g=wa.map((Da,Pa)=>Pa%2?Da+B:Da+y);ia.push({key:"C",data:g});y=g[4];B=g[5];break;case "Q":ia.push({key:"Q",data:[...wa]});y=wa[2];B=wa[3];break;case "q":g=wa.map((Da,Pa)=>Pa%2?Da+B:Da+y);ia.push({key:"Q",data:g});y=g[2];B=g[3];break;case "A":ia.push({key:"A",data:[...wa]});y=wa[5];B=wa[6];break;case "a":y+=wa[5];B+=wa[6];ia.push({key:"A",data:[wa[0],wa[1],wa[2],wa[3],wa[4],y,B]});break;case "H":ia.push({key:"H",
data:[...wa]});y=wa[0];break;case "h":y+=wa[0];ia.push({key:"H",data:[y]});break;case "V":ia.push({key:"V",data:[...wa]});B=wa[0];break;case "v":B+=wa[0];ia.push({key:"V",data:[B]});break;case "S":ia.push({key:"S",data:[...wa]});y=wa[2];B=wa[3];break;case "s":g=wa.map((Da,Pa)=>Pa%2?Da+B:Da+y);ia.push({key:"S",data:g});y=g[2];B=g[3];break;case "T":ia.push({key:"T",data:[...wa]});y=wa[0];B=wa[1];break;case "t":y+=wa[0];B+=wa[1];ia.push({key:"T",data:[y,B]});break;case "Z":case "z":ia.push({key:"Z",
data:[]}),y=M,B=ba}return ia}function X(g){const y=[];var B="";let M=0,ba=0,ia=0,ya=0,wa=0,Da=0;for(const {key:Ka,data:lb}of g){switch(Ka){case "M":y.push({key:"M",data:[...lb]});[M,ba]=lb;[ia,ya]=lb;break;case "C":y.push({key:"C",data:[...lb]});M=lb[4];ba=lb[5];wa=lb[2];Da=lb[3];break;case "L":y.push({key:"L",data:[...lb]});[M,ba]=lb;break;case "H":M=lb[0];y.push({key:"L",data:[M,ba]});break;case "V":ba=lb[0];y.push({key:"L",data:[M,ba]});break;case "S":var Pa=g=0;"C"===B||"S"===B?(g=M+(M-wa),Pa=
ba+(ba-Da)):(g=M,Pa=ba);y.push({key:"C",data:[g,Pa,...lb]});wa=lb[0];Da=lb[1];M=lb[2];ba=lb[3];break;case "T":const [tb,rb]=lb;Pa=g=0;"Q"===B||"T"===B?(g=M+(M-wa),Pa=ba+(ba-Da)):(g=M,Pa=ba);y.push({key:"C",data:[M+2*(g-M)/3,ba+2*(Pa-ba)/3,tb+2*(g-tb)/3,rb+2*(Pa-rb)/3,tb,rb]});wa=g;Da=Pa;M=tb;ba=rb;break;case "Q":const [dc,Yb,zc,fd]=lb;y.push({key:"C",data:[M+2*(dc-M)/3,ba+2*(Yb-ba)/3,zc+2*(dc-zc)/3,fd+2*(Yb-fd)/3,zc,fd]});wa=dc;Da=Yb;M=zc;ba=fd;break;case "A":B=Math.abs(lb[0]);g=Math.abs(lb[1]);Pa=
lb[2];const id=lb[3],vd=lb[4],le=lb[5],ke=lb[6];if(0===B||0===g)y.push({key:"C",data:[M,ba,le,ke,le,ke]}),M=le,ba=ke;else if(M!==le||ba!==ke)V(M,ba,le,ke,B,g,Pa,id,vd).forEach(function(Oe){y.push({key:"C",data:Oe})}),M=le,ba=ke;break;case "Z":y.push({key:"Z",data:[]}),M=ia,ba=ya}B=Ka}return y}function S(g,y,B){return[g*Math.cos(B)-y*Math.sin(B),g*Math.sin(B)+y*Math.cos(B)]}function V(g,y,B,M,ba,ia,ya,wa,Da,Pa){const Ka=(lb=ya,Math.PI*lb/180);var lb;lb=[];if(Pa)[wa,tb,rb,dc]=Pa;else{[g,y]=S(g,y,-Ka);
[B,M]=S(B,M,-Ka);var tb=(g-B)/2;var rb=(y-M)/2;var dc=tb*tb/(ba*ba)+rb*rb/(ia*ia);1<dc&&(dc=Math.sqrt(dc),ba*=dc,ia*=dc);dc=ba*ba;var Yb=ia*ia;wa=(wa===Da?-1:1)*Math.sqrt(Math.abs((dc*Yb-dc*rb*rb-Yb*tb*tb)/(dc*rb*rb+Yb*tb*tb)));rb=wa*ba*rb/ia+(g+B)/2;dc=wa*-ia*tb/ba+(y+M)/2;wa=Math.asin(parseFloat(((y-dc)/ia).toFixed(9)));tb=Math.asin(parseFloat(((M-dc)/ia).toFixed(9)));g<rb&&(wa=Math.PI-wa);B<rb&&(tb=Math.PI-tb);0>wa&&(wa=2*Math.PI+wa);0>tb&&(tb=2*Math.PI+tb);Da&&wa>tb&&(wa-=2*Math.PI);!Da&&tb>wa&&
(tb-=2*Math.PI)}if(Math.abs(tb-wa)>120*Math.PI/180){lb=tb;Yb=B;const zc=M;tb=Da&&tb>wa?wa+120*Math.PI/180:wa+120*Math.PI/180*-1;lb=V(B=rb+ba*Math.cos(tb),M=dc+ia*Math.sin(tb),Yb,zc,ba,ia,ya,0,Da,[tb,lb,rb,dc])}ya=Math.tan((tb-wa)/4);ba=4/3*ba*ya;ya*=4/3*ia;ia=[g,y];g=[g+ba*Math.sin(wa),y-ya*Math.cos(wa)];y=[B+ba*Math.sin(tb),M-ya*Math.cos(tb)];B=[B,M];if(g[0]=2*ia[0]-g[0],g[1]=2*ia[1]-g[1],Pa)return[g,y,B].concat(lb);lb=[g,y,B].concat(lb);Pa=[];for(B=0;B<lb.length;B+=3)M=S(lb[B][0],lb[B][1],Ka),g=
S(lb[B+1][0],lb[B+1][1],Ka),y=S(lb[B+2][0],lb[B+2][1],Ka),Pa.push([M[0],M[1],g[0],g[1],y[0],y[1]]);return Pa}function N(g,y,B){const M=(g||[]).length;if(2<M){const ba=[];for(let ia=0;ia<M-1;ia++)ba.push(...va(g[ia][0],g[ia][1],g[ia+1][0],g[ia+1][1],B));return y&&ba.push(...va(g[M-1][0],g[M-1][1],g[0][0],g[0][1],B)),{type:"path",ops:ba}}return 2===M?{type:"path",ops:va(g[0][0],g[0][1],g[1][0],g[1][1],B)}:{type:"path",ops:[]}}function P(g,y){let B=Wa(g,1+.2*y.roughness,y);if(!y.disableMultiStroke){var M=
1.5*(1+.22*y.roughness);const ba=Object.assign({},y);ba.randomizer=void 0;y.seed&&(ba.seed=y.seed+1);g=Wa(g,M,ba);B=B.concat(g)}return{type:"path",ops:B}}function L(g,y,B){const M=2*Math.PI/Math.max(B.curveStepCount,B.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(g/2,2)+Math.pow(y/2,2))/2)));g=Math.abs(g/2);y=Math.abs(y/2);const ba=1-B.curveFitting;return g+=Ba(g*ba,B),y+=Ba(y*ba,B),{increment:M,rx:g,ry:y}}function aa(g,y,B,M){const [ba,ia]=bb(M.increment,g,y,M.rx,M.ry,1,M.increment*
xa(.1,xa(.4,1,B),B),B);let ya=Ta(ba,null,B);B.disableMultiStroke||([g]=bb(M.increment,g,y,M.rx,M.ry,1.5,0,B),B=Ta(g,null,B),ya=ya.concat(B));return{estimatedPoints:ia,opset:{type:"path",ops:ya}}}function sa(g,y,B,M,ba,ia,ya,wa,Da){B=Math.abs(B/2);M=Math.abs(M/2);B+=Ba(.01*B,Da);for(M+=Ba(.01*M,Da);0>ba;)ba+=2*Math.PI,ia+=2*Math.PI;ia-ba>2*Math.PI&&(ba=0,ia=2*Math.PI);var Pa=Math.min(2*Math.PI/Da.curveStepCount/2,(ia-ba)/2);const Ka=Jb(Pa,g,y,B,M,ba,ia,1,Da);Da.disableMultiStroke||(Pa=Jb(Pa,g,y,B,
M,ba,ia,1.5,Da),Ka.push(...Pa));return ya&&(wa?Ka.push(...va(g,y,g+B*Math.cos(ba),y+M*Math.sin(ba),Da),...va(g,y,g+B*Math.cos(ia),y+M*Math.sin(ia),Da)):Ka.push({op:"lineTo",data:[g,y]},{op:"lineTo",data:[g+B*Math.cos(ba),y+M*Math.sin(ba)]})),{type:"path",ops:Ka}}function W(g,y){const B=[];if(g.length){const M=y.maxRandomnessOffset||0,ba=g.length;if(2<ba){B.push({op:"move",data:[g[0][0]+Ba(M,y),g[0][1]+Ba(M,y)]});for(let ia=1;ia<ba;ia++)B.push({op:"lineTo",data:[g[ia][0]+Ba(M,y),g[ia][1]+Ba(M,y)]})}}return{type:"fillPath",
ops:B}}function na(g,y){var B=Gd;let M=y.fillStyle||"hachure";if(!Bf[M])switch(M){case "zigzag":Bf[M]||(Bf[M]=new ee(B));break;case "cross-hatch":Bf[M]||(Bf[M]=new nf(B));break;case "dots":Bf[M]||(Bf[M]=new Yg(B));break;case "dashed":Bf[M]||(Bf[M]=new Oh(B));break;case "zigzag-line":Bf[M]||(Bf[M]=new Ph(B));break;default:M="hachure",Bf[M]||(Bf[M]=new Rd(B))}return Bf[M].fillPolygon(g,y)}function ra(g){return g.randomizer||(g.randomizer=new Se(g.seed||0)),g.randomizer.next()}function xa(g,y,B,M=1){return B.roughness*
M*(ra(B)*(y-g)+g)}function Ba(g,y,B=1){return xa(-g,g,y,B)}function va(g,y,B,M,ba,ia=!1){const ya=ia?ba.disableMultiStrokeFill:ba.disableMultiStroke;ia=Ma(g,y,B,M,ba,!0,!1);if(ya)return ia;g=Ma(g,y,B,M,ba,!0,!0);return ia.concat(g)}function Ma(g,y,B,M,ba,ia,ya){var wa=Math.pow(g-B,2)+Math.pow(y-M,2),Da=Math.sqrt(wa);let Pa;Pa=200>Da?1:500<Da?.4:-.0016668*Da+1.233334;let Ka=ba.maxRandomnessOffset||0;Ka*Ka*100>wa&&(Ka=Da/10);wa=Ka/2;Da=.2+.2*ra(ba);let lb=ba.bowing*ba.maxRandomnessOffset*(M-y)/200,
tb=ba.bowing*ba.maxRandomnessOffset*(g-B)/200;lb=Ba(lb,ba,Pa);tb=Ba(tb,ba,Pa);const rb=[];return ia&&(ya?rb.push({op:"move",data:[g+Ba(wa,ba,Pa),y+Ba(wa,ba,Pa)]}):rb.push({op:"move",data:[g+Ba(Ka,ba,Pa),y+Ba(Ka,ba,Pa)]})),ya?rb.push({op:"bcurveTo",data:[lb+g+(B-g)*Da+Ba(wa,ba,Pa),tb+y+(M-y)*Da+Ba(wa,ba,Pa),lb+g+2*(B-g)*Da+Ba(wa,ba,Pa),tb+y+2*(M-y)*Da+Ba(wa,ba,Pa),B+Ba(wa,ba,Pa),M+Ba(wa,ba,Pa)]}):rb.push({op:"bcurveTo",data:[lb+g+(B-g)*Da+Ba(Ka,ba,Pa),tb+y+(M-y)*Da+Ba(Ka,ba,Pa),lb+g+2*(B-g)*Da+Ba(Ka,
ba,Pa),tb+y+2*(M-y)*Da+Ba(Ka,ba,Pa),B+Ba(Ka,ba,Pa),M+Ba(Ka,ba,Pa)]}),rb}function Wa(g,y,B){const M=[];M.push([g[0][0]+Ba(y,B),g[0][1]+Ba(y,B)]);M.push([g[0][0]+Ba(y,B),g[0][1]+Ba(y,B)]);for(let ba=1;ba<g.length;ba++)M.push([g[ba][0]+Ba(y,B),g[ba][1]+Ba(y,B)]),ba===g.length-1&&M.push([g[ba][0]+Ba(y,B),g[ba][1]+Ba(y,B)]);return Ta(M,null,B)}function Ta(g,y,B){const M=g.length,ba=[];if(3<M){const ia=[],ya=1-B.curveTightness;ba.push({op:"move",data:[g[1][0],g[1][1]]});for(let wa=1;wa+2<M;wa++){const Da=
g[wa];ia[0]=[Da[0],Da[1]];ia[1]=[Da[0]+(ya*g[wa+1][0]-ya*g[wa-1][0])/6,Da[1]+(ya*g[wa+1][1]-ya*g[wa-1][1])/6];ia[2]=[g[wa+1][0]+(ya*g[wa][0]-ya*g[wa+2][0])/6,g[wa+1][1]+(ya*g[wa][1]-ya*g[wa+2][1])/6];ia[3]=[g[wa+1][0],g[wa+1][1]];ba.push({op:"bcurveTo",data:[ia[1][0],ia[1][1],ia[2][0],ia[2][1],ia[3][0],ia[3][1]]})}y&&2===y.length&&(g=B.maxRandomnessOffset,ba.push({op:"lineTo",data:[y[0]+Ba(g,B),y[1]+Ba(g,B)]}))}else 3===M?(ba.push({op:"move",data:[g[1][0],g[1][1]]}),ba.push({op:"bcurveTo",data:[g[1][0],
g[1][1],g[2][0],g[2][1],g[2][0],g[2][1]]})):2===M&&ba.push(...va(g[0][0],g[0][1],g[1][0],g[1][1],B));return ba}function bb(g,y,B,M,ba,ia,ya,wa){const Da=[],Pa=[],Ka=Ba(.5,wa)-Math.PI/2;Pa.push([Ba(ia,wa)+y+.9*M*Math.cos(Ka-g),Ba(ia,wa)+B+.9*ba*Math.sin(Ka-g)]);for(let lb=Ka;lb<2*Math.PI+Ka-.01;lb+=g){const tb=[Ba(ia,wa)+y+M*Math.cos(lb),Ba(ia,wa)+B+ba*Math.sin(lb)];Da.push(tb);Pa.push(tb)}return Pa.push([Ba(ia,wa)+y+M*Math.cos(Ka+2*Math.PI+.5*ya),Ba(ia,wa)+B+ba*Math.sin(Ka+2*Math.PI+.5*ya)]),Pa.push([Ba(ia,
wa)+y+.98*M*Math.cos(Ka+ya),Ba(ia,wa)+B+.98*ba*Math.sin(Ka+ya)]),Pa.push([Ba(ia,wa)+y+.9*M*Math.cos(Ka+.5*ya),Ba(ia,wa)+B+.9*ba*Math.sin(Ka+.5*ya)]),[Pa,Da]}function Jb(g,y,B,M,ba,ia,ya,wa,Da){var Pa=ia+Ba(.1,Da);ia=[];for(ia.push([Ba(wa,Da)+y+.9*M*Math.cos(Pa-g),Ba(wa,Da)+B+.9*ba*Math.sin(Pa-g)]);Pa<=ya;Pa+=g)ia.push([Ba(wa,Da)+y+M*Math.cos(Pa),Ba(wa,Da)+B+ba*Math.sin(Pa)]);return ia.push([y+M*Math.cos(ya),B+ba*Math.sin(ya)]),ia.push([y+M*Math.cos(ya),B+ba*Math.sin(ya)]),Ta(ia,null,Da)}function Hb(g,
y,B,M,ba,ia,ya,wa){const Da=[],Pa=[wa.maxRandomnessOffset||1,(wa.maxRandomnessOffset||1)+.3];let Ka;const lb=wa.disableMultiStroke?1:2;for(let tb=0;tb<lb;tb++)0===tb?Da.push({op:"move",data:[ya[0],ya[1]]}):Da.push({op:"move",data:[ya[0]+Ba(Pa[0],wa),ya[1]+Ba(Pa[0],wa)]}),Ka=[ba+Ba(Pa[tb],wa),ia+Ba(Pa[tb],wa)],Da.push({op:"bcurveTo",data:[g+Ba(Pa[tb],wa),y+Ba(Pa[tb],wa),B+Ba(Pa[tb],wa),M+Ba(Pa[tb],wa),Ka[0],Ka[1]]});return Da}function Tb(g){var y,B,M="";if("string"==typeof g||"number"==typeof g)M+=
g;else if("object"==typeof g)if(Array.isArray(g))for(y=0;y<g.length;y++)g[y]&&(B=Tb(g[y]))&&(M&&(M+=" "),M+=B);else for(y in g)g[y]&&(M&&(M+=" "),M+=y);return M}function mc(){for(var g,y,B=0,M="";B<arguments.length;)(g=arguments[B++])&&(y=Tb(g))&&(M&&(M+=" "),M+=y);return M}function Gb(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function $b(g){for(var y=
1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Gb(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Gb(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Ub(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,
ba).enumerable}));B.push.apply(B,M)}return B}function zb(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Ub(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Ub(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function fb(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function cb(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?fb(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):fb(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Ja(g,y){var B=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Ha(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Ja(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Ja(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,
M))})}return g}function Sa(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function hb(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Sa(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Sa(Object(B)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Vb(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Rb(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Hc(g){for(var y=
1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Rb(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Rb(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Kc(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,
ba).enumerable}));B.push.apply(B,M)}return B}function Dc(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Kc(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Kc(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Ic(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Wc(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Ic(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Ic(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Kd(g,y){var B=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function kd(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Kd(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Kd(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,
M))})}return g}function we(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function te(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?we(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):we(Object(B)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(B,M))})}return g}function rd(g){var y=g.options,B=g.value,M=g.label,ba=g.onChange,ia=g.onClose,ya=Ea().useRef(),wa=Ea().useRef(),Da=Ea().useRef(null);Ea().useEffect(function(){wa.current?wa.current.focus():Da.current&&Da.current.focus()},[]);return Ea().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":M,onKeyDown:function(Pa){var Ka=y.find(function(dc){return dc.keyBinding===Pa.key.toLowerCase()});if(Pa.metaKey||Pa.altKey||Pa.ctrlKey||
!Ka)if("Tab"===Pa.key)setTimeout(function(){wa.current!==document.activeElement&&ia()},0);else if(yg(Pa.key)){Ka=ua.rtl;if(-1!==(rb=Array.prototype.indexOf.call(Da.current.children,document.activeElement))){var lb=y.length,tb=rb;switch(Pa.key){case Ka?"ArrowLeft":"ArrowRight":case "ArrowDown":tb=(rb+1)%lb;break;case Ka?"ArrowRight":"ArrowLeft":case "ArrowUp":tb=(lb+rb-1)%lb}Da.current.children[tb].focus()}Pa.preventDefault()}else"Escape"!==Pa.key&&"Enter"!==Pa.key||(Pa.preventDefault(),ia());else{var rb=
y.indexOf(Ka);Da.current.children[rb].focus();Pa.preventDefault()}Pa.nativeEvent.stopImmediatePropagation()}},Ea().createElement("div",{className:"picker-content",ref:Da},y.map(function(Pa,Ka){return Ea().createElement("button",{className:"picker-option",onClick:function(lb){lb.currentTarget.focus();ba(Pa.value)},title:"".concat(Pa.text," — ").concat(Pa.keyBinding.toUpperCase()),"aria-label":Pa.text||"none","aria-keyshortcuts":Pa.keyBinding,key:Pa.text,ref:function(lb){lb&&0===Ka&&(ya.current=lb);
lb&&Pa.value===B&&(wa.current=lb)},onFocus:function(){ba(Pa.value)}},Pa.icon,Ea().createElement("span",{className:"picker-keybinding"},Pa.keyBinding))})))}function wd(g){var y,B=g.value,M=g.label,ba=g.options,ia=g.onChange;g=g.group;g=void 0===g?"":g;var ya=Ea().useState(!1),wa=ya[0],Da=ya[1],Pa=Ea().useRef(null);ya=ua.rtl;return Ea().createElement("label",{className:"picker-container"},Ea().createElement("button",{name:g,className:wa?"active":"","aria-label":M,onClick:function(){return Da(!wa)},
ref:Pa},null===(y=ba.find(function(Ka){return Ka.value===B}))||void 0===y?void 0:y.icon),Ea().createElement(Ea().Suspense,{fallback:""},wa?Ea().createElement(Ea().Fragment,null,Ea().createElement(jb,Pd()({onCloseRequest:function(Ka){return Ka.target!==Pa.current&&Da(!1)}},ya?{right:5.5}:{left:-5.5}),Ea().createElement(rd,{options:ba,value:B,label:M,onChange:ia,onClose:function(){var Ka;Da(!1);null===(Ka=Pa.current)||void 0===Ka||Ka.focus()}})),Ea().createElement("div",{className:"picker-triangle"})):
null))}function Ge(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Ne(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Ge(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Ge(Object(B)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Ve(){return(0,jc.useContext)(lg)}function pf(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Ke(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?pf(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,
Object.getOwnPropertyDescriptors(B)):pf(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Ff(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Fg(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Ff(Object(B),!0).forEach(function(M){pd()(g,
M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Ff(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}async function th(...g){return(await wm).default(...g)}async function jh(...g){return(await rf).default(...g)}function Le(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,
ba).enumerable}));B.push.apply(B,M)}return B}function We(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Le(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Le(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function sg(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Fe(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?sg(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):sg(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function sb(g,y){var B=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Db(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?sb(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):sb(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,
M))})}return g}function ob(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Xa(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?ob(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):ob(Object(B)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(B,M))})}return g}function ib(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function vb(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?ib(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):
ib(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Sb(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function rc(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Sb(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Sb(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function vc(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Nc(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?vc(Object(B),
!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):vc(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function sd(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Yc(g){for(var y=1;y<arguments.length;y++){var B=
null!=arguments[y]?arguments[y]:{};y%2?sd(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):sd(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Xd(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,
M)}return B}function uc(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Xd(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Xd(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Xb(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,
ba).enumerable}));B.push.apply(B,M)}return B}function he(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Xb(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Xb(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function dd(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);
y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Ae(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?dd(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):dd(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function qb(g,y){var B=Object.keys(g);
if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function ic(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?qb(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):qb(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,
M))})}return g}function mb(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function kc(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?mb(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):mb(Object(B)).forEach(function(M){Object.defineProperty(g,
M,Object.getOwnPropertyDescriptor(B,M))})}return g}function ld(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Ad(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?ld(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):
ld(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Ud(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Xe(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Ud(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Ud(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Fc(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Tc(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Fc(Object(B),
!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Fc(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function nc(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function yb(g){for(var y=1;y<arguments.length;y++){var B=
null!=arguments[y]?arguments[y]:{};y%2?nc(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):nc(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function yd(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,
M)}return B}function lf(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Od(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,M)}return B}function Xf(g){for(var y=1;y<arguments.length;y++){var B=
null!=arguments[y]?arguments[y]:{};y%2?Od(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Od(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}function Ga(g,y){var B=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);y&&(M=M.filter(function(ba){return Object.getOwnPropertyDescriptor(g,ba).enumerable}));B.push.apply(B,
M)}return B}function Va(g){for(var y=1;y<arguments.length;y++){var B=null!=arguments[y]?arguments[y]:{};y%2?Ga(Object(B),!0).forEach(function(M){pd()(g,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(B)):Ga(Object(B)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(B,M))})}return g}e.r(m);e.d(m,{default:()=>du,defaultLang:()=>Za,getElementMap:()=>Yi,getSceneVersion:()=>Yk,getSyncableElements:()=>Gk,languages:()=>fa,
restore:()=>fn,restoreAppState:()=>dn,restoreElements:()=>rk});var Ra=e(7154),kb=e.n(Ra),Kb=e(6479),sc=e.n(Kb),jc=e(4698),Ea=e.n(jc),hc=e(8288);const Uc=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.2"}');"production"!==hc.Vi.TEST&&(e.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Uc.u2,"@").concat(Uc.i8,"/dist/"));var Ld=e(5374),Pc=e.n(Ld),Sd=e(2829),Yf=e(2051),ae=function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");
for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=
Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya},Za={code:"en",label:"English"},fa=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",
label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},
{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Za]).sort(function(g,y){return g.label>y.label?1:-1}).filter(function(g){return 85<=Yf[g.code]});"production"===hc.Vi.DEVELOPMENT&&fa.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var la,ua=Za,La={},gb=function(){var g=Pc()(function(y){return ae(this,function(B){switch(B.label){case 0:return ua=
y,document.documentElement.dir=ua.rtl?"rtl":"ltr",document.documentElement.lang=ua.code,y.code.startsWith("__test__")?(La={},[3,3]):[3,1];case 1:return[4,e(788)("./".concat(ua.code,".json"))];case 2:La=B.sent(),B.label=3;case 3:return[2]}})});return function(y){return g.apply(this,arguments)}}(),wb=function(g,y){for(var B=0;B<y.length;++B){var M=y[B];if(void 0===g[M])return;g=g[M]}if("string"==typeof g)return g},eb=function(g,y){if(ua.code.startsWith("__test__"))return g=y?"".concat(g,"(").concat(JSON.stringify(y).slice(1,
-1),")"):g,"‪[[".concat(g,"]]‬");var B=g.split(".");B=wb(La,B)||wb(Sd,B);if(void 0===B)throw Error("Can't find translation for ".concat(g));if(y)for(var M in y)B=B.replace("{{".concat(M,"}}"),y[M]);return B},oc=function(){return Ea().createElement("div",{className:"LoadingMessage"},Ea().createElement("span",null,eb("labels.loadingScene")))},Zc=(la=function(g,y){return(la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,M){B.__proto__=M}||function(B,M){for(var ba in M)Object.prototype.hasOwnProperty.call(M,
ba)&&(B[ba]=M[ba])})(g,y)},function(g,y){function B(){this.constructor=g}la(g,y);g.prototype=null===y?Object.create(y):(B.prototype=y.prototype,new B)}),Cd=function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;
case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=
ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},se=function(g){function y(){for(var B=[],M=0;M<arguments.length;M++)B[M]=arguments[M];var ba;M=this;return ba=M=g.apply(this,B)||this,M.state={isLoading:!0},ba}return Zc(y,g),y.prototype.componentDidMount=
function(){var B=this;return Pc()(function(){var M;return Cd(this,function(ba){switch(ba.label){case 0:return M=fa.find(function(ia){return ia.code===B.props.langCode})||Za,[4,gb(M)];case 1:return ba.sent(),B.setState({isLoading:!1}),[2]}})})()},y.prototype.render=function(){return this.state.isLoading?Ea().createElement(oc,null):this.props.children},y}(Ea().Component),ye=e(566),pd=e.n(ye);class Rd{constructor(g){this.helper=g}fillPolygon(g,y){return this._fillPolygon(g,y)}_fillPolygon(g,y,B=!1){let M=
ha(g,y);B&&(g=this.connectingLines(g,M),M=M.concat(g));return{type:"fillSketch",ops:this.renderLines(M,y)}}renderLines(g,y){const B=[];for(const M of g)B.push(...this.helper.doubleLineOps(M[0][0],M[0][1],M[1][0],M[1][1],y));return B}connectingLines(g,y){const B=[];if(1<y.length)for(let ba=1;ba<y.length;ba++){var M=y[ba-1];3>D(M)||(M=[y[ba][0],M[1]],3<D(M)&&(M=this.splitOnIntersections(g,M),B.push(...M)))}return B}midPointInPolygon(g,y){return R(g,(y[0][0]+y[1][0])/2,(y[0][1]+y[1][1])/2)}splitOnIntersections(g,
y){var B=Math.max(5,.1*D(y)),M=[];for(var ba=0;ba<g.length;ba++){var ia=g[ba],ya=g[(ba+1)%g.length];if(ma(ia,ya,...y)&&(ia=x(ia,ya,y[0],y[1]))){ya=D([ia,y[0]]);const wa=D([ia,y[1]]);ya>B&&wa>B&&M.push({point:ia,distance:ya})}}if(1<M.length){B=M.sort((wa,Da)=>wa.distance-Da.distance).map(wa=>wa.point);if(R(g,...y[0])||B.shift(),R(g,...y[1])||B.pop(),1>=B.length)return this.midPointInPolygon(g,y)?[y]:[];y=[y[0],...B,y[1]];B=[];for(M=0;M<y.length-1;M+=2)ba=[y[M],y[M+1]],this.midPointInPolygon(g,ba)&&
B.push(ba);return B}return this.midPointInPolygon(g,y)?[y]:[]}}class ee extends Rd{fillPolygon(g,y){return this._fillPolygon(g,y,!0)}}class nf extends Rd{fillPolygon(g,y){const B=this._fillPolygon(g,y);y=Object.assign({},y,{hachureAngle:y.hachureAngle+90});g=this._fillPolygon(g,y);return B.ops=B.ops.concat(g.ops),B}}class Yg{constructor(g){this.helper=g}fillPolygon(g,y){g=ha(g,y=Object.assign({},y,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(g,y)}dotsOnLines(g,y){const B=
[];let M=y.hachureGap;0>M&&(M=4*y.strokeWidth);M=Math.max(M,.1);let ba=y.fillWeight;0>ba&&(ba=y.strokeWidth/2);const ia=M/4;for(const Pa of g){var ya=D(Pa);g=Math.ceil(ya/M)-1;ya-=g*M;const Ka=(Pa[0][0]+Pa[1][0])/2-M/4,lb=Math.min(Pa[0][1],Pa[1][1]);for(let tb=0;tb<g;tb++){var wa=lb+ya+tb*M,Da=this.helper.randOffsetWithRange(Ka-ia,Ka+ia,y);wa=this.helper.randOffsetWithRange(wa-ia,wa+ia,y);Da=this.helper.ellipse(Da,wa,ba,ba,y);B.push(...Da.ops)}}return{type:"fillSketch",ops:B}}}class Oh{constructor(g){this.helper=
g}fillPolygon(g,y){g=ha(g,y);return{type:"fillSketch",ops:this.dashedLine(g,y)}}dashedLine(g,y){const B=0>y.dashOffset?0>y.hachureGap?4*y.strokeWidth:y.hachureGap:y.dashOffset,M=0>y.dashGap?0>y.hachureGap?4*y.strokeWidth:y.hachureGap:y.dashGap,ba=[];return g.forEach(ia=>{var ya=D(ia);const wa=Math.floor(ya/(B+M));ya=(ya+M-wa*(B+M))/2;let Da=ia[0];var Pa=ia[1];Da[0]>Pa[0]&&(Da=ia[1],Pa=ia[0]);ia=Math.atan((Pa[1]-Da[1])/(Pa[0]-Da[0]));for(Pa=0;Pa<wa;Pa++){var Ka=Pa*(B+M),lb=Ka+B;Ka=[Da[0]+Ka*Math.cos(ia)+
ya*Math.cos(ia),Da[1]+Ka*Math.sin(ia)+ya*Math.sin(ia)];lb=[Da[0]+lb*Math.cos(ia)+ya*Math.cos(ia),Da[1]+lb*Math.sin(ia)+ya*Math.sin(ia)];ba.push(...this.helper.doubleLineOps(Ka[0],Ka[1],lb[0],lb[1],y))}}),ba}}class Ph{constructor(g){this.helper=g}fillPolygon(g,y){const B=0>y.hachureGap?4*y.strokeWidth:y.hachureGap,M=0>y.zigzagOffset?B:y.zigzagOffset;g=ha(g,y=Object.assign({},y,{hachureGap:B+M}));return{type:"fillSketch",ops:this.zigzagLines(g,M,y)}}zigzagLines(g,y,B){const M=[];return g.forEach(ba=>
{var ia=D(ba);ia=Math.round(ia/(2*y));let ya=ba[0];var wa=ba[1];ya[0]>wa[0]&&(ya=ba[1],wa=ba[0]);ba=Math.atan((wa[1]-ya[1])/(wa[0]-ya[0]));for(wa=0;wa<ia;wa++){var Da=2*wa*y,Pa=2*(wa+1)*y,Ka=Math.sqrt(2*Math.pow(y,2));Da=[ya[0]+Da*Math.cos(ba),ya[1]+Da*Math.sin(ba)];Pa=[ya[0]+Pa*Math.cos(ba),ya[1]+Pa*Math.sin(ba)];Ka=[Da[0]+Ka*Math.cos(ba+Math.PI/4),Da[1]+Ka*Math.sin(ba+Math.PI/4)];M.push(...this.helper.doubleLineOps(Da[0],Da[1],Ka[0],Ka[1],B),...this.helper.doubleLineOps(Ka[0],Ka[1],Pa[0],Pa[1],
B))}}),M}}const Bf={};class Se{constructor(g){this.seed=g}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const dh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Gd={randOffset:function(g,y){return Ba(g,y)},randOffsetWithRange:function(g,y,B){return xa(g,y,B)},ellipse:function(g,y,B,M,ba){B=L(B,M,ba);return aa(g,y,ba,B).opset},doubleLineOps:function(g,y,B,M,ba){return va(g,y,B,M,ba,!0)}};class Bh{constructor(g){this.defaultOptions=
{maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=g||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(g){return g?Object.assign({},this.defaultOptions,
g):this.defaultOptions}_d(g,y,B){return{shape:g,sets:y||[],options:B||this.defaultOptions}}line(g,y,B,M,ba){ba=this._o(ba);return this._d("line",[{type:"path",ops:va(g,y,B,M,ba)}],ba)}rectangle(g,y,B,M,ba){ba=this._o(ba);const ia=[];var ya=N([[g,y],[g+B,y],[g+B,y+M],[g,y+M]],!0,ba);ba.fill&&(g=[[g,y],[g+B,y],[g+B,y+M],[g,y+M]],"solid"===ba.fillStyle?ia.push(W(g,ba)):ia.push(na(g,ba)));return"none"!==ba.stroke&&ia.push(ya),this._d("rectangle",ia,ba)}ellipse(g,y,B,M,ba){ba=this._o(ba);const ia=[];M=
L(B,M,ba);B=aa(g,y,ba,M);ba.fill&&("solid"===ba.fillStyle?(g=aa(g,y,ba,M).opset,g.type="fillPath",ia.push(g)):ia.push(na(B.estimatedPoints,ba)));return"none"!==ba.stroke&&ia.push(B.opset),this._d("ellipse",ia,ba)}circle(g,y,B,M){g=this.ellipse(g,y,B,B,M);return g.shape="circle",g}linearPath(g,y){y=this._o(y);return this._d("linearPath",[N(g,!1,y)],y)}arc(g,y,B,M,ba,ia,ya=!1,wa){wa=this._o(wa);const Da=[],Pa=sa(g,y,B,M,ba,ia,ya,!0,wa);if(ya&&wa.fill)if("solid"===wa.fillStyle)g=sa(g,y,B,M,ba,ia,!0,
!1,wa),g.type="fillPath",Da.push(g);else{ya=Da.push;B=Math.abs(B/2);M=Math.abs(M/2);B+=Ba(.01*B,wa);for(M+=Ba(.01*M,wa);0>ba;)ba+=2*Math.PI,ia+=2*Math.PI;ia-ba>2*Math.PI&&(ba=0,ia=2*Math.PI);const Ka=(ia-ba)/wa.curveStepCount,lb=[];for(;ba<=ia;ba+=Ka)lb.push([g+B*Math.cos(ba),y+M*Math.sin(ba)]);g=(lb.push([g+B*Math.cos(ia),y+M*Math.sin(ia)]),lb.push([g,y]),na(lb,wa));ya.call(Da,g)}return"none"!==wa.stroke&&Da.push(Pa),this._d("arc",Da,wa)}curve(g,y){y=this._o(y);const B=[],M=P(g,y);y.fill&&"none"!==
y.fill&&3<=g.length&&(g=G(function(ba,ia=0){var ya=ba.length;if(3>ya)throw Error("A curve must have at least three points.");const wa=[];if(3===ya)wa.push([...ba[0]],[...ba[1]],[...ba[2]],[...ba[2]]);else{ya=[];ya.push(ba[0],ba[0]);for(var Da=1;Da<ba.length;Da++)ya.push(ba[Da]),Da===ba.length-1&&ya.push(ba[Da]);ba=[];ia=1-ia;wa.push([...ya[0]]);for(Da=1;Da+2<ya.length;Da++){const Pa=ya[Da];ba[0]=[Pa[0],Pa[1]];ba[1]=[Pa[0]+(ia*ya[Da+1][0]-ia*ya[Da-1][0])/6,Pa[1]+(ia*ya[Da+1][1]-ia*ya[Da-1][1])/6];
ba[2]=[ya[Da+1][0]+(ia*ya[Da][0]-ia*ya[Da+2][0])/6,ya[Da+1][1]+(ia*ya[Da][1]-ia*ya[Da+2][1])/6];ba[3]=[ya[Da+1][0],ya[Da+1][1]];wa.push(ba[1],ba[2],ba[3])}}return wa}(g),10,(1+y.roughness)/2),"solid"===y.fillStyle?B.push(W(g,y)):B.push(na(g,y)));return"none"!==y.stroke&&B.push(M),this._d("curve",B,y)}polygon(g,y){y=this._o(y);const B=[],M=N(g,!0,y);return y.fill&&("solid"===y.fillStyle?B.push(W(g,y)):B.push(na(g,y))),"none"!==y.stroke&&B.push(M),this._d("polygon",B,y)}path(g,y){const B=this._o(y),
M=[];if(!g)return this._d("path",M,B);g=(g||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");y=B.fill&&"transparent"!==B.fill&&"none"!==B.fill;const ba="none"!==B.stroke,ia=!!(B.simplification&&1>B.simplification),ya=function(wa,Da,Pa){var Ka=X(O(ea(wa)));wa=[];let lb=[];var tb=[0,0];let rb=[];const dc=()=>{4<=rb.length&&lb.push(...G(rb,Da));rb=[]};for(const {key:Yb,data:zc}of Ka)switch(Yb){case "M":dc();lb.length&&(wa.push(lb),lb=[]);tb=[zc[0],zc[1]];lb.push(tb);break;case "L":dc();
lb.push([zc[0],zc[1]]);break;case "C":rb.length||(Ka=lb.length?lb[lb.length-1]:tb,rb.push([Ka[0],Ka[1]]));rb.push([zc[0],zc[1]]);rb.push([zc[2],zc[3]]);rb.push([zc[4],zc[5]]);break;case "Z":dc(),lb.push([tb[0],tb[1]])}dc();lb.length&&(wa.push(lb),lb=[]);if(!Pa)return wa;tb=[];for(const Yb of wa)wa=E(Yb,Pa),wa.length&&tb.push(wa);return tb}(g,1,ia?4-4*B.simplification:(1+B.roughness)/2);if(y)if(B.combineNestedSvgPaths){const wa=[];ya.forEach(Da=>wa.push(...Da));"solid"===B.fillStyle?M.push(W(wa,B)):
M.push(na(wa,B))}else ya.forEach(wa=>{"solid"===B.fillStyle?M.push(W(wa,B)):M.push(na(wa,B))});return ba&&(ia?ya.forEach(wa=>{M.push(N(wa,!1,B))}):M.push(function(wa,Da){wa=X(O(ea(wa)));const Pa=[];let Ka=[0,0],lb=[0,0];for(const {key:tb,data:rb}of wa)switch(tb){case "M":const dc=1*(Da.maxRandomnessOffset||0);Pa.push({op:"move",data:rb.map(ke=>ke+Ba(dc,Da))});lb=[rb[0],rb[1]];Ka=[rb[0],rb[1]];break;case "L":Pa.push(...va(lb[0],lb[1],rb[0],rb[1],Da));lb=[rb[0],rb[1]];break;case "C":const [Yb,zc,fd,
id,vd,le]=rb;Pa.push(...Hb(Yb,zc,fd,id,vd,le,lb,Da));lb=[vd,le];break;case "Z":Pa.push(...va(lb[0],lb[1],Ka[0],Ka[1],Da)),lb=[Ka[0],Ka[1]]}return{type:"path",ops:Pa}}(g,B))),this._d("path",M,B)}opsToPath(g){let y="";for(const B of g.ops)switch(g=B.data,B.op){case "move":y+=`M${g[0]} ${g[1]} `;break;case "bcurveTo":y+=`C${g[0]} ${g[1]}, ${g[2]} ${g[3]}, ${g[4]} ${g[5]} `;break;case "lineTo":y+=`L${g[0]} ${g[1]} `}return y.trim()}toPaths(g){var y=g.sets||[];g=g.options||this.defaultOptions;const B=
[];for(const M of y){y=null;switch(M.type){case "path":y={d:this.opsToPath(M),stroke:g.stroke,strokeWidth:g.strokeWidth,fill:"none"};break;case "fillPath":y={d:this.opsToPath(M),stroke:"none",strokeWidth:0,fill:g.fill||"none"};break;case "fillSketch":y=this.fillSketch(M,g)}y&&B.push(y)}return B}fillSketch(g,y){let B=y.fillWeight;return 0>B&&(B=y.strokeWidth/2),{d:this.opsToPath(g),stroke:y.fill||"none",strokeWidth:B,fill:"none"}}}class oi{constructor(g,y){this.canvas=g;this.ctx=this.canvas.getContext("2d");
this.gen=new Bh(y)}draw(g){const y=g.sets||[],B=g.options||this.getDefaultOptions(),M=this.ctx;for(const ba of y)switch(ba.type){case "path":M.save();M.strokeStyle="none"===B.stroke?"transparent":B.stroke;M.lineWidth=B.strokeWidth;B.strokeLineDash&&M.setLineDash(B.strokeLineDash);B.strokeLineDashOffset&&(M.lineDashOffset=B.strokeLineDashOffset);this._drawToContext(M,ba);M.restore();break;case "fillPath":M.save();M.fillStyle=B.fill||"";this._drawToContext(M,ba,"curve"===g.shape||"polygon"===g.shape?
"evenodd":"nonzero");M.restore();break;case "fillSketch":this.fillSketch(M,ba,B)}}fillSketch(g,y,B){let M=B.fillWeight;0>M&&(M=B.strokeWidth/2);g.save();B.fillLineDash&&g.setLineDash(B.fillLineDash);B.fillLineDashOffset&&(g.lineDashOffset=B.fillLineDashOffset);g.strokeStyle=B.fill||"";g.lineWidth=M;this._drawToContext(g,y);g.restore()}_drawToContext(g,y,B="nonzero"){g.beginPath();for(const M of y.ops){const ba=M.data;switch(M.op){case "move":g.moveTo(ba[0],ba[1]);break;case "bcurveTo":g.bezierCurveTo(ba[0],
ba[1],ba[2],ba[3],ba[4],ba[5]);break;case "lineTo":g.lineTo(ba[0],ba[1])}}"fillPath"===y.type?g.fill(B):g.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(g,y,B,M,ba){g=this.gen.line(g,y,B,M,ba);return this.draw(g),g}rectangle(g,y,B,M,ba){g=this.gen.rectangle(g,y,B,M,ba);return this.draw(g),g}ellipse(g,y,B,M,ba){g=this.gen.ellipse(g,y,B,M,ba);return this.draw(g),g}circle(g,y,B,M){g=this.gen.circle(g,y,B,M);return this.draw(g),g}linearPath(g,y){g=this.gen.linearPath(g,
y);return this.draw(g),g}polygon(g,y){g=this.gen.polygon(g,y);return this.draw(g),g}arc(g,y,B,M,ba,ia,ya=!1,wa){g=this.gen.arc(g,y,B,M,ba,ia,ya,wa);return this.draw(g),g}curve(g,y){g=this.gen.curve(g,y);return this.draw(g),g}path(g,y){g=this.gen.path(g,y);return this.draw(g),g}}class sk{constructor(g,y){this.svg=g;this.gen=new Bh(y)}draw(g){var y=g.sets||[];const B=g.options||this.getDefaultOptions(),M=this.svg.ownerDocument||window.document,ba=M.createElementNS("http://www.w3.org/2000/svg","g");
for(const ia of y){y=null;switch(ia.type){case "path":y=M.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("d",this.opsToPath(ia));y.setAttribute("stroke",B.stroke);y.setAttribute("stroke-width",B.strokeWidth+"");y.setAttribute("fill","none");B.strokeLineDash&&y.setAttribute("stroke-dasharray",B.strokeLineDash.join(" ").trim());B.strokeLineDashOffset&&y.setAttribute("stroke-dashoffset",`${B.strokeLineDashOffset}`);break;case "fillPath":y=M.createElementNS("http://www.w3.org/2000/svg",
"path");y.setAttribute("d",this.opsToPath(ia));y.setAttribute("stroke","none");y.setAttribute("stroke-width","0");y.setAttribute("fill",B.fill||"");"curve"!==g.shape&&"polygon"!==g.shape||y.setAttribute("fill-rule","evenodd");break;case "fillSketch":y=this.fillSketch(M,ia,B)}y&&ba.appendChild(y)}return ba}fillSketch(g,y,B){let M=B.fillWeight;0>M&&(M=B.strokeWidth/2);g=g.createElementNS("http://www.w3.org/2000/svg","path");return g.setAttribute("d",this.opsToPath(y)),g.setAttribute("stroke",B.fill||
""),g.setAttribute("stroke-width",M+""),g.setAttribute("fill","none"),B.fillLineDash&&g.setAttribute("stroke-dasharray",B.fillLineDash.join(" ").trim()),B.fillLineDashOffset&&g.setAttribute("stroke-dashoffset",`${B.fillLineDashOffset}`),g}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(g){return this.gen.opsToPath(g)}line(g,y,B,M,ba){g=this.gen.line(g,y,B,M,ba);return this.draw(g)}rectangle(g,y,B,M,ba){g=this.gen.rectangle(g,y,B,M,ba);return this.draw(g)}ellipse(g,
y,B,M,ba){g=this.gen.ellipse(g,y,B,M,ba);return this.draw(g)}circle(g,y,B,M){g=this.gen.circle(g,y,B,M);return this.draw(g)}linearPath(g,y){g=this.gen.linearPath(g,y);return this.draw(g)}polygon(g,y){g=this.gen.polygon(g,y);return this.draw(g)}arc(g,y,B,M,ba,ia,ya=!1,wa){g=this.gen.arc(g,y,B,M,ba,ia,ya,wa);return this.draw(g)}curve(g,y){g=this.gen.curve(g,y);return this.draw(g)}path(g,y){g=this.gen.path(g,y);return this.draw(g)}}const Qh={canvas:(g,y)=>new oi(g,y),svg:(g,y)=>new sk(g,y),generator:g=>
new Bh(g),newSeed:()=>Bh.newSeed()};var be=function(g){return null!=g&&"text"===g.type},Gg=function(g){return null!=g&&ej(g.type)},ej=function(g){return"arrow"===g||"line"===g||"draw"===g},og=function(g){return null!=g&&"arrow"===g.type},tk=function(g){return null!=g&&("rectangle"===g.type||"diamond"===g.type||"ellipse"===g.type||"text"===g.type)},Hf=function(g,y,B,M,ba){return[(g-B)*Math.cos(ba)-(y-M)*Math.sin(ba)+B,(g-B)*Math.sin(ba)+(y-M)*Math.cos(ba)+M]},fj=function(g,y,B){return Hf(g[0],g[1],
y[0],y[1],B)},Zf=function(g,y,B,M,ba,ia,ya,wa){var Da=Math.cos(M);M=Math.sin(M);return g.e&&g.w?y+=ba+ya:g.e?(y+=ba*(1+Da),B+=ba*M,y+=ya*(1-Da),B+=ya*-M):g.w&&(y+=ba*(1-Da),B+=ba*-M,y+=ya*(1+Da),B+=ya*M),g.n&&g.s?B+=ia+wa:g.n?(y+=ia*M,B+=ia*(1-Da),y+=wa*-M,B+=wa*(1+Da)):g.s&&(y+=ia*-M,B+=ia*(1+Da),y+=wa*M,B+=wa*(1-Da)),[y,B]},bi=function(g,y){if(void 0===y&&(y=1),3<=g.length){var B=[g[0],g[g.length-1]];g=B[0];B=B[1];return Math.hypot(B[0]-g[0],B[1]-g[1])<=hc.qx/y}return!1},Ci=function(g,y,B){var M=
g.length;if(3>M)return!1;var ba=[Number.MAX_SAFE_INTEGER,B];y=[y,B];for(var ia=B=0;ia<M;ia++){var ya=g[ia],wa=g[(ia+1)%M],Da=ya,Pa=wa,Ka=y,lb=ba,tb=gj(Da,Pa,Ka),rb=gj(Da,Pa,lb),dc=gj(Ka,lb,Da),Yb=gj(Ka,lb,Pa);if(tb!==rb&&dc!==Yb||0===tb&&uk(Da,Ka,Pa)||0===rb&&uk(Da,lb,Pa)||0===dc&&uk(Ka,Da,lb)||0===Yb&&uk(Ka,Pa,lb)){if(0===gj(ya,y,wa))return uk(ya,y,wa);B++}}return 1==B%2},uk=function(g,y,B){return y[0]<=Math.max(g[0],B[0])&&y[0]>=Math.min(g[0],B[0])&&y[1]<=Math.max(g[1],B[1])&&y[1]>=Math.min(g[1],
B[1])},gj=function(g,y,B){g=(y[1]-g[1])*(B[0]-y[0])-(y[0]-g[0])*(B[1]-y[1]);return 0===g?0:0<g?1:2},pi=function(g,y,B){return B?[Math.round(g/B)*B,Math.round(y/B)*B]:[g,y]},Ei=function(g,y,B){var M=B.map(function(Da){return Da[g]}),ba=Math.max.apply(Math,M);M=Math.min.apply(Math,M);ba-=M;var ia=0===ba?1:y/ba,ya=1/0;y=B.map(function(Da){return Da.map(function(Pa,Ka){if(Ka!==g)return Pa;Pa*=ia;return ya=Math.min(Pa,ya),Pa})});if(2===y.length)return y;var wa=M-ya;return y.map(function(Da){return Da.map(function(Pa,
Ka){return Ka===g?Pa+wa:Pa})})},ig=function(g){return Gg(g)?tj(g):[g.x,g.y,g.x+g.width,g.y+g.height]},Fi=function(g){for(var y=0,B=g.sets;y<B.length;y++){var M=B[y];if("path"===M.type)return M.ops}return g.sets[0].ops},wk=function(g,y){var B=[0,0];g=g.reduce(function(M,ba){var ia,ya=ba.op;ba=ba.data;if("move"===ya)B=ba;else if("bcurveTo"===ya){var wa=[ba[0],ba[1]],Da=[ba[2],ba[3]],Pa=[ba[4],ba[5]],Ka=B;B=Pa;ya=function(rb,dc){return Math.pow(1-rb,3)*Pa[dc]+3*rb*Math.pow(1-rb,2)*Da[dc]+3*Math.pow(rb,
2)*(1-rb)*wa[dc]+Ka[dc]*Math.pow(rb,3)};for(ba=0;1>=ba;){var lb=ya(ba,0),tb=ya(ba,1);y&&(lb=(ia=y(lb,tb))[0],tb=ia[1]);M.minY=Math.min(M.minY,tb);M.minX=Math.min(M.minX,lb);M.maxX=Math.max(M.maxX,lb);M.maxY=Math.max(M.maxY,tb);ba+=.1}}return M},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[g.minX,g.minY,g.maxX,g.maxY]},tj=function(g){if(2>g.points.length||!ui.get(g)){var y=g.points.reduce(function(B,M){var ba=M[0];M=M[1];return B.minY=Math.min(B.minY,M),B.minX=Math.min(B.minX,ba),B.maxX=Math.max(B.maxX,
ba),B.maxY=Math.max(B.maxY,M),B},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[y.minX+g.x,y.minY+g.y,y.maxX+g.x,y.maxY+g.y]}y=ui.get(g);y=Fi(y[0]);y=wk(y);return[y[0]+g.x,y[1]+g.y,y[2]+g.x,y[3]+g.y]},qi=function(g){var y=ig(g),B=y[0],M=y[1],ba=y[2],ia=y[3];y=(B+ba)/2;var ya=(M+ia)/2;if(Gg(g))return function(lb,tb,rb){if(2>lb.points.length||!ui.get(lb)){var dc=lb.points.reduce(function(Yb,zc){var fd,id=zc[0];zc=zc[1];return id=(fd=Hf(lb.x+id,lb.y+zc,tb,rb,lb.angle))[0],zc=fd[1],Yb.minY=Math.min(Yb.minY,
zc),Yb.minX=Math.min(Yb.minX,id),Yb.maxX=Math.max(Yb.maxX,id),Yb.maxY=Math.max(Yb.maxY,zc),Yb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[dc.minX,dc.minY,dc.maxX,dc.maxY]}dc=ui.get(lb);dc=Fi(dc[0]);return wk(dc,function(Yb,zc){return Hf(lb.x+Yb,lb.y+zc,tb,rb,lb.angle)})}(g,y,ya);if("diamond"===g.type){M=Hf(y,M,y,ya,g.angle);var wa=M[0];M=M[1];ia=Hf(y,ia,y,ya,g.angle);var Da=ia[0];ia=ia[1];var Pa=Hf(B,ya,y,ya,g.angle);B=Pa[0];Pa=Pa[1];ya=Hf(ba,ya,y,ya,g.angle);y=ya[0];ya=ya[1];return[Math.min(wa,
Da,B,y),Math.min(M,ia,Pa,ya),Math.max(wa,Da,B,y),Math.max(M,ia,Pa,ya)]}if("ellipse"===g.type)return ba=(ba-B)/2,wa=(ia-M)/2,M=Math.cos(g.angle),Da=Math.sin(g.angle),g=Math.hypot(ba*M,wa*Da),ba=Math.hypot(wa*M,ba*Da),[y-g,ya-ba,y+g,ya+ba];Da=Hf(B,M,y,ya,g.angle);wa=Da[0];Da=Da[1];Pa=Hf(B,ia,y,ya,g.angle);B=Pa[0];Pa=Pa[1];var Ka=Hf(ba,ia,y,ya,g.angle);ia=Ka[0];Ka=Ka[1];ya=Hf(ba,M,y,ya,g.angle);y=ya[0];ya=ya[1];return[Math.min(wa,B,ia,y),Math.min(Da,Pa,Ka,ya),Math.max(wa,B,ia,y),Math.max(Da,Pa,Ka,ya)]},
Cg=function(g){if(!g.length)return[0,0,0,0];var y=1/0,B=-1/0,M=1/0,ba=-1/0;return g.forEach(function(ia){ia=qi(ia);var ya=ia[1],wa=ia[2],Da=ia[3];y=Math.min(y,ia[0]);M=Math.min(M,ya);B=Math.max(B,wa);ba=Math.max(ba,Da)}),[y,M,B,ba]},Qg=function(g,y,B){if(!Gg(g))return[g.x,g.y,g.x+y,g.y+B];y=Ei(0,y,Ei(1,B,g.points));B=Qh.generator();y="sharp"===g.strokeSharpness?B.linearPath(y,Th(g)):B.curve(y,Th(g));y=Fi(y);y=wk(y);return[y[0]+g.x,y[1]+g.y,y[2]+g.x,y[3]+g.y]},Be=function(g,y,B){var M=Qh.generator();
y="sharp"===B?M.linearPath(y,Th(g)):M.curve(y,Th(g));y=Fi(y);y=wk(y);return[y[0]+g.x,y[1]+g.y,y[2]+g.x,y[3]+g.y]};const Ee=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var uh=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},Kg=function(g){return[Ee.Q6[g],Ee.iQ[g],Ee.pl[g],Ee.ht[g],Ee.QN[g],Ee.iN[g],Ee.sl[g],Ee.$C[g],Ee.ek[g],Ee.LR[g],Ee.er[g],Ee.$y[g]]};const xk={canvasBackground:uh([Ee.ix,Ee.MA[0],Ee.MA[1]],Kg(0)),elementBackground:uh(["transparent",Ee.MA[4],Ee.MA[6]],Kg(6)),elementStroke:uh([Ee.Sn,Ee.MA[8],Ee.MA[7]],Kg(9))};
var $f=e(6207),Lg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Hj=/^Win/.test(window.navigator.platform),bf=Lg?"metaKey":"ctrlKey",yg=function(g){return"ArrowLeft"===g||"ArrowRight"===g||"ArrowDown"===g||"ArrowUp"===g},hj=function(g){return g.charAt(0).toUpperCase()+g.slice(1)},Dg=function(g){return g instanceof HTMLElement&&"wysiwyg"===g.dataset.type||g instanceof HTMLBRElement||g instanceof HTMLTextAreaElement||g instanceof HTMLInputElement&&("text"===g.type||"number"===g.type)},Ti=function(g){var y=
g.fontFamily;return"".concat(g.fontSize,"px ").concat("".concat(hc.ut[y],", ").concat(hc._D))},Ui=function(g,y){var B=document.createElement("div"),M=document.body;B.style.position="absolute";B.style.whiteSpace="pre";B.style.font=y;M.appendChild(B);B.innerText=g.split("\n").map(function(ba){return ba||" "}).join("\n");g=B.offsetWidth;y=B.offsetHeight;M=document.createElement("span");M.style.display="inline-block";M.style.overflow="hidden";M.style.width="1px";M.style.height="1px";B.appendChild(M);
M=M.offsetTop+M.offsetHeight;return document.body.removeChild(B),{width:g,height:y,baseline:M}},ri=function(g,y){var B,M=0,ba=function(){for(var ia=[],ya=0;ya<arguments.length;ya++)ia[ya]=arguments[ya];B=ia;clearTimeout(M);M=window.setTimeout(function(){return g.apply(void 0,ia)},y)};return ba.flush=function(){clearTimeout(M);B&&g.apply(void 0,B)},ba.cancel=function(){clearTimeout(M)},ba},Gi=function(g){g&&(g.style.cursor="")},Hi=function(g,y){g&&(g.style.cursor=y)},si=function(g,y){g&&("selection"===
y?Gi(g):g.style.cursor=hc.oc.CROSSHAIR)},vh=function(){var g;return"HTML"===(null===(g=document.fullscreenElement)||void 0===g?void 0:g.nodeName)},Wd=function(g){return g=g.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Lg?g.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):g.replace(/\bCtrlOrCmd\b/i,"Ctrl")},vg=function(g,y){var B=y.zoom,M=1/B.value;return{x:(g.clientX-B.translation.x-y.offsetLeft)*M-y.scrollX,
y:(g.clientY-B.translation.y-y.offsetTop)*M-y.scrollY}},mh=function(g,y){var B=y.zoom;return{x:(g.sceneX+y.scrollX+y.offsetLeft)*B.value+B.translation.x,y:(g.sceneY+y.scrollY+y.offsetTop)*B.value+B.translation.y}},ag=function(g){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(g))},wh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Eg=function(g){return{x:g[0],y:g[1]}},zk=function(g){if("AbortError"!==(null==g?void 0:g.name))throw g;
},bg=function(g){return function(y){(0,$f.unstable_batchedUpdates)(g,y)}},rl=function(g,y){var B,M=[{value:1,symbol:"b"},{value:1E3,symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(B=M.length-1;0<B&&!(g>=M[B].value);B--);return(g/M[B].value).toFixed(y).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+M[B].symbol},Lf=function(){var g;return(null===(g=document.querySelector('meta[name\x3d"version"]'))||void 0===g?void 0:g.content)||hc.eQ},Ch=function(){var g=new Map,y=hc.rk,B=hc.n5,M=Ee.Sn,ba=
hc.Hg,ia=window.innerHeight,ya="".concat(eb("labels.untitled"),"-"),wa=ya.concat;var Da=new Date;var Pa=Da.getFullYear();var Ka="".concat(Da.getMonth()+1).padStart(2,"0"),lb="".concat(Da.getDate()).padStart(2,"0"),tb="".concat(Da.getHours()).padStart(2,"0");Da="".concat(Da.getMinutes()).padStart(2,"0");Pa="".concat(Pa,"-").concat(Ka,"-").concat(lb,"-").concat(tb).concat(Da);return{appearance:"light",collaborators:g,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",
currentItemFillStyle:"hachure",currentItemFontFamily:y,currentItemFontSize:B,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:M,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:ba,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,
exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:ia,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:wa.call(ya,Pa),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,
startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Ee.ix,width:window.innerWidth,zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},nh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,
export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},
editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,
export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,
export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,
export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},ti=function(g,y){for(var B={},M=0,ba=Object.keys(g);M<ba.length;M++){var ia=ba[M],ya=nh[ia];null!=ya&&ya[y]&&(B[ia]=g[ia])}return B},pg=Ch(),Sh=[12,8],Uk=[3,6],ci=function(g,y,B){switch(B.globalAlpha=g.opacity/100,g.type){case "rectangle":case "diamond":case "ellipse":y.draw(ui.get(g));break;case "arrow":case "draw":case "line":ui.get(g).forEach(function(lb){y.draw(lb)});break;default:if(!be(g))throw Error("Unimplemented type ".concat(g.type));
var M=wh.test(g.text),ba=M&&!B.canvas.isConnected;ba&&document.body.appendChild(B.canvas);B.canvas.setAttribute("dir",M?"rtl":"ltr");M=B.font;B.font=Ti(g);var ia=B.fillStyle;B.fillStyle=g.strokeColor;var ya=B.textAlign;B.textAlign=g.textAlign;var wa=g.text.replace(/\r\n?/g,"\n").split("\n"),Da=g.height/wa.length,Pa=g.height-g.baseline;g="center"===g.textAlign?g.width/2:"right"===g.textAlign?g.width:0;for(var Ka=0;Ka<wa.length;Ka++)B.fillText(wa[Ka],g,(Ka+1)*Da-Pa);B.fillStyle=ia;B.font=M;B.textAlign=
ya;ba&&B.canvas.remove()}B.globalAlpha=1},Ak=new WeakMap,ui=new WeakMap,Th=function(g){var y={seed:g.seed,strokeLineDash:"dashed"===g.strokeStyle?Sh:"dotted"===g.strokeStyle?Uk:void 0,disableMultiStroke:"solid"!==g.strokeStyle,strokeWidth:"solid"!==g.strokeStyle?g.strokeWidth+.5:g.strokeWidth,fillWeight:g.strokeWidth/2,hachureGap:4*g.strokeWidth,roughness:g.roughness,stroke:g.strokeColor};switch(g.type){case "rectangle":case "diamond":case "ellipse":return y.fillStyle=g.fillStyle,y.fill="transparent"===
g.backgroundColor?void 0:g.backgroundColor,"ellipse"===g.type&&(y.curveFitting=1),y;case "line":case "draw":return bi(g.points)&&(y.fillStyle=g.fillStyle,y.fill="transparent"===g.backgroundColor?void 0:g.backgroundColor),y;case "arrow":return y;default:throw Error("Unimplemented type ".concat(g.type));}},Tj=function(g,y){var B=ui.get(g)||null;if(!B){switch(Ak.delete(g),g.type){case "rectangle":if("round"===g.strokeSharpness){B=g.width;var M=g.height,ba=.25*Math.min(B,M);B=y.path("M ".concat(ba," 0 L ").concat(B-
ba," 0 Q ").concat(B," 0, ").concat(B," ").concat(ba," L ").concat(B," ").concat(M-ba," Q ").concat(B," ").concat(M,", ").concat(B-ba," ").concat(M," L ").concat(ba," ").concat(M," Q 0 ").concat(M,", 0 ").concat(M-ba," L 0 ").concat(ba," Q 0 0, ").concat(ba," 0"),Th(g))}else B=y.rectangle(0,0,g.width,g.height,Th(g));break;case "diamond":B=function(ya){var wa=Math.floor(ya.width/2)+1,Da=Math.floor(ya.height/2)+1;return[wa,0,ya.width,Da,wa,ya.height,0,Da]}(g);B=y.polygon([[B[0],B[1]],[B[2],B[3]],[B[4],
B[5]],[B[6],B[7]]],Th(g));break;case "ellipse":B=y.ellipse(g.width/2,g.height/2,g.width,g.height,Th(g));break;case "line":case "draw":case "arrow":var ia=Th(g);B=g.points.length?g.points:[[0,0]];if(B="sharp"===g.strokeSharpness?ia.fill?[y.polygon(B,ia)]:[y.linearPath(B,ia)]:[y.curve(B,ia)],"arrow"===g.type){M=g.startArrowhead;M=void 0===M?null:M;ba=g.endArrowhead;ba=void 0===ba?"arrow":ba;function ya(wa,Da,Pa,Ka){Da=function(dc,Yb,zc,fd){Yb=Fi(Yb[0]);if(1>Yb.length)return null;var id="start"===zc?
1:Yb.length-1,vd=Yb[id].data,le=[vd[4],vd[5]],ke=[vd[2],vd[3]],Oe=[vd[0],vd[1]];Yb=Yb[id-1];var Je=[0,0];"move"===Yb.op?Je=Yb.data:"bcurveTo"===Yb.op&&(Je=[Yb.data[4],Yb.data[5]]);id=function(zd,Zd){return Math.pow(1-zd,3)*le[Zd]+3*zd*Math.pow(1-zd,2)*ke[Zd]+3*Math.pow(zd,2)*(1-zd)*Oe[Zd]+Je[Zd]*Math.pow(zd,3)};Yb="start"===zc?Je:le;zc=Yb[0];Yb=Yb[1];vd=[id(.3,0),id(.3,1)];id=vd[0];vd=vd[1];var df=Math.hypot(zc-id,Yb-vd);id=(zc-id)/df;vd=(Yb-vd)/df;df={arrow:30,bar:15,dot:15}[fd];dc=dc.points.reduce(function(zd,
Zd,ie,$e){ie=0<ie?$e[ie-1]:[0,0];return zd+Math.hypot(Zd[0]-ie[0],Zd[1]-ie[1])},0);df=Math.min(df,dc/2);dc=zc-id*df;id=Yb-vd*df;if("dot"===fd)return[zc,Yb,Math.hypot(id-Yb,dc-zc)];vd={arrow:20,bar:90}[fd];df=Hf(dc,id,zc,Yb,-vd*Math.PI/180);fd=df[0];df=df[1];dc=Hf(dc,id,zc,Yb,vd*Math.PI/180);return[zc,Yb,fd,df,dc[0],dc[1]]}(wa,Da,Pa,Ka);if(null===Da)return[];if("dot"===Ka)return[y.circle(Da[0],Da[1],Da[2],$b($b({},ia),{},{fill:wa.strokeColor,fillStyle:"solid"}))];Ka=Da[0];Pa=Da[1];var lb=Da[2],tb=
Da[3],rb=Da[4];Da=Da[5];return"dotted"===wa.strokeStyle?ia.strokeLineDash=[3,4]:delete ia.strokeLineDash,[y.line(lb,tb,Ka,Pa,ia),y.line(rb,Da,Ka,Pa,ia)]}null!==M&&(M=ya(g,B,"start",M),B.push.apply(B,M));null!==ba&&(M=ya(g,B,"end",ba),B.push.apply(B,M))}break;case "text":B=[]}ui.set(g,B)}},gn=function(g,y,B,M,ba){var ia=y.generator;switch(g.type){case "selection":B.translate(g.x+ba.scrollX,g.y+ba.scrollY);y=B.fillStyle;B.fillStyle="rgba(0, 0, 255, 0.10)";B.fillRect(0,0,g.width,g.height);B.fillStyle=
y;B.translate(-g.x-ba.scrollX,-g.y-ba.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Tj(g,ia),M){y=ba?ba.zoom:pg.zoom;ia=(M=Ak.get(g))&&M.canvasZoom!==y.value&&!(null!=ba&&ba.shouldCacheIgnoreZoom);if(!M||ia){M=document.createElement("canvas");ia=M.getContext("2d");var ya=0,wa=0;if(Gg(g)){ya=ig(g);var Da=ya[0];wa=ya[1];var Pa=ya[3];M.width=Math.abs(Da-ya[2])*window.devicePixelRatio*y.value+40*y.value;M.height=Math.abs(wa-Pa)*window.devicePixelRatio*
y.value+40*y.value;ya=g.x>Da?Math.floor(Math.abs(g.x-Da))*window.devicePixelRatio*y.value:0;wa=g.y>wa?Math.floor(Math.abs(g.y-wa))*window.devicePixelRatio*y.value:0;ia.translate(ya,wa)}else M.width=g.width*window.devicePixelRatio*y.value+40*y.value,M.height=g.height*window.devicePixelRatio*y.value+40*y.value;ia.translate(20*y.value,20*y.value);ia.scale(window.devicePixelRatio*y.value,window.devicePixelRatio*y.value);Da=Qh.canvas(M);y=(ci(g,Da,ia),ia.translate(-20*y.value,-20*y.value),ia.scale(1/(window.devicePixelRatio*
y.value),1/(window.devicePixelRatio*y.value)),{element:g,canvas:M,canvasZoom:y.value,canvasOffsetX:ya,canvasOffsetY:wa});g=(Ak.set(g,y),y)}else g=M;y=g.element;ya=ig(y);M=ya[0];ia=ya[1];wa=ya[2];ya=ya[3];Da=((M+wa)/2+ba.scrollX)*window.devicePixelRatio;ba=((ia+ya)/2+ba.scrollY)*window.devicePixelRatio;B.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);B.translate(Da,ba);B.rotate(y.angle);B.drawImage(g.canvas,-(wa-M)/2*window.devicePixelRatio-20*g.canvasZoom/g.canvasZoom,-(ya-ia)/2*window.devicePixelRatio-
20*g.canvasZoom/g.canvasZoom,g.canvas.width/g.canvasZoom,g.canvas.height/g.canvasZoom);B.rotate(-y.angle);B.translate(-Da,-ba);B.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else ia=ig(g),wa=ia[0],M=ia[1],ya=ia[2],Da=ia[3],ia=(wa+ya)/2+ba.scrollX,ba=(M+Da)/2+ba.scrollY,wa=(ya-wa)/2-(g.x-wa),M=(Da-M)/2-(g.y-M),B.translate(ia,ba),B.rotate(g.angle),B.translate(-wa,-M),ci(g,y,B),B.translate(wa,M),B.rotate(-g.angle),B.translate(-ia,-ba);break;default:throw Error("Unimplemented type ".concat(g.type));
}},xh=function(){function g(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return g.mapElementToScene=function(y,B){"string"==typeof y?this.sceneMapById.set(y,B):this.sceneMapByElement.set(y,B)},g.getScene=function(y){return"string"==typeof y?this.sceneMapById.get(y)||null:this.sceneMapByElement.get(y)||null},g.prototype.getElementsIncludingDeleted=function(){return this.elements},g.prototype.getElements=function(){return this.nonDeletedElements},g.prototype.getElement=
function(y){return this.elementsMap.get(y)||null},g.prototype.getNonDeletedElement=function(y){return(y=this.getElement(y))&&!y.isDeleted?y:null},g.prototype.getNonDeletedElements=function(y){var B=this,M=[];return y.forEach(function(ba){ba=B.getNonDeletedElement(ba);null!=ba&&M.push(ba)}),M},g.prototype.replaceAllElements=function(y){var B=this;this.elements=y;this.elementsMap.clear();y.forEach(function(M){B.elementsMap.set(M.id,M);g.mapElementToScene(M,B)});this.nonDeletedElements=ge(this.elements);
this.informMutation()},g.prototype.informMutation=function(){for(var y=0,B=Array.from(this.callbacks);y<B.length;y++)(0,B[y])()},g.prototype.addCallback=function(y){var B=this;if(this.callbacks.has(y))throw Error();return this.callbacks.add(y),function(){if(!B.callbacks.has(y))throw Error();B.callbacks.delete(y)}},g.prototype.destroy=function(){var y=this;g.sceneMapById.forEach(function(B,M){B===y&&g.sceneMapById.delete(M)});this.callbacks.clear()},g}();xh.sceneMapByElement=new WeakMap;xh.sceneMapById=
new Map;var Lm=new Se(Date.now()),Uj=function(){return Math.floor(Lm.next()*Math.pow(2,31))},vi=function(){return((g=21)=>{let y="",B=crypto.getRandomValues(new Uint8Array(g));for(;g--;){let M=63&B[g];y+=36>M?M.toString(36):62>M?(M-26).toString(36).toUpperCase():63>M?"_":"-"}return y})()},jf=function(g,y){var B,M=!1,ba=y.points,ia;for(ia in void 0!==ba&&(y=zb(zb({},function(rb){var dc=rb.map(function(Yb){return Yb[0]});rb=rb.map(function(Yb){return Yb[1]});return{width:Math.max.apply(Math,dc)-Math.min.apply(Math,
dc),height:Math.max.apply(Math,rb)-Math.min.apply(Math,rb)}}(ba)),y)),y){var ya=y[ia];if(void 0!==ya&&(g[ia]!==ya||"object"==typeof ya&&null!==ya&&"groupIds"!==ia)){if("points"===ia){var wa=g[ia],Da=ya;if(wa.length===Da.length){for(var Pa=!1,Ka=wa.length;--Ka;){var lb=wa[Ka],tb=Da[Ka];if(lb[0]!==tb[0]||lb[1]!==tb[1]){Pa=!0;break}}if(!Pa)continue}}g[ia]=ya;M=!0}}M&&(void 0===y.height&&void 0===y.width&&void 0===ba||ui.delete(g),g.version++,g.versionNonce=Uj(),null===(B=xh.getScene(g))||void 0===B||
B.informMutation())},zg=function(g,y){return zb(zb(zb({},g),y),{},{version:g.version+1,versionNonce:Uj()})},Rh=function(g){return Gg(g)?2>g.points.length:0===g.width&&0===g.height},Ye=function(g,y,B){var M=Math.abs(y),ba=Math.abs(B);"line"===g||"arrow"===g||"draw"===g?(g=Math.round(Math.atan(ba/M)/hc.ay)*hc.ay,0===g?B=0:g===Math.PI/2?y=0:B=Math.round(M*Math.tan(g))*Math.sign(B)||B):"selection"!==g&&(B=M*Math.sign(B));return{width:y,height:B}},Kl=function(g){var y={width:g.width,height:g.height,x:g.x,
y:g.y};if(0>g.width){var B=Math.abs(g.width);y.width=B;y.x=g.x-B}0>g.height&&(B=Math.abs(g.height),y.height=B,y.y=g.y-B);return y},Of=e(5474),Uh=e.n(Of),tl=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},Wj=function(g,y,B){var M,ba;B=B.filter(function(ia){return ia.groupIds.includes(g)});return 2>B.length?y.selectedGroupIds[g]||y.editingGroupId===g?cb(cb({},
y),{},{selectedGroupIds:cb(cb({},y.selectedGroupIds),{},(M={},M[g]=!1,M)),editingGroupId:null}):y:cb(cb({},y),{},{selectedGroupIds:cb(cb({},y.selectedGroupIds),{},(ba={},ba[g]=!0,ba)),selectedElementIds:cb(cb({},y.selectedElementIds),Object.fromEntries(B.map(function(ia){return[ia.id,!0]})))})},yh=function(g,y){return y.groupIds.filter(function(B){return B!==g.editingGroupId}).find(function(B){return g.selectedGroupIds[B]})},Ji=function(g){return Object.entries(g.selectedGroupIds).filter(function(y){y[0];
return y[1]}).map(function(y){var B=y[0];y[1];return B})},Vh=function(g,y){for(var B=cb({},g),M=0,ba=uf(y,g);M<ba.length;M++){var ia=ba[M].groupIds;if(g.editingGroupId){var ya=ia.indexOf(g.editingGroupId);-1<ya&&(ia=ia.slice(0,ya))}0<ia.length&&(B=Wj(ia[ia.length-1],B,y))}return B},Xj=function(g,y){return g.filter(function(B){return B.groupIds.includes(y)})},wj=function(g,y){var B,M,ba=y.x,ia=y.y,ya=y.strokeColor,wa=y.backgroundColor,Da=y.fillStyle,Pa=y.strokeWidth,Ka=y.strokeStyle,lb=y.roughness,
tb=y.opacity,rb=y.width;rb=void 0===rb?0:rb;var dc=y.height;dc=void 0===dc?0:dc;var Yb=y.angle;Yb=void 0===Yb?0:Yb;var zc=y.groupIds;zc=void 0===zc?[]:zc;var fd=y.strokeSharpness,id=y.boundElementIds;id=void 0===id?null:id;y=Uh()(y,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));return{id:y.id||vi(),type:g,x:ba,y:ia,width:rb,height:dc,angle:Yb,strokeColor:ya,backgroundColor:wa,fillStyle:Da,
strokeWidth:Pa,strokeStyle:Ka,roughness:lb,opacity:tb,groupIds:zc,strokeSharpness:fd,seed:null!==(B=y.seed)&&void 0!==B?B:Uj(),version:y.version||1,versionNonce:null!==(M=y.versionNonce)&&void 0!==M?M:0,isDeleted:!1,boundElementIds:id}},Ml=function(g){return wj(g.type,g)},Wh=function(g,y){return{x:"center"===g.textAlign?y.width/2:"right"===g.textAlign?y.width:0,y:"middle"===g.verticalAlign?y.height/2:0}},Ij=function(g){var y=Ui(g.text,Ti(g)),B=Wh(g,y);return zg(Ha(Ha({},wj("text",g)),{},{text:g.text,
fontSize:g.fontSize,fontFamily:g.fontFamily,textAlign:g.textAlign,verticalAlign:g.verticalAlign,x:g.x-B.x,y:g.y-B.y,width:y.width,height:y.height,baseline:y.baseline}),{})},Te=function(g){return Ha(Ha({},wj(g.type,g)),{},{points:g.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:g.startArrowhead,endArrowhead:g.endArrowhead})},Jj=function(g,y){if(void 0===y&&(y=0),null==g||"object"!=typeof g)return g;if("[object Object]"===Object.prototype.toString.call(g)){var B=
"function"==typeof g.constructor?Object.create(Object.getPrototypeOf(g)):{},M;for(M in g)g.hasOwnProperty(M)&&(0!==y||"shape"!==M&&"canvas"!==M)&&(B[M]=Jj(g[M],y+1));return B}if(Array.isArray(g)){B=g.length;for(M=Array(B);B--;)M[B]=Jj(g[B],y+1);return M}return g},Wi=function(g,y,B,M){B=Jj(B);return B.id=vi(),B.seed=Uj(),B.groupIds=function(ba,ia,ya){var wa=tl(ba);ia=ia?ba.indexOf(ia):-1;ba=-1<ia?ia:ba.length;for(ia=0;ia<ba;ia++)wa[ia]=ya(wa[ia]);return wa}(B.groupIds,g,function(ba){return y.has(ba)||
y.set(ba,vi()),y.get(ba)}),M&&(B=Object.assign(B,M)),B},Re={mouse:8,pen:16,touch:28},ul={e:!0,s:!0,n:!0,w:!0},Ol={e:!0,s:!0,n:!0,w:!0},Xh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},xj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},fh=function(g,y,B,M,ba,ia,ya){g=Hf(g+B/2,y+M/2,ba,ia,ya);return[g[0]-B/2,g[1]-M/2,B,M]},yk=function(g,y,B,M,ba){var ia=g[0],ya=g[1],wa=g[2];g=g[3];void 0===ba&&(ba={});var Da=Re[M];M=Da/B.value;var Pa=Da/B.value,Ka=Da/B.value,lb=Da/B.value,tb=wa-ia,rb=g-ya,dc=(ia+wa)/2,Yb=(ya+g)/2,zc=4/B.value;
Da=(Da-8)/(2*B.value);var fd={nw:ba.nw?void 0:fh(ia-zc-Ka+Da,ya-zc-lb+Da,M,Pa,dc,Yb,y),ne:ba.ne?void 0:fh(wa+zc-Da,ya-zc-lb+Da,M,Pa,dc,Yb,y),sw:ba.sw?void 0:fh(ia-zc-Ka+Da,g+zc-Da,M,Pa,dc,Yb,y),se:ba.se?void 0:fh(wa+zc-Da,g+zc-Da,M,Pa,dc,Yb,y),rotation:ba.rotation?void 0:fh(ia+tb/2-M/2,ya-zc-lb+Da-16/B.value,M,Pa,dc,Yb,y)};B=5*Re.mouse/B.value;return Math.abs(tb)>B&&(ba.n||(fd.n=fh(ia+tb/2-M/2,ya-zc-lb+Da,M,Pa,dc,Yb,y)),ba.s||(fd.s=fh(ia+tb/2-M/2,g+zc-Da,M,Pa,dc,Yb,y))),Math.abs(rb)>B&&(ba.w||(fd.w=
fh(ia-zc-Ka+Da,ya+rb/2-Pa/2,M,Pa,dc,Yb,y)),ba.e||(fd.e=fh(wa+zc-Da,ya+rb/2-Pa/2,M,Pa,dc,Yb,y))),fd},uj=function(g,y,B){void 0===B&&(B="mouse");var M={};if("arrow"===g.type||"line"===g.type||"draw"===g.type){if(2===g.points.length){var ba=g.points[1];0===ba[0]||0===ba[1]?M=xj:0<ba[0]&&0>ba[1]?M=Xh:0<ba[0]&&0<ba[1]?M=xj:0>ba[0]&&0<ba[1]?M=Xh:0>ba[0]&&0>ba[1]&&(M=xj)}}else"text"===g.type&&(M=Ol);return yk(ig(g),g.angle,y,B,M)},xi=function(g,y){return[0,0,0,0,y,g,1,0]},Zg=function(g,y){void 0===g&&(g=
0);void 0===y&&(y=0);var B=[0,0,0,0,0,0,0,0];if(0>y||7<y)throw Error("Expected `index` betwen 0 and 7, got `".concat(y,"`"));return 0!==g&&(B[y]=g),B},Ih=function(g){return[g[0],g[1],g[2],g[3],-g[4],-g[5],-g[6],-g[7]]},sl=function(g,y){return"number"==typeof y?[g[0]-y,g[1],g[2],g[3],g[4],g[5],g[6],g[7]]:[g[0]-y[0],g[1]-y[1],g[2]-y[2],g[3]-y[3],g[4]-y[4],g[5]-y[5],g[6]-y[6],g[7]-y[7]]},Ck=function(g,y){return"number"==typeof y?[g[0]*y,g[1]*y,g[2]*y,g[3]*y,g[4]*y,g[5]*y,g[6]*y,g[7]*y]:[y[0]*g[0]+y[2]*
g[2]+y[3]*g[3]-y[6]*g[6],y[1]*g[0]+y[0]*g[1]-y[4]*g[2]+y[5]*g[3]+y[2]*g[4]-y[3]*g[5]-y[7]*g[6]-y[6]*g[7],y[2]*g[0]+y[0]*g[2]-y[6]*g[3]+y[3]*g[6],y[3]*g[0]+y[6]*g[2]+y[0]*g[3]-y[2]*g[6],y[4]*g[0]+y[2]*g[1]-y[1]*g[2]+y[7]*g[3]+y[0]*g[4]+y[6]*g[5]-y[5]*g[6]+y[3]*g[7],y[5]*g[0]-y[3]*g[1]+y[7]*g[2]+y[1]*g[3]-y[6]*g[4]+y[0]*g[5]+y[4]*g[6]+y[2]*g[7],y[6]*g[0]+y[3]*g[2]-y[2]*g[3]+y[0]*g[6],y[7]*g[0]+y[6]*g[1]+y[5]*g[2]+y[4]*g[3]+y[3]*g[4]+y[2]*g[5]+y[1]*g[6]+y[0]*g[7]]},bk=function(g,y){return[Kj(g,y),g[1]*
y[7]+g[4]*y[5]-g[5]*y[4]+g[7]*y[1],g[2]*y[7]-g[4]*y[6]+g[6]*y[4]+g[7]*y[2],g[3]*y[7]+g[5]*y[6]-g[6]*y[5]+g[7]*y[3],g[4]*y[7]+g[7]*y[4],g[5]*y[7]+g[7]*y[5],g[6]*y[7]+g[7]*y[6],g[7]*y[7]]},Kj=function(g,y){return g[0]*y[7]+g[1]*y[6]+g[2]*y[5]+g[3]*y[4]+g[4]*y[3]+g[5]*y[2]+g[6]*y[1]+g[7]*y[0]},Om=function(g){return Math.sqrt(Math.abs(g[0]*g[0]-g[2]*g[2]-g[3]*g[3]+g[6]*g[6]))},ij=function(g){var y=Om(g);return 0===y||1===y?g:Ck(g,(0>g[6]?-1:1)/y)},Ll=(Zg(1,1),Zg(1,2),Zg(1,3),Zg(1,4),Zg(1,5),Zg(1,6),Zg(1,
7),function(g,y,B){return ij([0,B,g,y,0,0,0,0])}),Yj=function(g,y){return B=g,[(M=y)[0]*B[0]+M[2]*B[2]+M[3]*B[3]-M[6]*B[6],M[1]*B[0]+M[0]*B[1]-M[4]*B[2]+M[5]*B[3]+M[2]*B[4]-M[3]*B[5]-M[7]*B[6]-M[6]*B[7],M[2]*B[0]+M[0]*B[2]-M[6]*B[3]+M[3]*B[6],M[3]*B[0]+M[6]*B[2]+M[0]*B[3]-M[2]*B[6],M[4]*B[0]+M[7]*B[3]+M[0]*B[4]+M[3]*B[7],M[5]*B[0]+M[7]*B[2]+M[0]*B[5]+M[2]*B[7],M[6]*B[0]+M[0]*B[6],M[7]*B[0]+M[0]*B[7]];var B,M},Zj=function(g){return[0,0,0,0,g[1],g[0],1,0]},ei=function(g){return[g[5],g[4]]},lj=function(g,
y){return B=Ck(g,Math.sin(y/2)),M=Math.cos(y/2),"number"==typeof M?[B[0]+M,B[1],B[2],B[3],B[4],B[5],B[6],B[7]]:[B[0]+M[0],B[1]+M[1],B[2]+M[2],B[3]+M[3],B[4]+M[4],B[5]+M[5],B[6]+M[6],B[7]+M[7]];var B,M},Li=function(g,y){return ij(Ck(Ck(g,y),Ih(g)))},Ek=function(g,y,B,M){var ba=10/y.zoom.value;return!ak(g,y,[B,M])&&Pl(g,[B,M],ba)},ak=function(g,y,B){y=10/y.zoom.value;if("text"===g.type)var M=cm;else"arrow"===g.type?M=!1:(M="transparent"!==g.backgroundColor,M="line"===g.type||"draw"===g.type?M&&bi(g.points):
M),M=M?dk:Bk;return kj({element:g,point:B,threshold:y,check:M})},Pl=function(g,y,B){var M=y[0],ba=y[1],ia=ig(g);y=ia[0];var ya=ia[1],wa=ia[2];ia=ia[3];M=Hf(M,ba,(y+wa)/2,(ya+ia)/2,-g.angle);g=M[0];M=M[1];return g>y-B&&g<wa+B&&M>ya-B&&M<ia+B},Fk=function(g,y){var B=y.x;y=y.y;var M=Xi(g,g.width,g.height);return kj({element:g,point:[B,y],threshold:M,check:Cn})},Xi=function(g,y,B){return Math.max(16,Math.min(.25*("diamond"===g.type?1/Math.sqrt(2):1)*Math.min(y,B),32))},kj=function(g){switch(g.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var y=
bm(g.element,g.point);return g.check(y,g.threshold);case "arrow":case "line":case "draw":return co(g);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},bm=function(g,y){switch(g.type){case "rectangle":case "text":var B=Si(g,y),M=B[1],ba=B[2];g=Math;y=g.max;B=Ll(0,1,-B[3]);B=Kj(M,B);ba=Ll(1,0,-ba);M=Kj(M,ba);return y.call(g,B,M);case "diamond":return M=Si(g,y),g=M[1],y=M[2],M=M[3],y=Ll(M,y,-M*y),Kj(g,y);case "ellipse":return g=kn(g,y),y=g[1],-Math.sign(y[1])*
Kj(g[0],y)}},cm=function(g,y){return 0>g},dk=function(g,y){return g<y},Bk=function(g,y){return Math.abs(g)<y},Cn=function(g,y){return 0<=g&&g<y},kn=function(g,y){y=Si(g,y);g=y[1];var B=y[2],M=y[3];y=ei(g);var ba=y[0],ia=y[1],ya=.707,wa=.707;[0,1,2,3].forEach(function(Da){Da=(B*B-M*M)*Math.pow(ya,3)/B;var Pa=(M*M-B*B)*Math.pow(wa,3)/M,Ka=ba-Da,lb=ia-Pa,tb=Math.hypot(M*wa-Pa,B*ya-Da),rb=Math.hypot(lb,Ka);ya=Math.min(1,Math.max(0,(Ka*tb/rb+Da)/B));wa=Math.min(1,Math.max(0,(lb*tb/rb+Pa)/M));Da=Math.hypot(wa,
ya);ya/=Da;wa/=Da});y=xi(B*ya,M*wa);return[g,Yj(ij(bk(y,g)),y)]},co=function(g){var y=g.element,B=g.threshold;if(!ui.get(y))return!1;var M=Si(g.element,g.point),ba=M[0],ia=M[1],ya=M[2];M=Ll(0,1,-M[3]);ya=Ll(1,0,-ya);if(!dk(Kj(ia,M),B)||!dk(Kj(ia,ya),B))return!1;ba=ei(ba);var wa=ba[0],Da=ba[1];ba=ui.get(y);return g.check===dk&&ba.some(function(Pa){var Ka=y.strokeSharpness;var lb=[],tb=!1,rb=0;for(Pa=Fi(Pa);rb<Pa.length;rb++){var dc=Pa[rb];"move"===dc.op?(tb=!tb)&&lb.push([dc.data[0],dc.data[1]]):"bcurveTo"===
dc.op&&tb&&(lb.push([dc.data[0],dc.data[1]]),lb.push([dc.data[2],dc.data[3]]),lb.push([dc.data[4],dc.data[5]]))}4<=lb.length?"sharp"===Ka?Ka=Ci(lb,wa,Da):(Ka=G(lb,10,5),Ka=Ci(Ka,wa,Da)):Ka=!1;return Ka})?!0:ba.some(function(Pa){return Sk(Pa,wa,Da,B)})},Si=function(g,y){var B,M=Zj(y);y=ig(g);var ba=Ql(y),ia=lj(ba,g.angle);M=Li(ia,M);ba=sl(M,[0,0,0,0,ba[4],ba[5],0,0]);ba=[0,0,0,0,Math.abs(ba[4]),Math.abs(ba[5]),1,0];g=(B=g.x,[0,0,0,0,g.y,B,0,0]);return[sl(M,g),ba,(y[2]-y[0])/2,(y[3]-y[1])/2]},Jl=function(g){var y=
ig(g);y=Ql(y);g=lj(y,g.angle);y=[0,0,0,0,y[4],y[5],0,0];y=Ih([1,0,0,0,-.5*y[5],.5*y[4],0,0]);return Ck(y,g)},Ql=function(g){return xi((g[0]+g[2])/2,(g[1]+g[3])/2)},vk=function(g,y,B,M){switch(void 0===M&&(M=0),g.type){case "rectangle":case "text":case "diamond":var ba=Bg(g);var ia=ba.flatMap(function(ya,wa){wa=[ya,ba[(wa+1)%4]];var Da=M;ya=wa[0];wa=wa[1];var Pa=[0,0,0,0,wa[4]-ya[4],wa[5]-ya[5],0,0];var Ka=Math.sqrt(Math.abs(Pa[7]*Pa[7]-Pa[5]*Pa[5]-Pa[4]*Pa[4]+Pa[1]*Pa[1]));Pa=0===Ka||1===Ka?Pa:Ck(Pa,
1/Ka);Da*=.5;Da=[1,0,0,0,Da*Pa[4],Da*Pa[5],0,0];wa=[Li(Da,ya),Li(Da,wa)];ya=wa[0];wa=wa[1];if(0<=Kj(ya,y)*Kj(wa,y))var lb=[];else{a:{ya=ij(bk(wa,ya));ya=ij((lb=y,[(tb=ya)[0]*lb[0],tb[1]*lb[0]+tb[0]*lb[1],tb[2]*lb[0]+tb[0]*lb[2],tb[3]*lb[0]+tb[0]*lb[3],tb[4]*lb[0]+tb[2]*lb[1]-tb[1]*lb[2]+tb[0]*lb[4],tb[5]*lb[0]-tb[3]*lb[1]+tb[1]*lb[3]+tb[0]*lb[5],tb[6]*lb[0]+tb[3]*lb[2]-tb[2]*lb[3]+tb[0]*lb[6],tb[7]*lb[0]+tb[6]*lb[1]+tb[5]*lb[2]+tb[4]*lb[3]+tb[3]*lb[4]+tb[2]*lb[5]+tb[1]*lb[6]]));break a;var tb}lb=
[ya]}return lb}).concat(ba.flatMap(function(ya){var wa=M;if(0===wa)var Da=0===Kj(y,ya)?[ya]:[];else{Da=y[2];var Pa=y[3],Ka=y[1],lb=ei(ya);ya=lb[0];var tb=lb[1];lb=Da*Da+Pa*Pa;wa=wa*wa*lb-Math.pow(Da*ya+Pa*tb+Ka,2);if(0===lb||0>=wa)Da=[];else{wa=Math.sqrt(wa);var rb=ya*Pa*Pa-tb*Da*Pa-Da*Ka;Ka=tb*Da*Da-ya*Da*Pa-Pa*Ka;Da=[xi((rb+Pa*wa)/lb,(Ka-Da*wa)/lb),xi((rb-Pa*wa)/lb,(Ka+Da*wa)/lb)]}}return Da}));break;case "ellipse":ia=Di(g,M,y)}if(2>ia.length)return[];g=ia.sort(function(ya,wa){return Om(bk(ya,B))-
Om(bk(wa,B))});return[g[0],g[g.length-1]]},Bg=function(g,y){void 0===y&&(y=1);var B=y*g.width/2;y=y*g.height/2;switch(g.type){case "rectangle":case "text":return[xi(B,y),xi(B,-y),xi(-B,-y),xi(-B,y)];case "diamond":return[xi(0,y),xi(B,0),xi(0,-y),xi(-B,0)]}},Di=function(g,y,B){var M=g.width/2+y;g=g.height/2+y;y=B[2];var ba=B[3],ia=B[1];B=M*M*y*y+g*g*ba*ba;var ya=B-ia*ia;if(0===B||0>=ya)return[];ya=Math.sqrt(ya);var wa=-M*M*y*ia;ia*=-g*g*ba;return[xi((wa+M*g*ba*ya)/B,(ia-M*g*y*ya)/B),xi((wa-M*g*ba*
ya)/B,(ia+M*g*y*ya)/B)]},oh=function(g,y,B){var M=Math.sign(y),ba=0,ia=null;return Bg(g,Math.abs(y)).forEach(function(ya){var wa=M*ij(bk(ya,B))[1];wa>ba&&(ba=wa,ia=ya)}),ia},Sk=function(g,y,B,M){var ba=[0,0];return Fi(g).some(function(ia,ya){ya=ia.op;var wa=ia.data;if("move"===ya)ba=wa;else if("bcurveTo"===ya){ia=[wa[0],wa[1]];ya=[wa[2],wa[3]];wa=[wa[4],wa[5]];var Da=ba;return ba=wa,function(Pa,Ka,lb,tb,rb,dc){var Yb=rb[0];rb=rb[1];for(var zc=function(le,ke){return Math.pow(1-le,3)*tb[ke]+3*le*Math.pow(1-
le,2)*lb[ke]+3*Math.pow(le,2)*(1-le)*Ka[ke]+Pa[ke]*Math.pow(le,3)},fd=0;1>=fd;){var id=zc(fd,0),vd=zc(fd,1);if(Math.sqrt(Math.pow(id-Yb,2)+Math.pow(vd-rb,2))<dc)return!0;fd+=.01}return!1}(Da,ia,ya,wa,[y,B],M)}return!1})},eh=function(g,y,B){return y>=g[0]&&y<=g[0]+g[2]&&B>=g[1]&&B<=g[1]+g[3]},Mi=function(g,y,B,M,ba,ia){return g.reduce(function(ya,wa){return ya?ya:(ya=function(Da,Pa,Ka,lb,tb,rb){if(!Pa.selectedElementIds[Da.id])return!1;Da=uj(Da,tb,rb);Pa=Da.rotation;var dc=Uh()(Da,["rotation"]);if(Pa&&
eh(Pa,Ka,lb))return"rotation";Da=Object.keys(dc).filter(function(Yb){Yb=dc[Yb];return!!Yb&&eh(Yb,Ka,lb)});return 0<Da.length&&Da[0]}(wa,y,B,M,ba,ia))?{element:wa,transformHandleType:ya}:null},null)},of=function(g,y,B,M,ba){var ia=yk([g[0],g[1],g[2],g[3]],0,M,ba,ul);return Object.keys(ia).find(function(ya){return(ya=ia[ya])&&eh(ya,y,B)})||!1},zh=["ns","nesw","ew","nwse"],Ie=function(g){var y=g.element,B=y&&-1==Math.sign(y.height)*Math.sign(y.width),M=null;switch(g.transformHandleType){case "n":case "s":M=
"ns";break;case "w":case "e":M="ew";break;case "nw":case "se":M=B?"nesw":"nwse";break;case "ne":case "sw":M=B?"nwse":"nesw";break;case "rotation":return"grab"}M&&y&&(g=M,y=y.angle,B=zh.indexOf(g),0<=B&&(g=zh[(B+Math.round(y/(Math.PI/4)))%zh.length]),M=g);return M?"".concat(M,"-resize"):""},Rl=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},dg=function(){function g(y,
B){this.elementId=y.id;xh.mapElementToScene(this.elementId,B);g.normalizePoints(y);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return g.getElement=function(y){var B;return(null===(B=xh.getScene(y))||void 0===B?void 0:B.getNonDeletedElement(y))||null},g.handlePointDragging=function(y,B,M,ba,ia){if(!y.editingLinearElement)return!1;var ya=y.editingLinearElement,wa=ya.activePointIndex,Da=ya.isDragging,
Pa=g.getElement(ya.elementId);return Pa?null!=wa&&-1<wa?(!1===Da&&B({editingLinearElement:hb(hb({},ya),{},{isDragging:!0})}),y=g.createPointAt(Pa,M-ya.pointerOffset.x,ba-ya.pointerOffset.y,y.gridSize),g.movePoint(Pa,wa,y),og(Pa)&&ia(Pa,0===wa?"start":"end"),!0):!1:!1},g.handlePointerUp=function(y,B,M){y=B.activePointIndex;var ba=B.isDragging,ia=g.getElement(B.elementId);if(!ia)return B;var ya={};!ba||0!==y&&y!==ia.points.length-1||(bi(ia.points,M.zoom.value)&&g.movePoint(ia,y,0===y?ia.points[ia.points.length-
1]:ia.points[0]),ba=M.isBindingEnabled?$h(Eg(g.getPointAtIndexGlobalCoordinates(ia,y)),xh.getScene(ia)):null,(M={})[0===y?"startBindingElement":"endBindingElement"]=ba,ya=M);return hb(hb(hb({},B),ya),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},g.handlePointerDown=function(y,B,M,ba,ia){var ya={didAddPoint:!1,hitElement:null};if(!B.editingLinearElement)return ya;var wa=g.getElement(B.editingLinearElement.elementId);if(!wa)return ya;if(y.altKey)return null==B.editingLinearElement.lastUncommittedPoint&&
jf(wa,{points:Rl(wa.points,[g.createPointAt(wa,ia.x,ia.y,B.gridSize)])}),ba.resumeRecording(),M({editingLinearElement:hb(hb({},B.editingLinearElement),{},{activePointIndex:wa.points.length-1,lastUncommittedPoint:null,endBindingElement:$h(ia,xh.getScene(wa))})}),ya.didAddPoint=!0,ya;y=g.getPointIndexUnderCursor(wa,B.zoom,ia.x,ia.y);if(-1<y)ya.hitElement=wa;else{var Da=B.editingLinearElement;ba=Da.startBindingElement;Da=Da.endBindingElement;B.isBindingEnabled&&og(wa)&&Pf(wa,ba,Da)}Da=ig(wa);ba=(Da[0]+
Da[2])/2;Da=(Da[1]+Da[3])/2;wa=-1<y&&Hf(wa.x+wa.points[y][0],wa.y+wa.points[y][1],ba,Da,wa.angle);return M({editingLinearElement:hb(hb({},B.editingLinearElement),{},{activePointIndex:-1<y?y:null,pointerOffset:wa?{x:ia.x-wa[0],y:ia.y-wa[1]}:{x:0,y:0}})}),ya},g.handlePointerMove=function(y,B,M,ba,ia){var ya=ba.lastUncommittedPoint,wa=g.getElement(ba.elementId);if(!wa)return ba;var Da=wa.points,Pa=Da[Da.length-1];if(!y.altKey)return Pa===ya&&g.movePoint(wa,Da.length-1,"delete"),hb(hb({},ba),{},{lastUncommittedPoint:null});
y=g.createPointAt(wa,B-ba.pointerOffset.x,M-ba.pointerOffset.y,ia);return Pa===ya?g.movePoint(wa,wa.points.length-1,y):g.movePoint(wa,"new",y),hb(hb({},ba),{},{lastUncommittedPoint:wa.points[wa.points.length-1]})},g.getPointsGlobalCoordinates=function(y){var B=ig(y),M=(B[0]+B[2])/2,ba=(B[1]+B[3])/2;return y.points.map(function(ia){var ya;return[(ya=Hf(y.x+ia[0],y.y+ia[1],M,ba,y.angle))[0],ya[1]]})},g.getPointAtIndexGlobalCoordinates=function(y,B){var M=0>B?y.points.length+B:B;B=ig(y);M=y.points[M];
return Hf(y.x+M[0],y.y+M[1],(B[0]+B[2])/2,(B[1]+B[3])/2,y.angle)},g.pointFromAbsoluteCoords=function(y,B){var M=ig(y);B=Hf(B[0],B[1],(M[0]+M[2])/2,(M[1]+M[3])/2,-y.angle);return[B[0]-y.x,B[1]-y.y]},g.getPointIndexUnderCursor=function(y,B,M,ba){y=this.getPointsGlobalCoordinates(y);for(var ia=y.length;-1<--ia;){var ya=y[ia];if(Math.hypot(ya[0]-M,ya[1]-ba)*B.value<this.POINT_HANDLE_SIZE/2+1)return ia}return-1},g.createPointAt=function(y,B,M,ba){B=pi(B,M,ba);M=ig(y);B=Hf(B[0],B[1],(M[0]+M[2])/2,(M[1]+
M[3])/2,-y.angle);return[B[0]-y.x,B[1]-y.y]},g.normalizePoints=function(y){var B=y.points,M=B[0][0],ba=B[0][1];jf(y,{points:B.map(function(ia,ya){return[ia[0]-M,ia[1]-ba]}),x:y.x+M,y:y.y+ba})},g.movePointByOffset=function(y,B,M){var ba=y.points[B];g.movePoint(y,B,[ba[0]+M.x,ba[1]+M.y])},g.movePoint=function(y,B,M,ba){var ia=y.points,ya=0,wa=0;if("delete"===M){if("new"===B)throw Error("invalid args in movePoint");(M=ia.slice()).splice(B,1);0===B&&(ya=M[0][0],wa=M[0][1],M=M.map(function(lb,tb){return 0===
tb?[0,0]:[lb[0]-ya,lb[1]-wa]}))}else if("new"===B)M=Rl(ia,[M]);else{var Da=M[0]-ia[B][0],Pa=M[1]-ia[B][1];M=ia.map(function(lb,tb){return tb===B?0===tb?(ya=Da,wa=Pa,lb):(ya=0,wa=0,[lb[0]+Da,lb[1]+Pa]):ya||wa?[lb[0]-ya,lb[1]-wa]:lb})}var Ka=Be(y,M,y.strokeSharpness||"round");ia=Be(y,ia,y.strokeSharpness||"round");ia=Hf(ya,wa,(ia[0]+ia[2])/2-(Ka[0]+Ka[2])/2,(ia[1]+ia[3])/2-(Ka[1]+Ka[3])/2,y.angle);jf(y,hb(hb({},ba),{},{points:M,x:y.x+ia[0],y:y.y+ia[1]}))},g}();dg.POINT_HANDLE_SIZE=20;var mn=function(){for(var g=
0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},Pf=function(g,y,B){var M=new Set,ba=new Set;Hg(g,y,B,"start",M,ba);Hg(g,B,y,"end",M,ba);y=Array.from(ba).filter(function(ia){return!M.has(ia)});xh.getScene(g).getNonDeletedElements(y).forEach(function(ia){var ya;jf(ia,{boundElementIds:null===(ya=ia.boundElementIds)||void 0===ya?void 0:ya.filter(function(wa){return wa!==g.id})})})},
Hg=function(g,y,B,M,ba,ia){if("keep"!==y)if(null!=y)null!=B&&("keep"===B?Ef(g,y,M):"start"!==M&&B.id===y.id)||(Bj(g,y,M),ba.add(y.id));else{var ya;y="start"===M?"startBinding":"endBinding";B=g[y];g=null==B?null:(jf(g,((ya={})[y]=null,ya)),B.elementId);null!=g&&ia.add(g)}},wg=function(g){g.forEach(function(y){og(y)?Pf(y,Ng(y,"start"),Ng(y,"end")):tk(y)&&dm(y)})},dm=function(g){rh(g).forEach(function(y){var B=y[1];return Pf(y[0],"end"===B?"keep":g,"start"===B?"keep":g)})},ek=function(g,y,B,M){null!=
y.startBoundElement&&Bj(g,y.startBoundElement,"start");y=$h(M,B);null==y||Ef(g,y,"end")||Bj(g,y,"end")},Bj=function(g,y,B){var M,ba;jf(g,((M={})["start"===B?"startBinding":"endBinding"]=function(ia){for(var ya=1;ya<arguments.length;ya++){var wa=null!=arguments[ya]?arguments[ya]:{};ya%2?Vb(Object(wa),!0).forEach(function(Da){pd()(ia,Da,wa[Da])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ia,Object.getOwnPropertyDescriptors(wa)):Vb(Object(wa)).forEach(function(Da){Object.defineProperty(ia,
Da,Object.getOwnPropertyDescriptor(wa,Da))})}return ia}({elementId:y.id},af(g,y,B)),M));jf(y,{boundElementIds:Array.from(new Set(mn(null!==(ba=y.boundElementIds)&&void 0!==ba?ba:[],[g.id])))})},Ef=function(g,y,B){B=g["start"===B?"endBinding":"startBinding"];return(null==B?void 0:B.elementId)===y.id&&3>g.points.length},ih=function(g){g.forEach(function(y){og(y)&&Pf(y,null,null)})},$h=function(g,y){return li(y.getElements(),function(B){return tk(B)&&Fk(B,g)})},af=function(g,y,B){var M="start"===B?-1:
1;B=-1===M?0:g.points.length-1;M=B-M;B=dg.getPointAtIndexGlobalCoordinates(g,B);M=dg.getPointAtIndexGlobalCoordinates(g,M);a:{g=Jl(y);M=Li(g,Zj(M));g=Li(g,Zj(B));var ba=ij(bk(g,M));g=y.height/y.width;M=y.width/2;var ia=y.height/2,ya=ba[2],wa=ba[3];ba=ba[1];var Da=Math.abs(wa),Pa=Math.abs(ya);switch(y.type){case "rectangle":case "text":g=ba/(M*(Pa+g*Da));break a;case "diamond":g=Da<Pa?ba/(Pa*M):ba/(Da*ia);break a;case "ellipse":g=ba/(M*Math.sqrt(Math.pow(ya,2)+Math.pow(g,2)*Math.pow(wa,2)));break a}g=
void 0}return{focus:g,gap:Math.max(1,bm(y,B))}},yi=function(g,y){var B,M=null!==(B=g.boundElementIds)&&void 0!==B?B:[];if(0!==M.length){y=null!=y?y:{};var ba=y.newSize,ia=pj(y.simultaneouslyUpdated);xh.getScene(g).getNonDeletedElements(M).forEach(function(ya){var wa,Da;if((null===(wa=ya.startBinding)||void 0===wa?void 0:wa.elementId)===g.id||(null===(Da=ya.endBinding)||void 0===Da?void 0:Da.elementId)===g.id)wa=xf(g,ya.startBinding,ba),Da=xf(g,ya.endBinding,ba),ia.has(ya.id)?jf(ya,{startBinding:wa,
endBinding:Da}):(bn(ya,"start",wa,g),bn(ya,"end",Da,g))})}},pj=function(g){return new Set((g||[]).map(function(y){return y.id}))},bn=function(g,y,B,M){var ba;if(!(null==B||B.elementId!==M.id&&2<g.points.length)){var ia=xh.getScene(g).getElement(B.elementId);if(null!=ia){var ya="start"===y?-1:1;M=-1===ya?0:g.points.length-1;var wa=dg.getPointAtIndexGlobalCoordinates(g,M-ya);ya=function(Da,Pa,Ka){if(0===Pa){var lb=ig(Da);lb=Ql(lb);return ei(lb)}lb=Jl(Da);Ka=Li(lb,Zj(Ka));lb=Ih(lb);switch(Da.type){case "rectangle":case "text":case "diamond":var tb=
oh(Da,Pa,Ka);break;case "ellipse":var rb=Math.abs(Pa);tb=Da.width*rb/2;Da=Da.height*rb/2;Pa=Math.sign(Pa);rb=ei(Ka);Ka=rb[0];rb=rb[1];rb=0===rb?1E-4:rb;var dc=Math.pow(Ka,2)*Math.pow(Da,2)+Math.pow(rb,2)*Math.pow(tb,2);Pa=(-Ka*Math.pow(Da,2)+Pa*rb*Math.sqrt(Math.max(0,dc-Math.pow(tb,2)*Math.pow(Da,2))))/dc;Ka=(-Pa*Ka-1)/rb;tb=-Math.pow(tb,2)*Pa/(Math.pow(Ka,2)*Math.pow(Da,2)+Math.pow(Pa,2)*Math.pow(tb,2));tb=xi(tb,(-Pa*tb-1)/Ka)}return ei(Li(lb,tb))}(ia,B.focus,wa);0===B.gap?ia=ya:(ia=function(Da,
Pa,Ka,lb){void 0===lb&&(lb=0);var tb=Jl(Da);Pa=Li(tb,Zj(Pa));Ka=Li(tb,Zj(Ka));Ka=ij(bk(Ka,Pa));var rb=Ih(tb);return vk(Da,Ka,Pa,lb).map(function(dc){return ei(Li(rb,dc))})}(ia,wa,ya,B.gap),ia=0===ia.length?ya:ia[0]);dg.movePoint(g,M,dg.pointFromAbsoluteCoords(g,ia),((ba={})["start"===y?"startBinding":"endBinding"]=B,ba))}}},xf=function(g,y,B){if(null==y||null==B)return y;var M=y.gap,ba=y.focus,ia=B.width;B=B.height;var ya=g.width,wa=g.height;return{elementId:y.elementId,gap:Math.max(1,Math.min(Xi(g,
ia,B),M*(ia<B?ia/ya:B/wa))),focus:ba}},Cl=function(g){return[Ng(g,"start"),Ng(g,"end")].filter(function(y){return null!=y})},Ng=function(g,y){return $h(Eg(dg.getPointAtIndexGlobalCoordinates(g,"start"===y?0:-1)),xh.getScene(g))},rh=function(g){return xh.getScene(g).getElements().map(function(y){if(!og(y))return null;var B=Vf(y,"start",g),M=Vf(y,"end",g);return B||M?[y,B&&M?"both":B?"start":"end",g]:null}).filter(function(y){return null!=y})},Vf=function(g,y,B){return null==g["start"===y?"startBinding":
"endBinding"]&&!Ef(g,B,y)&&Fk(B,Eg(dg.getPointAtIndexGlobalCoordinates(g,"start"===y?0:-1)))},Rj=function(g,y,B,M){var ba=new Set,ia=new Set,ya="duplicatesServeAsOld"===M;y.forEach(function(wa){var Da=wa.boundElementIds;if(null!=Da&&0<Da.length&&(Da.forEach(function(Pa){ya&&!B.has(Pa)&&ba.add(Pa)}),ia.add(B.get(wa.id))),og(wa))null!=wa.startBinding&&(Da=wa.startBinding.elementId,ya&&!B.has(Da)&&ia.add(Da)),null!=wa.endBinding&&(Da=wa.endBinding.elementId,ya&&!B.has(Da)&&ia.add(Da)),null==wa.startBinding&&
null==wa.endBinding||ba.add(B.get(wa.id))});g.filter(function(wa){return ba.has(wa.id)}).forEach(function(wa){var Da=wa.endBinding;jf(wa,{startBinding:Fh(wa.startBinding,B),endBinding:Fh(Da,B)})});g.filter(function(wa){return ia.has(wa.id)}).forEach(function(wa){var Da=wa.boundElementIds;null!=Da&&0<Da.length&&jf(wa,{boundElementIds:Da.map(function(Pa){var Ka;return null!==(Ka=B.get(Pa))&&void 0!==Ka?Ka:Pa})})})},Fh=function(g,y){var B;if(null==g)return null;var M=g.elementId;return{focus:g.focus,
gap:g.gap,elementId:null!==(B=y.get(M))&&void 0!==B?B:M}},qj=function(g,y){var B=new Set(y.map(function(ba){return ba.id})),M=new Set;y.forEach(function(ba){var ia;tk(ba)&&(null===(ia=ba.boundElementIds)||void 0===ia||ia.forEach(function(ya){B.has(ya)||M.add(ya)}))});g.filter(function(ba){return M.has(ba.id)}).forEach(function(ba){var ia=ba.endBinding;jf(ba,{startBinding:mm(ba.startBinding,B),endBinding:mm(ia,B)})})},mm=function(g,y){return null==g||y.has(g.elementId)?null:g},rj=function(){for(var g=
0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},Qf=function(g){return g>=2*Math.PI?g-2*Math.PI:g},kf=function(g,y,B){return Gg(g)?{points:Ei(0,y,Ei(1,B,g.points))}:{}},Og=function(g,y,B){y=y/g.width*g.fontSize;if(1>y)return null;g=Ui(g.text,Ti({fontSize:y,fontFamily:g.fontFamily}));return{size:y,baseline:g.baseline+(B-g.height)}},Dl=function(g,y,B,M){var ba=Cg(g),ia=ba[0],ya=ba[1],
wa=ba[2],Da=ba[3];switch(y){case "se":var Pa=Math.max((B-ia)/(wa-ia),(M-ya)/(Da-ya));var Ka=function(tb,rb,dc){var Yb=rb[0];rb=rb[1];return{x:tb.x+(Yb-ia)*(Pa-1)+Yb-dc[0],y:tb.y+(rb-ya)*(Pa-1)+rb-dc[1]}};break;case "nw":Pa=Math.max((wa-B)/(wa-ia),(Da-M)/(Da-ya));Ka=function(tb,rb,dc){var Yb=rb[2];rb=rb[3];return{x:tb.x-(wa-Yb)*(Pa-1)+Yb-dc[2],y:tb.y-(Da-rb)*(Pa-1)+rb-dc[3]}};break;case "ne":Pa=Math.max((B-ia)/(wa-ia),(Da-M)/(Da-ya));Ka=function(tb,rb,dc){var Yb=rb[0];rb=rb[3];return{x:tb.x+(Yb-ia)*
(Pa-1)+Yb-dc[0],y:tb.y-(Da-rb)*(Pa-1)+rb-dc[3]}};break;case "sw":Pa=Math.max((wa-B)/(wa-ia),(M-ya)/(Da-ya)),Ka=function(tb,rb,dc){var Yb=rb[1];rb=rb[2];return{x:tb.x-(wa-rb)*(Pa-1)+rb-dc[2],y:tb.y+(Yb-ya)*(Pa-1)+Yb-dc[1]}}}if(0<Pa){var lb=g.reduce(function(tb,rb){if(!tb)return tb;var dc=rb.width*Pa,Yb=rb.height*Pa,zc={};if("text"===rb.type){zc=Og(rb,dc,Yb);if(null===zc)return null;zc={fontSize:zc.size,baseline:zc.baseline}}var fd=ig(rb),id=kf(rb,dc,Yb);yi(rb,{newSize:{width:dc,height:Yb},simultaneouslyUpdated:g});
var vd=Qg(Hc(Hc({},rb),id),dc,Yb);rb=Ka(rb,fd,vd);return rj(tb,[Hc(Hc({width:dc,height:Yb,x:rb.x,y:rb.y},id),zc)])},[]);lb&&g.forEach(function(tb,rb){jf(tb,lb[rb])})}},ll=function(g,y,B,M,ba,ia,ya){var wa=5*Math.PI/2+Math.atan2(M-ya,B-ia);ba&&(wa+=hc.ay/2,wa-=wa%hc.ay);y.forEach(function(Da,Pa){var Ka,lb,tb=ig(Da);Pa=(tb[0]+tb[2])/2;tb=(tb[1]+tb[3])/2;var rb=null!==(Ka=null===(lb=g.originalElements.get(Da.id))||void 0===lb?void 0:lb.angle)&&void 0!==Ka?Ka:Da.angle;Ka=Hf(Pa,tb,ia,ya,wa+rb-Da.angle);
jf(Da,{x:Da.x+(Ka[0]-Pa),y:Da.y+(Ka[1]-tb),angle:Qf(wa+rb)})})},ji=function(g,y,B,M,ba,ia,ya,wa,Da,Pa){var Ka;Da&&(ya=(Ka=Ye(y,ya,ia<M?-wa:wa)).width,0>(wa=Ka.height)&&(wa=-wa));y=ba<B?B-ya:B;ia=ia<M?M-wa:M;Pa&&(y=B-(ya+=ya)/2,ia=M-(wa+=wa)/2);0!==ya&&0!==wa&&jf(g,{x:y,y:ia,width:ya,height:wa})},ml=function(g){return g.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},lk=function(g){var y=Ui(g.text,Ti(g));jf(g,{width:y.width,height:y.height,baseline:y.baseline})},qh=function(g,y){return!(g.viewModeEnabled||
!g.editingElement&&!uf(y,g).length&&"selection"===g.elementType)},Gk=function(g){return g.filter(function(y){return y.isDeleted||!Rh(y)})},Yi=function(g){return g.reduce(function(y,B){return y[B.id]=B,y},{})},Yk=function(g){return g.reduce(function(y,B){return y+B.version},0)},ge=function(g){return g.filter(function(y){return!y.isDeleted})},Df=function(g){return ge(g).map(function(y){return ej(y.type)?Dc(Dc({},y),{},{lastCommittedPoint:null}):y})},ii=function(g,y,B){var M=[g.horizontal,g.vertical].map(function(ba){return null!=
ba&&ba.x<=y&&y<=ba.x+ba.width&&ba.y<=B&&B<=ba.y+ba.height});g=M[0];M=M[1];return{isOverEither:g||M,isOverHorizontal:g,isOverVertical:M}},kg=function(g,y){return g.some(function(B){return y.selectedElementIds[B.id]})},uf=function(g,y){return g.filter(function(B){return y.selectedElementIds[B.id]})},fk=function(g,y){return y.editingElement?[y.editingElement]:uf(g,y)},Vi=function(g){var y=g.scenePoint,B=g.viewportDimensions;g=g.zoom;return{scrollX:B.width/2*(1/g.value)-y.x-1/g.value*g.translation.x,
scrollY:B.height/2*(1/g.value)-y.y-1/g.value*g.translation.y}},ki=function(g,y,B){var M;if(!g.length)return{scrollX:0,scrollY:0};var ba=Cg(g);B=ba[0];var ia=ba[1],ya=ba[2];ba=ba[3];return function(wa,Da,Pa){Da=Pa[2];var Ka=Pa[3],lb=mh({sceneX:Pa[0],sceneY:Pa[1]},wa);Pa=lb.x;lb=lb.y;Da=mh({sceneX:Da,sceneY:Ka},wa);Ka=Da.y;return Da.x-Pa>wa.width||Ka-lb>wa.height}(y,0,[B,ia,ya,ba])&&(B=(M=function(wa,Da){if(!wa.length)return[0,0,0,0];var Pa=1/0,Ka=wa[0];return wa.forEach(function(lb){var tb=qi(lb);
tb=Math.hypot(Da.x-(tb[0]+tb[2])/2,Da.y-(tb[1]+tb[3])/2);tb<Pa&&(Pa=tb,Ka=lb)}),qi(Ka)}(g,vg({clientX:y.scrollX,clientY:y.scrollY},y)))[0],ia=M[1],ya=M[2],ba=M[3]),Vi({scenePoint:{x:(B+ya)/2,y:(ia+ba)/2},viewportDimensions:{width:y.width,height:y.height},zoom:y.zoom})},Mj=function(g){return"rectangle"===g||"ellipse"===g||"diamond"===g||"draw"===g||"line"===g},Uf=function(g){return"rectangle"===g||"ellipse"===g||"diamond"===g||"arrow"===g||"draw"===g||"line"===g},mk=function(g){return"rectangle"===
g||"arrow"===g||"draw"===g||"line"===g},li=function(g,y){for(var B=null,M=g.length-1;0<=M;--M){var ba=g[M];if(!ba.isDeleted&&y(ba)){B=ba;break}}return B},ai=function(g,y,B,M){return void 0===M&&(M={x:0,y:0}),{value:g,translation:{x:M.x-B.left-g/y.value*(M.x-B.left-y.translation.x),y:M.y-B.top-g/y.value*(M.y-B.top-y.translation.y)}}},Qj=function(g){g=parseFloat(g.toFixed(2));return Math.max(.1,Math.min(g,10))},gf=(e(9478),Ea().forwardRef(function(g,y){var B=Ea().useRef(null);Ea().useImperativeHandle(y,
function(){return B.current});y="ToolIcon_size_".concat(g.size||"m");return"button"===g.type?Ea().createElement("button",{className:mc("ToolIcon_type_button",y,g.className,g.visible&&!g.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!g.hidden,"ToolIcon--selected":g.selected}),hidden:g.hidden,title:g.title,"aria-label":g["aria-label"],type:"button",onClick:g.onClick,ref:B},Ea().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},g.icon||g.label,g.keyBindingLabel&&
Ea().createElement("span",{className:"ToolIcon__keybinding"},g.keyBindingLabel)),g.showAriaLabel&&Ea().createElement("div",{className:"ToolIcon__label"},g["aria-label"]),g.children):Ea().createElement("label",{className:mc("ToolIcon",g.className),title:g.title},Ea().createElement("input",{className:"ToolIcon_type_radio ".concat(y),type:"radio",name:g.name,"aria-label":g["aria-label"],"aria-keyshortcuts":g["aria-keyshortcuts"],"data-testid":g["data-testid"],id:g.id,onChange:g.onChange,checked:g.checked,
ref:B}),Ea().createElement("div",{className:"ToolIcon__icon"},g.icon,g.keyBindingLabel&&Ea().createElement("span",{className:"ToolIcon__keybinding"},g.keyBindingLabel)))}));gf.defaultProps={visible:!0,className:""};var Ag=function(g){return"light"===g?Ee.$y[4]:Ee.$y[9]},ue=function(g){return"light"===g?Ee.Sn:Ee.MA[4]},Ig=function(g){return"light"===g?Ee.ix:"#1e1e1e"},ze=function(g,y){void 0===y&&(y=512);y="number"==typeof y?{width:y}:y;var B=y.width;B=void 0===B?512:B;var M=y.height;M=void 0===M?
B:M;var ba=y.mirror;y=y.style;return Ea().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(B," ").concat(M),className:mc({"rtl-mirror":ba}),style:y},"string"==typeof g?Ea().createElement("path",{fill:"currentColor",d:g}):g)},nl=ze("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),De=ze("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Em=ze("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),nm=ze("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),ok=ze("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Pi=ze("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Mh=ze("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
sh=ze("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),mi=ze("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Cj=ze("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),nk=ze("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Mk=ze("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
lh=ze("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Dj=ze("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),ed=ze("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),$d=ze(Ea().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),td=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,
null,Ea().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ue(g),stroke:ue(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(g),stroke:Ag(g),strokeWidth:"2"})),{width:24,mirror:!0})}),Id=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,
null,Ea().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(g),stroke:Ag(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ue(g),stroke:ue(g),strokeWidth:"2"})),{width:24,mirror:!0})}),ni=Ea().memo(function(g){g=g.appearance;
return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:ue(g),stroke:ue(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(g),stroke:Ag(g),strokeWidth:"2"})),{width:24,mirror:!0})}),Gf=Ea().memo(function(g){g=
g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(g),stroke:Ag(g),strokeLinejoin:"round",strokeWidth:"2"}),Ea().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:ue(g),stroke:ue(g),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),Gh=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 2,5 H 22",fill:ue(g),stroke:ue(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:Ag(g),stroke:Ag(g),strokeWidth:"2"})),{width:24,mirror:!0})}),rg=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 2,19 H 22",fill:ue(g),stroke:ue(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Ag(g),stroke:Ag(g),strokeWidth:"2"})),{width:24,mirror:!0})}),yj=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 5,2 V 22",fill:ue(g),stroke:ue(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Ag(g),stroke:Ag(g),strokeWidth:"2"})),{width:24})}),hd=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 19,2 V 22",fill:ue(g),stroke:ue(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Ag(g),stroke:Ag(g),strokeWidth:"2"})),{width:24})}),od=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M5 5V19Z",fill:"black"}),Ea().createElement("path",{d:"M19 5V19M5 5V19",stroke:ue(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(g),stroke:Ag(g),strokeWidth:"2"})),{width:24})}),Pg=
Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M5 5L19 5M5 19H19",fill:ue(g),stroke:ue(g),strokeWidth:"2",strokeLinecap:"round"}),Ea().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(g),stroke:Ag(g),strokeWidth:"2"})),{width:24})}),ad=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:Ag(g),stroke:Ag(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M 2,12 H 22",fill:ue(g),stroke:ue(g),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Nk=Ea().memo(function(g){g=g.appearance;
return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:Ag(g),stroke:Ag(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M 12,2 V 22",fill:ue(g),stroke:ue(g),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),El=ze("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),sj=(ze("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ze("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ze("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),kh=ze("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),tg=ze("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Vd=ze("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),sf=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",
{d:"M25 26H111V111H25",fill:ue(g)}),Ea().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ue(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M100 100H160V160H100",fill:ue(g)}),Ea().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:ue(g),strokeWidth:"2"}),Ea().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"}),Ea().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Hk=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement(Ea().Fragment,null,Ea().createElement("path",{d:"M25 26H111V111H25",fill:ue(g)}),Ea().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ue(g),strokeWidth:"2"}),Ea().createElement("path",{d:"M100 100H160V160H100",fill:ue(g)}),Ea().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:ue(g),strokeWidth:"2"}),Ea().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"}),Ea().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Ig(g),stroke:ue(g),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Ok=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:ue(g)}),{width:40,height:20})}),ce=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("g",{fill:ue(g),fillRule:"evenodd",clipRule:"evenodd"},Ea().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),Ea().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),om=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("path",{d:"M2 2H38V18H2V2Z",fill:ue(g)}),{width:40,height:20})}),Zi=Ea().memo(function(g){var y=g.appearance;g=g.strokeWidth;return ze(Ea().createElement("path",{d:"M6 10H34",stroke:ue(y),strokeWidth:g,fill:"none"}),{width:40,height:20})}),Yd=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("path",{d:"M6 10H34",stroke:ue(g),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Zk=Ea().memo(function(g){g=
g.appearance;return ze(Ea().createElement("path",{d:"M6 10H34",stroke:ue(g),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),eg=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("path",{d:"M6 10H34",stroke:ue(g),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Qi=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:ue(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),xm=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:ue(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),pk=Ea().memo(function(g){g=
g.appearance;return ze(Ea().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:ue(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),$k=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("path",
{d:"M10 17L10 5L35 5",stroke:ue(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Pk=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:ue(g),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Ik=Ea().memo(function(g){g=g.appearance;return ze(Ea().createElement("path",{d:"M6 10H34",stroke:ue(g),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Hh=Ea().memo(function(g){var y=g.appearance;g=g.flip;g=void 0!==
g&&g;return ze(Ea().createElement("g",{transform:g?"translate(40, 0) scale(-1, 1)":"",stroke:ue(y),strokeWidth:2,fill:"none"},Ea().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),Ea().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),Qm=Ea().memo(function(g){var y=g.appearance;g=g.flip;g=void 0!==g&&g;return ze(Ea().createElement("g",{stroke:ue(y),fill:ue(y),transform:g?"translate(40, 0) scale(-1, 1)":""},Ea().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
Ea().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Fj=Ea().memo(function(g){var y=g.appearance;g=g.flip;g=void 0!==g&&g;return ze(Ea().createElement("g",{transform:g?"translate(40, 0) scale(-1, 1)":""},Ea().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:ue(y),strokeWidth:2,fill:"none"})),{width:40,height:20})}),jg=[],ne=function(g){return jg=jg.concat(g),g},ph=function(g,y){var B;return g.editingGroupId&&(y=Xj(ge(y),g.editingGroupId),
y.length)?Wc(Wc({},g),{},{selectedElementIds:(B={},B[y[0].id]=!0,B)}):g},Sg=ne({name:"deleteSelectedElements",perform:function(g,y){if(y.editingLinearElement){var B=y.editingLinearElement,M=B.activePointIndex,ba=B.startBindingElement,ia=B.endBindingElement,ya=dg.getElement(B.elementId);if(!ya)return!1;if(null==M||-1===M||2>ya.points.length)return g=g.filter(function(wa){return wa.id!==ya.id}),{elements:g,appState:Wc(Wc({},ph(y,g)),{},{editingLinearElement:null}),commitToHistory:!1};B={startBindingElement:0===
M?null:ba,endBindingElement:M===ya.points.length-1?null:ia};return dg.movePoint(ya,M,"delete"),{elements:g,appState:Wc(Wc({},y),{},{editingLinearElement:Wc(Wc(Wc({},y.editingLinearElement),B),{},{activePointIndex:0<M?M-1:0})}),commitToHistory:!0}}B=function(wa,Da){return{elements:wa.map(function(Pa){return Da.selectedElementIds[Pa.id]?zg(Pa,{isDeleted:!0}):Pa}),appState:Wc(Wc({},Da),{},{selectedElementIds:{}})}}(g,y);M=B.elements;B=B.appState;return qj(M,g.filter(function(wa){return y.selectedElementIds[wa.id]})),
{elements:M,appState:Wc(Wc({},B=ph(B,M)),{},{elementType:"selection",multiElement:null}),commitToHistory:kg(ge(g),y)}},contextItemLabel:"labels.delete",keyTest:function(g){return"Backspace"===g.key||"Delete"===g.key},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{type:"button",icon:Pi,title:eb("labels.delete"),"aria-label":eb("labels.delete"),onClick:function(){return M(null)},visible:kg(ge(y),B)})}}),ol=function(){for(var g=0,y=0,B=arguments.length;y<
B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},Sl=function(g,y){for(var B=[],M=[],ba=null,ia=-1;++ia<g.length;)y.selectedElementIds[g[ia].id]?(M.length&&(B=B.concat(M),M=[]),B.push(ia),ba=ia+1):g[ia].isDeleted&&ba===ia?(ba=ia+1,M.push(ia)):M=[];return B},Nh=function(g,y,B,M){var ba=y[B],ia=function(ya){return!ya.isDeleted&&(!g.editingGroupId||ya.groupIds.includes(g.editingGroupId))};B="left"===M?function(ya,
wa,Da){void 0===Da&&(Da=ya.length-1);0>Da&&(Da=ya.length+Da);for(Da=Math.min(ya.length-1,Math.max(Da,0))+1;-1<--Da;)if(wa(ya[Da],Da,ya))return Da;return-1}(y,ia,Math.max(0,B-1)):function(ya,wa,Da){void 0===Da&&(Da=0);0>Da&&(Da=ya.length+Da);for(Da=Math.min(ya.length,Math.max(Da,0))-1;++Da<ya.length;)if(wa(ya[Da],Da,ya))return Da;return-1}(y,ia,B+1);ia=y[B];if(!ia)return-1;if(g.editingGroupId){if((null==ba?void 0:ba.groupIds.join(""))===(null==ia?void 0:ia.groupIds.join("")))return B;if(null==ia||
!ia.groupIds.includes(g.editingGroupId))return-1}if(!ia.groupIds.length)return B;ba=g.editingGroupId?ia.groupIds[ia.groupIds.indexOf(g.editingGroupId)-1]:ia.groupIds[ia.groupIds.length-1];ba=Xj(y,ba);return ba.length?"left"===M?y.indexOf(ba[0]):y.indexOf(ba[ba.length-1]):B},pe=function(g,y,B){var M,ba=Sl(y,g),ia=(M=0,ba.reduce(function(ya,wa,Da){return 0<Da&&ba[Da-1]!==wa-1&&(M=++M),(ya[M]||(ya[M]=[])).push(wa),ya},[]));return"right"===B&&(ia=ia.reverse()),ia.forEach(function(ya,wa){wa=ya[0];ya=ya[ya.length-
1];var Da="left"===B?wa:ya,Pa=Nh(g,y,Da,B);if(-1!==Pa&&Da!==Pa){Da="left"===B?y.slice(0,Pa):y.slice(0,wa);var Ka=y.slice(wa,ya+1);wa="left"===B?y.slice(Pa,wa):y.slice(ya+1,Pa+1);ya="left"===B?y.slice(ya+1):y.slice(Pa+1);y="left"===B?ol(Da,Ka,wa,ya):ol(Da,wa,Ka,ya)}}),y},Xg=function(g,y,B){var M=Sl(g,y),ba=[],ia=[];if("left"===B){if(y.editingGroupId){if(!(y=Xj(g,y.editingGroupId)).length)return g;var ya=g.indexOf(y[0])}else ya=0;y=M[M.length-1]}else{if(y.editingGroupId){if(!(y=Xj(g,y.editingGroupId)).length)return g;
y=g.indexOf(y[y.length-1])}else y=g.length-1;ya=M[0]}for(var wa=ya;wa<y+1;wa++)M.includes(wa)?ba.push(g[wa]):ia.push(g[wa]);M=g.slice(0,ya);g=g.slice(y+1);return"left"===B?ol(M,ba,ia,g):ol(M,ia,ba,g)},ym=ne({name:"sendBackward",perform:function(g,y){return{elements:pe(y,g.slice(),"left"),appState:y,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(g){return g[bf]&&!g.shiftKey&&"BracketLeft"===g.code},PanelComponent:function(g){var y=g.updateData;g=g.appState;
return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return y(null)},title:"".concat(eb("labels.sendBackward")," — ").concat(Wd("CtrlOrCmd+["))},Ea().createElement(Id,{appearance:g.appearance}))}}),pl=ne({name:"bringForward",perform:function(g,y){return{elements:pe(y,g.slice(),"right"),appState:y,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(g){return g[bf]&&!g.shiftKey&&"BracketRight"===g.code},PanelComponent:function(g){var y=
g.updateData;g=g.appState;return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return y(null)},title:"".concat(eb("labels.bringForward")," — ").concat(Wd("CtrlOrCmd+]"))},Ea().createElement(td,{appearance:g.appearance}))}}),w=ne({name:"sendToBack",perform:function(g,y){return{elements:Xg(g,y,"left"),appState:y,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(g){return Lg?g[bf]&&g.altKey&&"BracketLeft"===g.code:g[bf]&&g.shiftKey&&"BracketLeft"===
g.code},PanelComponent:function(g){var y=g.updateData;g=g.appState;return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return y(null)},title:"".concat(eb("labels.sendToBack")," — ").concat(Wd(Lg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},Ea().createElement(Gf,{appearance:g.appearance}))}}),I=ne({name:"bringToFront",perform:function(g,y){return{elements:Xg(g,y,"right"),appState:y,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(g){return Lg?
g[bf]&&g.altKey&&"BracketRight"===g.code:g[bf]&&g.shiftKey&&"BracketRight"===g.code},PanelComponent:function(g){var y=g.updateData;g=g.appState;return Ea().createElement("button",{type:"button",className:"zIndexButton",onClick:function(B){return y(null)},title:"".concat(eb("labels.bringToFront")," — ").concat(Wd(Lg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},Ea().createElement(ni,{appearance:g.appearance}))}}),ja=ne({name:"selectAll",perform:function(g,y){return!y.editingLinearElement&&{appState:Vh(kd(kd({},
y),{},{editingGroupId:null,selectedElementIds:g.reduce(function(B,M){return M.isDeleted||(B[M.id]=!0),B},{})}),ge(g)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(g){return g[bf]&&"a"===g.key}}),da=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},qa=ne({name:"duplicateSelection",perform:function(g,y){if(y.editingLinearElement){var B=
y.editingLinearElement,M=B.activePointIndex;B=dg.getElement(B.elementId);if(!B||null===M)return!1;var ba=B.points,ia=ba[M],ya=ba[M+1];return jf(B,{points:da(ba.slice(0,M+1),[ya?[(ia[0]+ya[0])/2,(ia[1]+ya[1])/2]:[ia[0]+30,ia[1]+30]],ba.slice(M+1))}),{appState:te(te({},y),{},{editingLinearElement:te(te({},y.editingLinearElement),{},{activePointIndex:M+1})}),elements:g,commitToHistory:!0}}return te(te({},Fa(g,y)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(g){return g[bf]&&
"d"===g.key},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{type:"button",icon:tg,title:"".concat(eb("labels.duplicateSelection")," — ").concat(Wd("CtrlOrCmd+D")),"aria-label":eb("labels.duplicateSelection"),onClick:function(){return M(null)},visible:kg(ge(y),B)})}}),Fa=function(g,y){for(var B=new Map,M=[],ba=[],ia=new Map,ya=function(lb){var tb=Wi(y.editingGroupId,B,lb,{x:lb.x+hc.k/2,y:lb.y+hc.k/2});return ia.set(lb.id,tb.id),ba.push(lb),M.push(tb),
tb},wa=[],Da=0;Da<g.length;){var Pa=g[Da];if(y.selectedElementIds[Pa.id]){if(Pa.groupIds.length){var Ka=yh(y,Pa);if(Ka){Pa=Xj(g,Ka);wa.push.apply(wa,da(Pa,Pa.map(function(lb){return ya(lb)})));Da+=Pa.length;continue}}wa.push(Pa,ya(Pa))}else wa.push(Pa);Da++}return Rj(wa,ba,ia),{elements:wa,appState:Vh(te(te({},y),{},{selectedGroupIds:{},selectedElementIds:M.reduce(function(lb,tb){return lb[tb.id]=!0,lb},{})}),ge(wa))}},Oa=function(g){var y=g.options,B=g.value,M=g.onChange,ba=g.group;return Ea().createElement("div",
{className:"buttonList buttonListIcon"},y.map(function(ia){return Ea().createElement("label",{key:ia.text,className:mc({active:B===ia.value}),title:ia.text},Ea().createElement("input",{type:"radio",name:ba,onChange:function(){return M(ia.value)},checked:B===ia.value}),ia.icon)}))},Qa=function(g){var y=g.options,B=g.value,M=g.onChange,ba=g.group;return Ea().createElement("div",{className:"buttonList"},y.map(function(ia){return Ea().createElement("label",{key:ia.text,className:mc({active:B===ia.value})},
Ea().createElement("input",{type:"radio",name:ba,onChange:function(){return M(ia.value)},checked:B===ia.value}),ia.text)}))},jb=(e(2816),function(g){var y=g.children,B=g.left,M=g.top,ba=g.onCloseRequest;g=g.fitInViewport;var ia=void 0!==g&&g,ya=(0,jc.useRef)(null);return(0,jc.useLayoutEffect)(function(){if(ia&&ya.current){var wa=ya.current,Da=wa.getBoundingClientRect(),Pa=Da.y,Ka=Da.width,lb=Da.height,tb=window.innerWidth;Da.x+Ka>tb&&(wa.style.left="".concat(tb-Ka,"px"));Da=window.innerHeight;Pa+
lb>Da&&(wa.style.top="".concat(Da-lb,"px"))}},[ia]),(0,jc.useEffect)(function(){if(ba){var wa=function(Da){var Pa;null!==(Pa=ya.current)&&void 0!==Pa&&Pa.contains(Da.target)||(0,$f.unstable_batchedUpdates)(function(){return ba(Da)})};return document.addEventListener("pointerdown",wa,!1),function(){return document.removeEventListener("pointerdown",wa,!1)}}},[ba]),Ea().createElement("div",{className:"popover",style:{top:M,left:B},ref:ya},y)}),Fb=(e(5574),function(g){var y=(new Option).style;return y.color=
g,!!y.color}),Ib=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),wc=function(g){var y=g.colors,B=g.color,M=g.onChange,ba=g.onClose,ia=g.label,ya=g.showInput,wa=void 0===ya||ya;g=g.type;var Da=Ea().useRef(),Pa=Ea().useRef(),Ka=Ea().useRef(),lb=Ea().useRef();Ea().useEffect(function(){Pa.current?Pa.current.focus():lb.current?lb.current.focus():Ka.current&&Ka.current.focus()},[]);return Ea().createElement("div",{className:"color-picker color-picker-type-".concat(g),role:"dialog",
"aria-modal":"true","aria-label":eb("labels.colorPicker"),onKeyDown:function(tb){if("Tab"===tb.key){var rb,dc=document.activeElement;if(tb.shiftKey)dc===Da.current&&(null===(rb=lb.current)||void 0===rb||rb.focus(),tb.preventDefault());else if(dc===lb.current){var Yb;null===(Yb=Da.current)||void 0===Yb||Yb.focus();tb.preventDefault()}}else yg(tb.key)?(dc=document.activeElement,rb=ua.rtl,-1!==(Yb=Array.prototype.indexOf.call(Ka.current.children,dc))&&(dc=Ka.current.children.length-(wa?1:0),Ka.current.children[tb.key===
(rb?"ArrowLeft":"ArrowRight")?(Yb+1)%dc:tb.key===(rb?"ArrowRight":"ArrowLeft")?(dc+Yb-1)%dc:"ArrowDown"===tb.key?(Yb+5)%dc:"ArrowUp"===tb.key?(dc+Yb-5)%dc:Yb].focus()),tb.preventDefault()):Ib.includes(tb.key.toLowerCase())&&!Dg(tb.target)?(Yb=Ib.indexOf(tb.key.toLowerCase()),Ka.current.children[Yb].focus(),tb.preventDefault()):"Escape"!==tb.key&&"Enter"!==tb.key||(tb.preventDefault(),ba());tb.nativeEvent.stopImmediatePropagation()}},Ea().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),
Ea().createElement("div",{className:"color-picker-triangle"}),Ea().createElement("div",{className:"color-picker-content",ref:function(tb){tb&&(Ka.current=tb)},tabIndex:0},y.map(function(tb,rb){return Ea().createElement("button",{className:"color-picker-swatch",onClick:function(dc){dc.currentTarget.focus();M(tb)},title:"".concat(tb," — ").concat(Ib[rb].toUpperCase()),"aria-label":tb,"aria-keyshortcuts":Ib[rb],style:{color:tb},key:tb,ref:function(dc){dc&&0===rb&&(Da.current=dc);dc&&tb===B&&(Pa.current=
dc)},onFocus:function(){M(tb)}},"transparent"===tb?Ea().createElement("div",{className:"color-picker-transparent"}):void 0,Ea().createElement("span",{className:"color-picker-keybinding"},Ib[rb]))}),wa&&Ea().createElement(yc,{color:B,label:ia,onChange:function(tb){M(tb)},ref:lb})))},yc=Ea().forwardRef(function(g,y){var B=g.color,M=g.onChange;g=g.label;var ba=Ea().useState(B),ia=ba[0],ya=ba[1],wa=Ea().useRef(null);Ea().useEffect(function(){ya(B)},[B]);Ea().useImperativeHandle(y,function(){return wa.current});
var Da=Ea().useCallback(function(Pa){Pa=Pa.toLowerCase();var Ka;(Ka="transparent"===Pa||Fb(Pa)?Pa:Fb("#".concat(Pa))?"#".concat(Pa):null)&&M(Ka);ya(Pa)},[M]);return Ea().createElement("label",{className:"color-input-container"},Ea().createElement("div",{className:"color-picker-hash"},"#"),Ea().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":g,onChange:function(Pa){return Da(Pa.target.value)},value:(ia||"").replace(/^#/,""),onBlur:function(){return ya(B)},ref:wa}))}),
lc=function(g){var y=g.type,B=g.color,M=g.onChange;g=g.label;var ba=Ea().useState(!1),ia=ba[0],ya=ba[1],wa=Ea().useRef(null);return Ea().createElement("div",null,Ea().createElement("div",{className:"color-picker-control-container"},Ea().createElement("button",{className:"color-picker-label-swatch","aria-label":g,style:B?{"--swatch-color":B}:void 0,onClick:function(){return ya(!ia)},ref:wa}),Ea().createElement(yc,{color:B,label:g,onChange:function(Da){M(Da)}})),Ea().createElement(Ea().Suspense,{fallback:""},
ia?Ea().createElement(jb,{onCloseRequest:function(Da){return Da.target!==wa.current&&ya(!1)}},Ea().createElement(wc,{colors:xk[y],color:B||null,onChange:function(Da){M(Da)},onClose:function(){var Da;ya(!1);null===(Da=wa.current)||void 0===Da||Da.focus()},label:g,showInput:!1,type:y})):null))},bd=e(6950),Pd=e.n(bd);e(7143);var ve=function(g,y,B){return g.map(function(M){var ba;return y.selectedElementIds[M.id]||M.id===(null===(ba=y.editingElement)||void 0===ba?void 0:ba.id)?B(M):M})},qg=function(g,
y,B,M){var ba,ia,ya=y.editingElement;g=ge(g);return null!==(ba=null!==(ia=ya&&B(ya))&&void 0!==ia?ia:kg(g,y)?function(wa,Da,Pa){wa=Array.from(new Set(uf(wa,Da).map(function(Ka){return Pa(Ka)})));return 1===wa.length?wa[0]:null}(g,y,B):M)&&void 0!==ba?ba:null},Ce=(ne({name:"changeStrokeColor",perform:function(g,y,B){return{elements:ve(g,y,function(M){return zg(M,{strokeColor:B})}),appState:Ne(Ne({},y),{},{currentItemStrokeColor:B}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=
g.appState;g=g.updateData;return Ea().createElement(Ea().Fragment,null,Ea().createElement("h3",{"aria-hidden":"true"},eb("labels.stroke")),Ea().createElement(lc,{type:"elementStroke",label:eb("labels.stroke"),color:qg(y,B,function(M){return M.strokeColor},B.currentItemStrokeColor),onChange:g}))}}),ne({name:"changeBackgroundColor",perform:function(g,y,B){return{elements:ve(g,y,function(M){return zg(M,{backgroundColor:B})}),appState:Ne(Ne({},y),{},{currentItemBackgroundColor:B}),commitToHistory:!0}},
PanelComponent:function(g){var y=g.elements,B=g.appState;g=g.updateData;return Ea().createElement(Ea().Fragment,null,Ea().createElement("h3",{"aria-hidden":"true"},eb("labels.background")),Ea().createElement(lc,{type:"elementBackground",label:eb("labels.background"),color:qg(y,B,function(M){return M.backgroundColor},B.currentItemBackgroundColor),onChange:g}))}}),ne({name:"changeFillStyle",perform:function(g,y,B){return{elements:ve(g,y,function(M){return zg(M,{fillStyle:B})}),appState:Ne(Ne({},y),
{},{currentItemFillStyle:B}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.fill")),Ea().createElement(Oa,{options:[{value:"hachure",text:eb("labels.hachure"),icon:Ea().createElement(Ok,{appearance:B.appearance})},{value:"cross-hatch",text:eb("labels.crossHatch"),icon:Ea().createElement(ce,{appearance:B.appearance})},{value:"solid",text:eb("labels.solid"),icon:Ea().createElement(om,
{appearance:B.appearance})}],group:"fill",value:qg(y,B,function(ba){return ba.fillStyle},B.currentItemFillStyle),onChange:function(ba){M(ba)}}))}}),ne({name:"changeStrokeWidth",perform:function(g,y,B){return{elements:ve(g,y,function(M){return zg(M,{strokeWidth:B})}),appState:Ne(Ne({},y),{},{currentItemStrokeWidth:B}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.strokeWidth")),
Ea().createElement(Oa,{group:"stroke-width",options:[{value:1,text:eb("labels.thin"),icon:Ea().createElement(Zi,{appearance:B.appearance,strokeWidth:2})},{value:2,text:eb("labels.bold"),icon:Ea().createElement(Zi,{appearance:B.appearance,strokeWidth:6})},{value:4,text:eb("labels.extraBold"),icon:Ea().createElement(Zi,{appearance:B.appearance,strokeWidth:10})}],value:qg(y,B,function(ba){return ba.strokeWidth},B.currentItemStrokeWidth),onChange:function(ba){return M(ba)}}))}}),ne({name:"changeSloppiness",
perform:function(g,y,B){return{elements:ve(g,y,function(M){return zg(M,{seed:Uj(),roughness:B})}),appState:Ne(Ne({},y),{},{currentItemRoughness:B}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.sloppiness")),Ea().createElement(Oa,{group:"sloppiness",options:[{value:0,text:eb("labels.architect"),icon:Ea().createElement(Qi,{appearance:B.appearance})},{value:1,text:eb("labels.artist"),
icon:Ea().createElement(xm,{appearance:B.appearance})},{value:2,text:eb("labels.cartoonist"),icon:Ea().createElement(pk,{appearance:B.appearance})}],value:qg(y,B,function(ba){return ba.roughness},B.currentItemRoughness),onChange:function(ba){return M(ba)}}))}}),ne({name:"changeStrokeStyle",perform:function(g,y,B){return{elements:ve(g,y,function(M){return zg(M,{strokeStyle:B})}),appState:Ne(Ne({},y),{},{currentItemStrokeStyle:B}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,
M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.strokeStyle")),Ea().createElement(Oa,{group:"strokeStyle",options:[{value:"solid",text:eb("labels.strokeStyle_solid"),icon:Ea().createElement(Yd,{appearance:B.appearance})},{value:"dashed",text:eb("labels.strokeStyle_dashed"),icon:Ea().createElement(Zk,{appearance:B.appearance})},{value:"dotted",text:eb("labels.strokeStyle_dotted"),icon:Ea().createElement(eg,{appearance:B.appearance})}],value:qg(y,
B,function(ba){return ba.strokeStyle},B.currentItemStrokeStyle),onChange:function(ba){return M(ba)}}))}}),ne({name:"changeOpacity",perform:function(g,y,B){return{elements:ve(g,y,function(M){return zg(M,{opacity:B})}),appState:Ne(Ne({},y),{},{currentItemOpacity:B}),commitToHistory:!0}},PanelComponent:function(g){var y,B=g.elements,M=g.appState,ba=g.updateData;return Ea().createElement("label",{className:"control-label"},eb("labels.opacity"),Ea().createElement("input",{type:"range",min:"0",max:"100",
step:"10",onChange:function(ia){return ba(+ia.target.value)},onWheel:function(ia){ia.stopPropagation();var ya=+ia.target.value;0>ia.deltaY&&100>ya?ba(ya+10):0<ia.deltaY&&0<ya&&ba(ya-10)},value:null!==(y=qg(B,M,function(ia){return ia.opacity},M.currentItemOpacity))&&void 0!==y?y:void 0}))}}),ne({name:"changeFontSize",perform:function(g,y,B){return{elements:ve(g,y,function(M){return be(M)?(M=zg(M,{fontSize:B}),lk(M),M):M}),appState:Ne(Ne({},y),{},{currentItemFontSize:B}),commitToHistory:!0}},PanelComponent:function(g){var y=
g.elements,B=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.fontSize")),Ea().createElement(Qa,{group:"font-size",options:[{value:16,text:eb("labels.small")},{value:20,text:eb("labels.medium")},{value:28,text:eb("labels.large")},{value:36,text:eb("labels.veryLarge")}],value:qg(y,B,function(ba){return be(ba)&&ba.fontSize},B.currentItemFontSize||hc.n5),onChange:function(ba){return M(ba)}}))}}),ne({name:"changeFontFamily",perform:function(g,
y,B){return{elements:ve(g,y,function(M){return be(M)?(M=zg(M,{fontFamily:B}),lk(M),M):M}),appState:Ne(Ne({},y),{},{currentItemFontFamily:B}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;g=[{value:1,text:eb("labels.handDrawn")},{value:2,text:eb("labels.normal")},{value:3,text:eb("labels.code")}];return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.fontFamily")),Ea().createElement(Qa,{group:"font-family",options:g,value:qg(y,
B,function(ba){return be(ba)&&ba.fontFamily},B.currentItemFontFamily||hc.rk),onChange:function(ba){return M(ba)}}))}}),ne({name:"changeTextAlign",perform:function(g,y,B){return{elements:ve(g,y,function(M){return be(M)?(M=zg(M,{textAlign:B}),lk(M),M):M}),appState:Ne(Ne({},y),{},{currentItemTextAlign:B}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.textAlign")),Ea().createElement(Qa,
{group:"text-align",options:[{value:"left",text:eb("labels.left")},{value:"center",text:eb("labels.center")},{value:"right",text:eb("labels.right")}],value:qg(y,B,function(ba){return be(ba)&&ba.textAlign},B.currentItemTextAlign),onChange:function(ba){return M(ba)}}))}}),ne({name:"changeSharpness",perform:function(g,y,B){var M=fk(ge(g),y),ba=M.length?M.every(function(ia){return!Gg(ia)}):!ej(y.elementType);M=M.length?M.every(Gg):ej(y.elementType);return{elements:ve(g,y,function(ia){return zg(ia,{strokeSharpness:B})}),
appState:Ne(Ne({},y),{},{currentItemStrokeSharpness:ba?B:y.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:M?B:y.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.edges")),Ea().createElement(Oa,{group:"edges",options:[{value:"sharp",text:eb("labels.sharp"),icon:Ea().createElement($k,{appearance:B.appearance})},{value:"round",
text:eb("labels.round"),icon:Ea().createElement(Pk,{appearance:B.appearance})}],value:qg(y,B,function(ba){return ba.strokeSharpness},mk(B.elementType)&&(ej(B.elementType)?B.currentItemLinearStrokeSharpness:B.currentItemStrokeSharpness)||null),onChange:function(ba){return M(ba)}}))}}),ne({name:"changeArrowhead",perform:function(g,y,B){var M;return{elements:ve(g,y,function(ba){if(Gg(ba)){var ia=B.position,ya=B.type;if("start"===ia)return zg(ba,{startArrowhead:ya});if("end"===ia)return zg(ba,{endArrowhead:ya})}return ba}),
appState:Ne(Ne({},y),{},(M={},M["start"===B.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=B.type,M)),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;g=ua.rtl;return Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.arrowheads")),Ea().createElement("div",{className:"iconSelectList"},Ea().createElement(wd,{label:"arrowhead_start",options:[{value:null,text:eb("labels.arrowhead_none"),icon:Ea().createElement(Ik,
{appearance:B.appearance}),keyBinding:"q"},{value:"arrow",text:eb("labels.arrowhead_arrow"),icon:Ea().createElement(Hh,{appearance:B.appearance,flip:!g}),keyBinding:"w"},{value:"bar",text:eb("labels.arrowhead_bar"),icon:Ea().createElement(Fj,{appearance:B.appearance,flip:!g}),keyBinding:"e"},{value:"dot",text:eb("labels.arrowhead_dot"),icon:Ea().createElement(Qm,{appearance:B.appearance,flip:!g}),keyBinding:"r"}],value:qg(y,B,function(ba){return Gg(ba)&&"arrow"===ba.type?ba.startArrowhead:B.currentItemStartArrowhead},
B.currentItemStartArrowhead),onChange:function(ba){return M({position:"start",type:ba})}}),Ea().createElement(wd,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:eb("labels.arrowhead_none"),keyBinding:"q",icon:Ea().createElement(Ik,{appearance:B.appearance})},{value:"arrow",text:eb("labels.arrowhead_arrow"),keyBinding:"w",icon:Ea().createElement(Hh,{appearance:B.appearance,flip:g})},{value:"bar",text:eb("labels.arrowhead_bar"),keyBinding:"e",icon:Ea().createElement(Fj,{appearance:B.appearance,
flip:g})},{value:"dot",text:eb("labels.arrowhead_dot"),keyBinding:"r",icon:Ea().createElement(Qm,{appearance:B.appearance,flip:g})}],value:qg(y,B,function(ba){return Gg(ba)&&"arrow"===ba.type?ba.endArrowhead:B.currentItemEndArrowhead},B.currentItemEndArrowhead),onChange:function(ba){return M({position:"end",type:ba})}})))}}),e(2189)),yf=e.n(Ce),lg=Ea().createContext(!1),xg=function(){return window.matchMedia?window.matchMedia(yf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},
mg=function(g){g=g.children;var y=(0,jc.useRef)();y.current||(y.current=xg());var B=(0,jc.useState)(y.current.matches),M=B[0],ba=B[1];return(0,jc.useEffect)(function(){var ia=function(){return ba(y.current.matches)};return y.current.addListener(ia),function(){return y.current.removeListener(ia)}},[]),Ea().createElement(lg.Provider,{value:M},g)};ne({name:"changeViewBackgroundColor",perform:function(g,y,B){return{appState:Ke(Ke({},y),{},{viewBackgroundColor:B}),commitToHistory:!0}},PanelComponent:function(g){var y=
g.appState,B=g.updateData;return Ea().createElement("div",{style:{position:"relative"}},Ea().createElement(lc,{label:eb("labels.canvasBackground"),type:"canvasBackground",color:y.viewBackgroundColor,onChange:function(M){return B(M)}}))}});ne({name:"clearCanvas",perform:function(g,y){return{elements:g.map(function(B){return zg(B,{isDeleted:!0})}),appState:Ke(Ke({},Ch()),{},{appearance:y.appearance,elementLocked:y.elementLocked,exportBackground:y.exportBackground,exportEmbedScene:y.exportEmbedScene,
gridSize:y.gridSize,shouldAddWatermark:y.shouldAddWatermark,showStats:y.showStats,pasteDialog:y.pasteDialog}),commitToHistory:!0}},PanelComponent:function(g){var y=g.updateData;return Ea().createElement(gf,{type:"button",icon:Pi,title:eb("buttons.clearReset"),"aria-label":eb("buttons.clearReset"),showAriaLabel:Ve(),onClick:function(){window.confirm(eb("alerts.clearReset"))&&y(null)}})}});ne({name:"zoomIn",perform:function(g,y){g=ai(Qj(y.zoom.value+hc.V4),y.zoom,{left:y.offsetLeft,top:y.offsetTop},
{x:y.width/2,y:y.height/2});return{appState:Ke(Ke({},y),{},{zoom:g}),commitToHistory:!1}},PanelComponent:function(g){var y=g.updateData;return Ea().createElement(gf,{type:"button",icon:mi,title:"".concat(eb("buttons.zoomIn")," — ").concat(Wd("CtrlOrCmd++")),"aria-label":eb("buttons.zoomIn"),onClick:function(){y(null)}})},keyTest:function(g){return("Equal"===g.code||"NumpadAdd"===g.code)&&(g[bf]||g.shiftKey)}});ne({name:"zoomOut",perform:function(g,y){g=ai(Qj(y.zoom.value-hc.V4),y.zoom,{left:y.offsetLeft,
top:y.offsetTop},{x:y.width/2,y:y.height/2});return{appState:Ke(Ke({},y),{},{zoom:g}),commitToHistory:!1}},PanelComponent:function(g){var y=g.updateData;return Ea().createElement(gf,{type:"button",icon:Cj,title:"".concat(eb("buttons.zoomOut")," — ").concat(Wd("CtrlOrCmd+-")),"aria-label":eb("buttons.zoomOut"),onClick:function(){y(null)}})},keyTest:function(g){return("Minus"===g.code||"NumpadSubtract"===g.code)&&(g[bf]||g.shiftKey)}});ne({name:"resetZoom",perform:function(g,y){return{appState:Ke(Ke({},
y),{},{zoom:ai(1,y.zoom,{left:y.offsetLeft,top:y.offsetTop},{x:y.width/2,y:y.height/2})}),commitToHistory:!1}},PanelComponent:function(g){var y=g.updateData;return Ea().createElement(gf,{type:"button",icon:$d,title:eb("buttons.resetZoom"),"aria-label":eb("buttons.resetZoom"),onClick:function(){y(null)}})},keyTest:function(g){return("Digit0"===g.code||"Numpad0"===g.code)&&(g[bf]||g.shiftKey)}});var xe=function(g,y,B){g=ge(g);var M=uf(g,y);M=B&&0<M.length?Cg(M):Cg(g);B=ai(Math.min(Math.max(Math.floor(Math.min(y.width/
(M[2]-M[0]),y.height/(M[3]-M[1]))/hc.V4)*hc.V4,hc.V4),1),y.zoom,{left:y.offsetLeft,top:y.offsetTop});g=(M[0]+M[2])/2;M=(M[1]+M[3])/2;return{appState:Ke(Ke(Ke({},y),Vi({scenePoint:{x:g,y:M},viewportDimensions:{width:y.width,height:y.height},zoom:B})),{},{zoom:B}),commitToHistory:!1}};ne({name:"zoomToSelection",perform:function(g,y){return xe(g,y,!0)},keyTest:function(g){return"Digit2"===g.code&&g.shiftKey&&!g.altKey&&!g[bf]}});ne({name:"zoomToFit",perform:function(g,y){return xe(g,y,!1)},keyTest:function(g){return"Digit1"===
g.code&&g.shiftKey&&!g.altKey&&!g[bf]}});var Rf,If,Mf=ne({name:"finalize",perform:function(g,y,B,M){var ba,ia;B=M.canvas;if(y.editingLinearElement){M=y.editingLinearElement;var ya=M.startBindingElement,wa=M.endBindingElement,Da=dg.getElement(M.elementId);if(Da)return og(Da)&&Pf(Da,ya,wa),{elements:2>Da.points.length||Rh(Da)?g.filter(function(lb){return lb.id!==Da.id}):void 0,appState:Fg(Fg({},y),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&
window.document.activeElement.blur();if(M=y.multiElement?y.multiElement:"draw"===(null===(ia=y.editingElement)||void 0===ia?void 0:ia.type)?y.editingElement:null){"draw"!==M.type&&"touch"!==y.lastPointerDownWith&&(ia=M.points,(ya=M.lastCommittedPoint)&&ia[ia.length-1]===ya||jf(M,{points:M.points.slice(0,-1)}));Rh(M)&&(g=g.slice(0,-1));ia=bi(M.points,y.zoom.value);if(("line"===M.type||"draw"===M.type)&&ia){var Pa=M.points,Ka=Pa[0];jf(M,{points:Pa.map(function(lb,tb){return tb===Pa.length-1?[Ka[0],
Ka[1]]:lb})})}og(M)&&!ia&&1<M.points.length&&(ya=dg.getPointAtIndexGlobalCoordinates(M,-1),ia=ya[0],ya=ya[1],ek(M,y,xh.getScene(M),{x:ia,y:ya}));y.elementLocked||"draw"===y.elementType||(y.selectedElementIds[M.id]=!0)}return(y.elementLocked||"draw"===y.elementType)&&M||Gi(B),{elements:g,appState:Fg(Fg({},y),{},{elementType:(y.elementLocked||"draw"===y.elementType)&&M?y.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:M&&
!y.elementLocked&&"draw"!==y.elementType?Fg(Fg({},y.selectedElementIds),{},(ba={},ba[M.id]=!0,ba)):y.selectedElementIds}),commitToHistory:"draw"===y.elementType}},keyTest:function(g,y){return"Escape"===g.key&&(null!==y.editingLinearElement||!y.draggingElement&&null===y.multiElement)||("Escape"===g.key||"Enter"===g.key)&&null!==y.multiElement},PanelComponent:function(g){var y=g.appState;g=g.updateData;return Ea().createElement(gf,{type:"button",icon:nk,title:eb("buttons.done"),"aria-label":eb("buttons.done"),
onClick:g,visible:null!=y.multiElement})}}),Tg="undefined"!=typeof n&&null!==(Rf=n.env)&&void 0!==Rf&&Rf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(g,y,B,M){window.gtag("event",y,{event_category:g,event_label:B,value:M})}:("undefined"!=typeof n&&null!==(If=n.env)&&void 0!==If&&If.JEST_WORKER_ID,function(g,y,B,M){}),Rg=(e(8518),function(){var g=function(y,B){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,ba){M.__proto__=ba}||function(M,
ba){for(var ia in ba)Object.prototype.hasOwnProperty.call(ba,ia)&&(M[ia]=ba[ia])})(y,B)};return function(y,B){function M(){this.constructor=y}g(y,B);y.prototype=null===B?Object.create(B):(M.prototype=B.prototype,new M)}}()),Bi=function(g){function y(){for(var B=[],M=0;M<arguments.length;M++)B[M]=arguments[M];var ba,ia;M=this;return M=g.apply(this,B)||this,ba=ia=M,M.handleFocus=function(ya){ya=ya.currentTarget;var wa=window.getSelection();if(wa){var Da=document.createRange();Da.selectNodeContents(ya);
wa.removeAllRanges();wa.addRange(Da)}},M.handleBlur=function(ya){ya=ya.currentTarget.innerText.trim();ya!==ia.props.value&&ia.props.onChange(ya);(ya=window.getSelection())&&ya.removeAllRanges()},M.handleKeyDown=function(ya){"Enter"!==ya.key||(ya.preventDefault(),ya.nativeEvent.isComposing||229===ya.keyCode)||ya.currentTarget.blur()},M.makeEditable=function(ya){if(ya)try{ya.contentEditable="plaintext-only"}catch(wa){ya.contentEditable="true"}},ba}return Rg(y,g),y.prototype.render=function(){return Ea().createElement("span",
{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},y}(jc.Component),Ej=(e(2680),function(g){var y=g.children,B=g.label,M=g.position;M=void 0===M?"below":M;g=g.long;g=void 0!==g&&g;return Ea().createElement("div",{className:"Tooltip"},Ea().createElement("span",{className:"above"===M?"Tooltip__label Tooltip__label--above":
"Tooltip__label Tooltip__label--below",style:{width:g?"50ch":"10ch"}},B),y)}),ck=function(g){var y=g.title?g.title:"dark"===g.value?eb("buttons.lightMode"):eb("buttons.darkMode");return Ea().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:y},Ea().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(B){return g.onChange(B.target.checked?"dark":"light")},checked:"dark"===g.value,"aria-label":y}),Ea().createElement("div",
{className:"ToolIcon__icon"},"light"===g.value?Vk.MOON:Vk.SUN))},Vk={SUN:Ea().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ea().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:Ea().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ea().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const vm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",wm=vm?"chooseFileSystemEntries"===vm?e.e(736).then(e.bind(e,9012)):e.e(736).then(e.bind(e,499)):e.e(736).then(e.bind(e,5034));vm?"chooseFileSystemEntries"===vm?e.e(736).then(e.bind(e,6980)):e.e(736).then(e.bind(e,868)):e.e(736).then(e.bind(e,3110));const rf=vm?"chooseFileSystemEntries"===vm?e.e(736).then(e.bind(e,1170)):e.e(736).then(e.bind(e,7814)):e.e(736).then(e.bind(e,4001));var al,Ri=function(g,y){if(null!=y&&y.collaborators&&
(y=y.collaborators.get(g),null!=y&&y.color))return y.color;g=g.split("").reduce(function(M,ba){return M+ba.charCodeAt(0)},0);y=xk.elementBackground.slice(1);var B=xk.elementStroke.slice(1);return{background:y[g%y.length],stroke:B[g%B.length]}};!function(g){g.ACTIVE="active";g.AWAY="away";g.IDLE="idle"}(al||(al={}));var Fm=function(){var g=document.createElement("canvas").getContext("2d");return g?(g.fillStyle="#f00",g.textBaseline="top",g.font="32px Arial",g.fillText("\ud83d\ude00",0,0),0!==g.getImageData(12,
12,1,1).data[0]):!1}(),ql=function(g,y,B,M,ba,ia,ya,wa,Da){void 0===Da&&(Da=!1);g.translate(ia,ya);g.rotate(wa);Da&&g.fillRect(y-ia,B-ya,M,ba);g.strokeRect(y-ia,B-ya,M,ba);g.rotate(-wa);g.translate(-ia,-ya)},Gm=function(g,y,B,M){g.beginPath();g.arc(y,B,M,0,2*Math.PI);g.fill();g.stroke()},cn=function(g,y,B,M,ba,ia,ya,wa){var Da=void 0===wa?{}:wa;wa=Da.renderScrollbars;wa=void 0===wa||wa;var Pa=Da.renderSelection,Ka=void 0===Pa||Pa;Pa=Da.renderOptimizations;var lb=void 0!==Pa&&Pa;Da=Da.renderGrid;var tb=
void 0===Da||Da;if(!ia)return{atLeastOneVisibleElement:!1};var rb=ia.getContext("2d");rb.scale(M,M);var dc=ia.width/M,Yb=ia.height/M;(ya.exportWithDarkMode&&(rb.filter=hc.Gi),"string"==typeof ya.viewBackgroundColor)?(("transparent"===ya.viewBackgroundColor||5===ya.viewBackgroundColor.length||9===ya.viewBackgroundColor.length||/(hsla|rgba)\(/.test(ya.viewBackgroundColor))&&rb.clearRect(0,0,dc,Yb),Da=rb.fillStyle,rb.fillStyle=ya.viewBackgroundColor,rb.fillRect(0,0,dc,Yb),rb.fillStyle=Da):rb.clearRect(0,
0,dc,Yb);Da=ya.zoom.translation.x;Pa=ya.zoom.translation.y;rb.translate(Da,Pa);rb.scale(ya.zoom.value,ya.zoom.value);tb&&y.gridSize&&function(zd,Zd,ie,$e,Eh,fi){var zj=zd.strokeStyle;zd.strokeStyle="rgba(0,0,0,0.1)";zd.beginPath();for(var aj=ie;aj<ie+Eh+2*Zd;aj+=Zd)zd.moveTo(aj,$e-Zd),zd.lineTo(aj,$e+fi+2*Zd);for(aj=$e;aj<$e+fi+2*Zd;aj+=Zd)zd.moveTo(ie-Zd,aj),zd.lineTo(ie+Eh+2*Zd,aj);zd.stroke();zd.strokeStyle=zj}(rb,y.gridSize,-Math.ceil(Da/ya.zoom.value/y.gridSize)*y.gridSize+ya.scrollX%y.gridSize,
-Math.ceil(Pa/ya.zoom.value/y.gridSize)*y.gridSize+ya.scrollY%y.gridSize,dc/ya.zoom.value,Yb/ya.zoom.value);ia=g.filter(function(zd){var Zd={zoom:ya.zoom,offsetLeft:y.offsetLeft,offsetTop:y.offsetTop,scrollX:ya.scrollX,scrollY:ya.scrollY},ie=qi(zd);zd=ie[0];var $e=ie[1],Eh=ie[2];ie=ie[3];var fi=vg({clientX:Zd.offsetLeft,clientY:Zd.offsetTop},Zd);Zd=vg({clientX:Zd.offsetLeft+dc,clientY:Zd.offsetTop+Yb},Zd);return fi.x<=Eh&&fi.y<=ie&&Zd.x>=zd&&Zd.y>=$e});(ia.forEach(function(zd){gn(zd,ba,rb,lb,ya)}),
y.editingLinearElement)&&(tb=dg.getElement(y.editingLinearElement.elementId))&&function(zd,Zd,ie,$e){zd.translate(ie.scrollX,ie.scrollY);var Eh=zd.strokeStyle,fi=zd.lineWidth;zd.lineWidth=1/ie.zoom.value;dg.getPointsGlobalCoordinates($e).forEach(function(zj,aj){var Ul;zd.strokeStyle="red";zd.setLineDash([]);zd.fillStyle=(null===(Ul=Zd.editingLinearElement)||void 0===Ul?void 0:Ul.activePointIndex)===aj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Gm(zd,zj[0],zj[1],dg.POINT_HANDLE_SIZE/2/ie.zoom.value)});
zd.setLineDash([]);zd.lineWidth=fi;zd.translate(-ie.scrollX,-ie.scrollY);zd.strokeStyle=Eh}(rb,y,ya,tb);if(B&&gn(B,ba,rb,lb,ya),y.isBindingEnabled&&y.suggestedBindings.filter(function(zd){return null!=zd}).forEach(function(zd){var Zd=rb.strokeStyle,ie=rb.lineWidth,$e=Array.isArray(zd)?cj:$l;rb.translate(ya.scrollX,ya.scrollY);$e(rb,zd);rb.strokeStyle=Zd;rb.lineWidth=ie;rb.translate(-ya.scrollX,-ya.scrollY)}),Ka&&!y.multiElement&&!y.editingLinearElement){var zc=g.reduce(function(zd,Zd){var ie=[];if(y.selectedElementIds[Zd.id]&&
null==yh(y,Zd)&&ie.push(Ee.Sn),ya.remoteSelectedElementIds[Zd.id]&&ie.push.apply(ie,ya.remoteSelectedElementIds[Zd.id].map(function(Eh){return Ri(Eh,y).background})),ie.length){var $e=ig(Zd);zd.push({angle:Zd.angle,elementX1:$e[0],elementY1:$e[1],elementX2:$e[2],elementY2:$e[3],selectionColors:ie})}return zd},[]);B=function(zd){zd=Xj(g,zd);zd=Cg(zd);zc.push({angle:0,elementX1:zd[0],elementX2:zd[2],elementY1:zd[1],elementY2:zd[3],selectionColors:[Ee.Sn]})};Ka=0;for(tb=Ji(y);Ka<tb.length;Ka++)B(tb[Ka]);
y.editingGroupId&&B(y.editingGroupId);zc.forEach(function(zd){var Zd=zd.angle,ie=zd.elementX1,$e=zd.elementY1,Eh=zd.selectionColors,fi=zd.elementX2-ie;zd=zd.elementY2-$e;var zj=rb.getLineDash(),aj=rb.lineWidth,Ul=rb.lineDashOffset,nn=rb.strokeStyle,em=4/ya.zoom.value,Fn=8/ya.zoom.value,Po=4/ya.zoom.value;rb.lineWidth=1/ya.zoom.value;rb.translate(ya.scrollX,ya.scrollY);for(var vp=Eh.length,Gn=0;Gn<vp;++Gn)rb.strokeStyle=Eh[Gn],rb.setLineDash([Fn,Po+(Fn+Po)*(vp-1)]),rb.lineDashOffset=(Fn+Po)*Gn,ql(rb,
ie-em,$e-em,fi+2*em,zd+2*em,ie+fi/2,$e+zd/2,Zd);rb.lineDashOffset=Ul;rb.strokeStyle=nn;rb.lineWidth=aj;rb.setLineDash(zj);rb.translate(-ya.scrollX,-ya.scrollY)});Ka=uf(g,y);if(rb.translate(ya.scrollX,ya.scrollY),1===Ka.length)rb.fillStyle=Ee.ix,B=uj(Ka[0],ya.zoom,"mouse"),y.viewModeEnabled||qk(rb,ya,B,Ka[0].angle);else if(1<Ka.length&&!y.isRotating){B=4/ya.zoom.value;rb.fillStyle=Ee.ix;var fd=Cg(Ka);Ka=fd[0];tb=fd[1];var id=fd[2];fd=fd[3];var vd=rb.getLineDash();rb.setLineDash([2/ya.zoom.value]);
var le=rb.lineWidth;rb.lineWidth=1/ya.zoom.value;ql(rb,Ka-B,tb-B,id-Ka+2*B,fd-tb+2*B,(Ka+id)/2,(tb+fd)/2,0);rb.lineWidth=le;rb.setLineDash(vd);B=yk([Ka,tb,id,fd],0,ya.zoom,"mouse",ul);qk(rb,ya,B,0)}rb.translate(-ya.scrollX,-ya.scrollY)}for(var ke in rb.scale(1/ya.zoom.value,1/ya.zoom.value),rb.translate(-Da,-Pa),ya.remotePointerViewportCoords){Da=ya.remotePointerViewportCoords[ke];id=Da.x;fd=Da.y;id-=y.offsetLeft;fd-=y.offsetTop;vd=0>id||id>dc-9||0>fd||fd>Yb-14;id=Math.max(id,0);id=Math.min(id,dc-
9);fd=Math.max(fd,0);fd=Math.min(fd,Yb-14);Da=Ri(ke,y);Pa=Da.background;B=Da.stroke;Ka=rb.strokeStyle;tb=(Da=rb.fillStyle,rb.globalAlpha);rb.strokeStyle=B;rb.fillStyle=Pa;le=ya.remotePointerUserStates[ke];(vd||le===al.AWAY)&&(rb.globalAlpha=.48);ya.remotePointerButton&&"down"===ya.remotePointerButton[ke]&&(rb.beginPath(),rb.arc(id,fd,15,0,2*Math.PI,!1),rb.lineWidth=3,rb.strokeStyle="#ffffff88",rb.stroke(),rb.closePath(),rb.beginPath(),rb.arc(id,fd,15,0,2*Math.PI,!1),rb.lineWidth=1,rb.strokeStyle=
B,rb.stroke(),rb.closePath());rb.beginPath();rb.moveTo(id,fd);rb.lineTo(id+1,fd+14);rb.lineTo(id+4,fd+9);rb.lineTo(id+9,fd+10);rb.lineTo(id,fd);rb.fill();rb.stroke();var Oe=ya.remotePointerUsernames[ke],Je="";le===al.AWAY?Je=Fm?"⚫️":" (".concat(al.AWAY,")"):le===al.IDLE?Je=Fm?"\ud83d\udca4":" (".concat(al.IDLE,")"):le===al.ACTIVE&&(Je=Fm?"\ud83d\udfe2":"");le="".concat(Oe?"".concat(Oe," "):"").concat(Je);!vd&&le&&(id+=9,fd+=14,vd=rb.measureText(le),Oe=vd.actualBoundingBoxDescent+vd.actualBoundingBoxAscent,
rb.fillStyle=B,rb.fillRect(id-1,fd-1,vd.width+8+2,Oe+8+2),rb.fillStyle=Pa,rb.fillRect(id,fd,vd.width+8,Oe+8),rb.fillStyle=Ee.ix,rb.fillText(le,id+4,fd+4+vd.actualBoundingBoxAscent));rb.strokeStyle=Ka;rb.fillStyle=Da;rb.globalAlpha=tb;rb.closePath()}if(wa){var df=function(zd,Zd,ie,$e){var Eh=$e.scrollX,fi=$e.scrollY,zj=$e.zoom;if(0===zd.length)return{horizontal:null,vertical:null};$e=Cg(zd);var aj=$e[0],Ul=$e[1];zd=$e[2];$e=$e[3];var nn=Zd/zj.value,em=ie/zj.value,Fn=Zd-nn,Po=ie-em;zj=parseInt(ag("sat"));
var vp=parseInt(ag("sab")),Gn=parseInt(ag("sal")),Vr=parseInt(ag("sar")),Tt=ua.rtl;Eh=Fn/2-Eh+Gn;fi=Po/2-fi+zj;nn=Eh+nn-Vr;em=fi+em-vp;aj=Math.min(aj,Eh);Ul=Math.min(Ul,fi);zd=Math.max(zd,nn);$e=Math.max($e,em);return{horizontal:Eh===aj&&nn===zd?null:{x:Math.max(Gn,4)+(Eh-aj)/(zd-aj)*Zd,y:ie-6-Math.max(4,vp),width:(nn-Eh)/(zd-aj)*Zd-Math.max(8,Gn+Vr),height:6},vertical:fi===Ul&&em===$e?null:{x:Tt?Math.max(Gn,4):Zd-6-Math.max(Vr,4),y:(fi-Ul)/($e-Ul)*ie+Math.max(zj,4),width:6,height:(em-fi)/($e-Ul)*
ie-Math.max(8,zj+vp)}}}(g,dc,Yb,ya);Da=rb.fillStyle;Ka=rb.strokeStyle;rb.fillStyle="rgba(0,0,0,0.3)";rb.strokeStyle="rgba(255,255,255,0.8)";[df.horizontal,df.vertical].forEach(function(zd){if(zd){var Zd=zd.x,ie=zd.y,$e=zd.width;zd=zd.height;rb.beginPath();rb.moveTo(Zd+3,ie);rb.lineTo(Zd+$e-3,ie);rb.quadraticCurveTo(Zd+$e,ie,Zd+$e,ie+3);rb.lineTo(Zd+$e,ie+zd-3);rb.quadraticCurveTo(Zd+$e,ie+zd,Zd+$e-3,ie+zd);rb.lineTo(Zd+3,ie+zd);rb.quadraticCurveTo(Zd,ie+zd,Zd,ie+zd-3);rb.lineTo(Zd,ie+3);rb.quadraticCurveTo(Zd,
ie,Zd+3,ie);rb.closePath();rb.fill();rb.stroke()}});rb.fillStyle=Da;rb.strokeStyle=Ka}return rb.scale(1/M,1/M),{atLeastOneVisibleElement:0<ia.length,scrollBars:df}},qk=function(g,y,B,M){Object.keys(B).forEach(function(ba){var ia=B[ba];if(void 0!==ia){var ya=g.lineWidth;g.lineWidth=1/y.zoom.value;"rotation"===ba?Gm(g,ia[0]+ia[2]/2,ia[1]+ia[3]/2,ia[2]/2):ql(g,ia[0],ia[1],ia[2],ia[3],ia[0]+ia[2]/2,ia[1]+ia[3]/2,M,!0);g.lineWidth=ya}})},$l=function(g,y){var B=ig(y),M=B[0],ba=B[1],ia=B[2]-M;B=B[3]-ba;
var ya=Xi(y,ia,B);g.strokeStyle="rgba(0,0,0,.05)";g.lineWidth=ya-4;ya=2+ya/2;switch(y.type){case "rectangle":case "text":ql(g,M-ya,ba-ya,ia+2*ya,B+2*ya,M+ia/2,ba+B/2,y.angle);break;case "diamond":var wa=Math.hypot(ia,B);!function(Da,Pa,Ka,lb,tb,rb){Da.translate(lb,tb);Da.rotate(rb);Da.beginPath();Da.moveTo(0,Ka/2);Da.lineTo(Pa/2,0);Da.lineTo(0,-Ka/2);Da.lineTo(-Pa/2,0);Da.closePath();Da.stroke();Da.rotate(-rb);Da.translate(-lb,-tb)}(g,ia+ya*wa/B*2,B+ya*wa/ia*2,M+ia/2,ba+B/2,y.angle);break;case "ellipse":!function(Da,
Pa,Ka,lb,tb,rb){Da.beginPath();Da.ellipse(lb,tb,Pa/2,Ka/2,rb,0,2*Math.PI);Da.stroke()}(g,ia+2*ya,B+2*ya,M+ia/2,ba+B/2,y.angle)}},cj=function(g,y){var B=y[0],M=y[1];y=y[2];var ba=Xi(y,y.width,y.height);g.strokeStyle="rgba(0,0,0,0)";g.fillStyle="rgba(0,0,0,.05)";("both"===M?[0,-1]:"start"===M?[0]:[-1]).forEach(function(ia){ia=dg.getPointAtIndexGlobalCoordinates(B,ia);Gm(g,ia[0],ia[1],ba)})},Gj=function(g,y,B,M){M=void 0===M?{}:M;var ba=M.offsetX,ia=void 0===ba?0:ba;M=M.offsetY;var ya=void 0===M?0:M;
B&&g.forEach(function(wa){wa.isDeleted||function(Da,Pa,Ka,lb,tb){var rb=ig(Da),dc=rb[0],Yb=rb[1],zc=(rb[2]-dc)/2-(Da.x-dc),fd=(rb[3]-Yb)/2-(Da.y-Yb),id=180*Da.angle/Math.PI;rb=Pa.generator;switch(Da.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Tj(Da,rb);rb=Pa.draw(ui.get(Da));1!=(ke=Da.opacity/100)&&(rb.setAttribute("stroke-opacity","".concat(ke)),rb.setAttribute("fill-opacity","".concat(ke)));rb.setAttribute("transform",
"translate(".concat(lb||0," ").concat(tb||0,") rotate(").concat(id," ").concat(zc," ").concat(fd,")"));Ka.appendChild(rb);break;case "line":case "draw":case "arrow":Tj(Da,rb);var vd=Ka.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),le=Da.opacity/100;ui.get(Da).forEach(function(ie){ie=Pa.draw(ie);1!==le&&(ie.setAttribute("stroke-opacity","".concat(le)),ie.setAttribute("fill-opacity","".concat(le)));ie.setAttribute("transform","translate(".concat(lb||0," ").concat(tb||0,") rotate(").concat(id,
" ").concat(zc," ").concat(fd,")"));"line"!==Da.type&&"draw"!==Da.type||!bi(Da.points)||"transparent"===Da.backgroundColor||ie.setAttribute("fill-rule","evenodd");vd.appendChild(ie)});Ka.appendChild(vd);break;default:if(!be(Da))throw Error("Unimplemented type ".concat(Da.type));var ke=Da.opacity/100;rb=Ka.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==ke&&(rb.setAttribute("stroke-opacity","".concat(ke)),rb.setAttribute("fill-opacity","".concat(ke)));rb.setAttribute("transform",
"translate(".concat(lb||0," ").concat(tb||0,") rotate(").concat(id," ").concat(zc," ").concat(fd,")"));ke=Da.text.replace(/\r\n?/g,"\n").split("\n");dc=Da.height/ke.length;Yb=Da.height-Da.baseline;for(var Oe="center"===Da.textAlign?Da.width/2:"right"===Da.textAlign?Da.width:0,Je=wh.test(Da.text)?"rtl":"ltr",df="center"===Da.textAlign?"middle":"right"===Da.textAlign||"rtl"===Je?"end":"start",zd=0;zd<ke.length;zd++){var Zd=Ka.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Zd.textContent=
ke[zd];Zd.setAttribute("x","".concat(Oe));Zd.setAttribute("y","".concat((zd+1)*dc-Yb));Zd.setAttribute("font-family","".concat(hc.ut[Da.fontFamily],", ").concat(hc._D));Zd.setAttribute("font-size","".concat(Da.fontSize,"px"));Zd.setAttribute("fill",Da.strokeColor);Zd.setAttribute("text-anchor",df);Zd.setAttribute("style","white-space: pre;");Zd.setAttribute("direction",Je);rb.appendChild(Zd)}Ka.appendChild(rb)}}(wa,y,B,wa.x+ia,wa.y+ya)})},Fl=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=
arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},tm=function(g,y,B,M){var ba=B.exportBackground,ia=B.exportPadding;ia=void 0===ia?10:ia;var ya=B.viewBackgroundColor,wa=B.scale,Da=void 0===wa?1:wa;B=B.shouldAddWatermark;void 0===M&&(M=function(Ka,lb){var tb=document.createElement("canvas");return tb.width=Ka*Da,tb.height=lb*Da,{canvas:tb,scale:Da}});g=Wn(g,B);var Pa=Im(g,ia,B);B=Pa[0];wa=Pa[1];Pa=M(Pa[2],Pa[3]);M=
Pa.canvas;Pa=Pa.scale;return cn(g,y,null,void 0===Pa?Da:Pa,Qh.canvas(M),M,{viewBackgroundColor:ba?ya:null,exportWithDarkMode:y.exportWithDarkMode,scrollX:-B+ia,scrollY:-wa+ia,zoom:Ch().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),M},Nl=function(g,y){var B=y.exportBackground,M=y.exportPadding;M=void 0===M?10:M;var ba=y.viewBackgroundColor,
ia=y.exportWithDarkMode,ya=y.scale;ya=void 0===ya?1:ya;var wa=y.shouldAddWatermark;y=y.metadata;y=void 0===y?"":y;g=Wn(g,wa);var Da=Im(g,M,wa);wa=Da[0];var Pa=Da[1],Ka=Da[2],lb=Da[3];Da=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Da.setAttribute("version","1.1"),Da.setAttribute("xmlns","http://www.w3.org/2000/svg"),Da.setAttribute("viewBox","0 0 ".concat(Ka," ").concat(lb)),Da.setAttribute("width","".concat(Ka*ya)),Da.setAttribute("height","".concat(lb*ya)),ia&&Da.setAttribute("filter",
hc.Gi),Da.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(y,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),B&&ba)B=Da.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),B.setAttribute("x",
"0"),B.setAttribute("y","0"),B.setAttribute("width","".concat(Ka)),B.setAttribute("height","".concat(lb)),B.setAttribute("fill",ba),Da.appendChild(B);B=Qh.svg(Da);return Gj(g,B,Da,{offsetX:-wa+M,offsetY:-Pa+M}),Da},Wn=function(g,y){var B=Fl(g);y&&(g=Cg(g),y=g[2],g=g[3],g=Ij({text:eb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:hc.rk,textAlign:"right",verticalAlign:hc.hs,x:y,y:g+16,strokeColor:Ee.MA[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,
opacity:100,strokeSharpness:"sharp"}),B=Fl(B,[g]));return B},Im=function(g,y,B){g=Cg(g);var M=g[0],ba=g[1];return[M,ba,Math.abs(M-g[2])+2*y,Math.abs(ba-g[3])+y+(B?0:y)]},en=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},Ki=function(g){return(g=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(g))?parseFloat(g[1].replace(/,/g,"")):null},Dn=function(g,y){return g.slice(1).every(function(B){return null!==
Ki(B[y])})},En=function(g){var y=g[0].length;if(2<y)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===y){if(!Dn(g,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};y=null===Ki(g[0][0]);var B=(y?g.slice(1):g).map(function(ia){return Ki(ia[0])});return 2>B.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:y?g[0][0]:null,labels:null,values:B}}}var M=Dn(g,0)?0:1;if(!Dn(g,M))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var ba=(M+1)%2;B=(y=null===Ki(g[0][M]))?g.slice(1):g;return 2>B.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:y?g[0][M]:null,labels:B.map(function(ia){return ia[ba]}),values:B.map(function(ia){return Ki(ia[M])})}}},Qk=xk.elementBackground.slice(2,xk.elementBackground.length),dj={fillStyle:"hachure",fontFamily:hc.rk,fontSize:hc.n5,opacity:100,roughness:1,strokeColor:xk.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Hm=function(g){return{chartWidth:44*g.values.length+12,chartHeight:280}},Tn=function(g,y,B,M,ba,ia){var ya=Hm(g),wa=ya.chartWidth,Da=ya.chartHeight;ya=g.title?Ij(We(We({backgroundColor:ba,groupIds:[M]},dj),{},{text:g.title,x:y+wa/2,y:B-256-24-hc.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;ia=ia?Ml(We(We({backgroundColor:ba,groupIds:[M]},dj),{},{type:"rectangle",x:y,y:B-Da,width:wa,height:Da,strokeColor:xk.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return en(ia?[ia]:[],ya?[ya]:[],function(Pa,Ka,lb,tb,rb){var dc;return(null===(dc=Pa.labels)||void 0===dc?void 0:dc.map(function(Yb,zc){return Ij(We(We({groupIds:[tb],backgroundColor:rb},dj),{},{text:8<Yb.length?"".concat(Yb.slice(0,5),"..."):Yb,x:Ka+44*zc+24,y:lb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(g,y,B,M,ba),function(Pa,Ka,lb,tb,rb){var dc=Ij(We(We({groupIds:[tb],backgroundColor:rb},dj),{},{x:Ka-12,y:lb-12,text:"0",textAlign:"right"}));return[dc,
Ij(We(We({groupIds:[tb],backgroundColor:rb},dj),{},{x:Ka-12,y:lb-256-dc.height/2,text:Math.max.apply(Math,Pa.values).toLocaleString(),textAlign:"right"}))]}(g,y,B,M,ba),function(Pa,Ka,lb,tb,rb){var dc=Hm(Pa);Pa=dc.chartWidth;dc=dc.chartHeight;return[Te(We(We({backgroundColor:rb,groupIds:[tb]},dj),{},{type:"line",x:Ka,y:lb,startArrowhead:null,endArrowhead:null,width:Pa,points:[[0,0],[Pa,0]]})),Te(We(We({backgroundColor:rb,groupIds:[tb]},dj),{},{type:"line",x:Ka,y:lb,startArrowhead:null,endArrowhead:null,
height:dc,points:[[0,0],[0,-dc]]})),Te(We(We({backgroundColor:rb,groupIds:[tb]},dj),{},{type:"line",x:Ka,y:lb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Pa,opacity:50,points:[[0,0],[Pa,0]]}))]}(g,y,B,M,ba))},Un=function(g,y,B,M){return"line"===g?function(ba,ia,ya){for(var wa=Math.max.apply(Math,ba.values),Da=vi(),Pa=Qk[Math.floor(Math.random()*Qk.length)],Ka=0,lb=[],tb=0,rb=ba.values;tb<rb.length;tb++)lb.push([44*Ka,-rb[tb]/wa*256]),Ka++;Ka=Math.max.apply(Math,lb.map(function(Yb){return Yb[0]}));
tb=Math.max.apply(Math,lb.map(function(Yb){return Yb[1]}));rb=Math.min.apply(Math,lb.map(function(Yb){return Yb[0]}));var dc=Math.min.apply(Math,lb.map(function(Yb){return Yb[1]}));lb=Te(We(We({backgroundColor:Pa,groupIds:[Da]},dj),{},{type:"line",x:ia+12+16,y:ya-12,startArrowhead:null,endArrowhead:null,height:tb-dc,width:Ka-rb,strokeWidth:2,points:lb}));Ka=ba.values.map(function(Yb,zc){zc=44*zc+6;Yb=-Yb/wa*256+6;return Ml(We(We({backgroundColor:Pa,groupIds:[Da]},dj),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:ia+zc+16,y:ya+Yb-24,width:12,height:12}))});tb=ba.values.map(function(Yb,zc){zc=44*zc+6;Yb=Yb/wa*256+18;return Te(We(We({backgroundColor:Pa,groupIds:[Da]},dj),{},{type:"line",x:ia+zc+16+6,y:ya-Yb,startArrowhead:null,endArrowhead:null,height:Yb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Yb]]}))});return en(Tn(ba,ia,ya,Da,Pa,"production"===hc.Vi.DEVELOPMENT),[lb],tb,Ka)}(y,B,M):function(ba,ia,ya){var wa=Math.max.apply(Math,ba.values),Da=vi(),Pa=Qk[Math.floor(Math.random()*Qk.length)],
Ka=ba.values.map(function(lb,tb){lb=lb/wa*256;return Ml(We(We({backgroundColor:Pa,groupIds:[Da]},dj),{},{type:"rectangle",x:ia+44*tb+12,y:ya-lb-12,width:32,height:lb}))});return en(Ka,Tn(ba,ia,ya,Da,Pa,"production"===hc.Vi.DEVELOPMENT))}(y,B,M)},Vn=function(){var g=function(y,B){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,ba){M.__proto__=ba}||function(M,ba){for(var ia in ba)Object.prototype.hasOwnProperty.call(ba,ia)&&(M[ia]=ba[ia])})(y,B)};return function(y,B){function M(){this.constructor=
y}g(y,B);y.prototype=null===B?Object.create(B):(M.prototype=B.prototype,new M)}}(),ln=function(g){function y(B,M){void 0===B&&(B="Couldn't export canvas.");void 0===M&&(M="CANVAS_ERROR");var ba=g.call(this)||this;return ba.name=M,ba.message=B,ba}return Vn(y,g),y}(Error),Lj=function(g,y){var B,M,ba,ia,ya,wa,Da,Pa;g={type:g.type,version:g.version||1,versionNonce:null!==(B=g.versionNonce)&&void 0!==B?B:0,isDeleted:null!==(M=g.isDeleted)&&void 0!==M&&M,id:g.id||vi(),fillStyle:g.fillStyle||"hachure",strokeWidth:g.strokeWidth||
1,strokeStyle:null!==(ba=g.strokeStyle)&&void 0!==ba?ba:"solid",roughness:null!==(ia=g.roughness)&&void 0!==ia?ia:1,opacity:null==g.opacity?100:g.opacity,angle:g.angle||0,x:g.x||0,y:g.y||0,strokeColor:g.strokeColor,backgroundColor:g.backgroundColor,width:g.width||0,height:g.height||0,seed:null!==(ya=g.seed)&&void 0!==ya?ya:1,groupIds:null!==(wa=g.groupIds)&&void 0!==wa?wa:[],strokeSharpness:null!==(Da=g.strokeSharpness)&&void 0!==Da?Da:ej(g.type)?"round":"sharp",boundElementIds:null!==(Pa=g.boundElementIds)&&
void 0!==Pa?Pa:[]};return Fe(Fe(Fe({},g),Kl(g)),y)},rk=function(g){return(g||[]).reduce(function(y,B){if("selection"!==B.type&&!Rh(B)){a:{var M;switch(B.type){case "text":var ba=B.fontSize,ia=B.fontFamily;if("font"in B){ba=B.font.split(" ");ia=ba[1];ba=parseInt(ba[0],10);b:{for(var ya=0,wa=Object.entries(hc.ut);ya<wa.length;ya++){var Da=wa[ya],Pa=Da[0];if(Da[1].includes(ia)){ia=parseInt(Pa);break b}}ia=hc.rk}}B=Lj(B,{fontSize:ba,fontFamily:ia,text:null!==(M=B.text)&&void 0!==M?M:"",baseline:B.baseline,
textAlign:B.textAlign||hc.Hg,verticalAlign:B.verticalAlign||hc.hs});break a;case "draw":case "line":case "arrow":M=B.startArrowhead;M=void 0===M?null:M;ba=B.endArrowhead;ba=void 0===ba?"arrow"===B.type?"arrow":null:ba;B=Lj(B,{startBinding:B.startBinding,endBinding:B.endBinding,points:!Array.isArray(B.points)||2>B.points.length?[[0,0],[B.width,B.height]]:B.points,lastCommittedPoint:null,startArrowhead:M,endArrowhead:ba});break a;case "ellipse":case "rectangle":case "diamond":B=Lj(B,{});break a}B=void 0}B&&
y.push(B)}return y},[])},dn=function(g,y){g=g||{};for(var B=Ch(),M={},ba=0,ia=Object.entries(B);ba<ia.length;ba++){var ya=ia[ba],wa=ya[0];ya=ya[1];var Da=g[wa],Pa=y?y[wa]:void 0;M[wa]=void 0!==Da?Da:void 0!==Pa?Pa:ya}return Fe(Fe({},M),{},{offsetLeft:g.offsetLeft||0,offsetTop:g.offsetTop||0,zoom:"number"==typeof g.zoom?{value:g.zoom,translation:B.zoom.translation}:g.zoom||B.zoom})},fn=function(g,y){return{elements:rk(null==g?void 0:g.elements),appState:dn(null==g?void 0:g.appState,y||null)}},zm=function(g,
y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,(ia=0<ia.length&&
ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},trys:[],ops:[]};
return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},jj=function(){var g=Pc()(function(y){var B;return zm(this,function(M){switch(M.label){case 0:if("image/png"!==y.type)return[3,6];M.label=1;case 1:return M.trys.push([1,4,,5]),[4,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527))];case 2:return[4,M.sent().decodePngMetadata(y)];case 3:return[2,M.sent()];case 4:throw"INVALID"===M.sent().message?Error(eb("alerts.imageDoesNotContainScene")):
Error(eb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,y.text()]:[3,8];case 7:return B=M.sent(),[3,10];case 8:return[4,new Promise(function(ba){var ia=new FileReader;ia.readAsText(y,"utf8");ia.onloadend=function(){ia.readyState===FileReader.DONE&&ba(ia.result)}})];case 9:B=M.sent(),M.label=10;case 10:if("image/svg+xml"!==y.type)return[3,15];M.label=11;case 11:return M.trys.push([11,14,,15]),[4,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527))];case 12:return[4,
M.sent().decodeSvgMetadata({svg:B})];case 13:return[2,M.sent()];case 14:throw"INVALID"===M.sent().message?Error(eb("alerts.imageDoesNotContainScene")):Error(eb("alerts.cannotRestoreFromImage"));case 15:return[2,B]}})});return function(y){return g.apply(this,arguments)}}(),Nm=function(){var g=Pc()(function(y,B){var M,ba;return zm(this,function(ia){switch(ia.label){case 0:return[4,jj(y)];case 1:M=ia.sent();try{if("excalidraw"!==(ba=JSON.parse(M)).type)throw Error(eb("alerts.couldNotLoadInvalidFile"));
var ya=Df(ba.elements||[]),wa=null==B?void 0:B.appearance,Da;if(Da=y.handle){var Pa=["application/json",hc.LO.excalidraw],Ka=Pa.includes;a:{if("string"==typeof y)var lb=y;else{if(y.type){var tb=y.type;break a}lb=y.name||""}tb=/\.(excalidraw|json)$/.test(lb)?"application/json":/\.png$/.test(lb)?"image/png":/\.jpe?g$/.test(lb)?"image/jpeg":/\.svg$/.test(lb)?"image/svg+xml":""}Da=Ka.call(Pa,tb)}return[2,fn({elements:ya,appState:Db(Db({appearance:wa,fileHandle:Da?y.handle:null},ti(ba.appState||{},"export")),
B?ki(ba.elements||[],B):{})},B)]}catch(rb){throw console.error(rb.message),Error(eb("alerts.couldNotLoadInvalidFile"));}}})});return function(y,B){return g.apply(this,arguments)}}(),un=function(){var g=Pc()(function(y){var B,M;return zm(this,function(ba){switch(ba.label){case 0:return[4,jj(y)];case 1:if(B=ba.sent(),"excalidrawlib"!==(M=JSON.parse(B)).type)throw Error(eb("alerts.couldNotLoadInvalidFile"));return[2,M]}})});return function(y){return g.apply(this,arguments)}}(),pm=function(){var g=Pc()(function(y){return zm(this,
function(B){return[2,new Promise(function(M,ba){try{y.toBlob(function(ia){if(!ia)return ba(new ln(eb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));M(ia)})}catch(ia){ba(ia)}})]})});return function(y){return g.apply(this,arguments)}}(),Rk=function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;
switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();
wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},qm="",Gl=!1,pp="clipboard"in navigator&&"readText"in navigator.clipboard,Jm="clipboard"in navigator&&"writeText"in navigator.clipboard,
Km="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,yn=function(){var g=Pc()(function(y,B){var M,ba,ia;return Rk(this,function(ya){switch(ya.label){case 0:M={type:"excalidraw/elements",created:Date.now(),elements:uf(y,B)},qm=ba=JSON.stringify(M),ya.label=1;case 1:return ya.trys.push([1,3,,4]),Gl=!1,[4,Dh(ba)];case 2:return ya.sent(),[3,4];case 3:return ia=ya.sent(),Gl=!0,console.error(ia),[3,4];case 4:return[2]}})});return function(y,
B){return g.apply(this,arguments)}}(),Jo=function(){if(!qm)return{};try{return JSON.parse(qm)}catch(g){return console.error(g),{}}},vn=function(g){g=function(y){var B=y.trim().split("\n").map(function(ba){return ba.trim().split("\t")});if(B.length&&2!==B[0].length&&(B=y.trim().split("\n").map(function(ba){return ba.trim().split(",")})),0===B.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var M=B[0].length;if(!B.every(function(ba){return ba.length===M}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};
y=En(B);return"VALID_SPREADSHEET"!==y.type&&(B=En(function(ba){for(var ia=[],ya=0;ya<ba[0].length;ya++){for(var wa=[],Da=0;Da<ba.length;Da++)wa.push(ba[Da][ya]);ia.push(wa)}return ia}(B)),"VALID_SPREADSHEET"===B.type)?B:y}(g);return"VALID_SPREADSHEET"===g.type?{spreadsheet:g.spreadsheet}:null},Hl=function(){var g=Pc()(function(y){var B,M,ba;return Rk(this,function(ia){switch(ia.label){case 0:return ia.trys.push([0,5,,6]),y?(M=null===(B=y.clipboardData)||void 0===B?void 0:B.getData("text/plain").trim(),
[3,4]):[3,1];case 1:return(ba=pp)?[4,navigator.clipboard.readText()]:[3,3];case 2:ba=ia.sent(),ia.label=3;case 3:M=ba,ia.label=4;case 4:return[2,M||""];case 5:return ia.sent(),[2,""];case 6:return[2]}})});return function(y){return g.apply(this,arguments)}}(),xn=function(){var g=Pc()(function(y){var B,M,ba,ia;return Rk(this,function(ya){switch(ya.label){case 0:return[4,Hl(y)];case 1:if(!(B=ya.sent())||B.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,Jo()];if(M=vn(B))return[2,M];ba=Jo();
try{return ia=JSON.parse(B),"excalidraw/elements"===(null==(wa=ia)?void 0:wa.type)&&(null==ba||!ba.created||ba.created<ia.created)?[2,{elements:ia.elements}]:[2,ba]}catch(Da){return[2,Gl&&ba.elements?ba:{text:B}]}}var wa})});return function(y){return g.apply(this,arguments)}}(),wn=function(){var g=Pc()(function(y){var B;return Rk(this,function(M){switch(M.label){case 0:return[4,pm(y)];case 1:return B=M.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":B})])];case 2:return M.sent(),
[2]}})});return function(y){return g.apply(this,arguments)}}(),Dh=function(){var g=Pc()(function(y){var B,M;return Rk(this,function(ba){switch(ba.label){case 0:if(B=!1,!Jm)return[3,4];ba.label=1;case 1:return ba.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(y||"")];case 2:return ba.sent(),B=!0,[3,4];case 3:return M=ba.sent(),console.error(M),[3,4];case 4:if(ba=!B){var ia=y||" ",ya="rtl"===document.documentElement.getAttribute("dir");ba=document.createElement("textarea");ba.style.border="0";
ba.style.padding="0";ba.style.margin="0";ba.style.position="absolute";ba.style[ya?"right":"left"]="-9999px";ba.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");ba.style.fontSize="12pt";ba.setAttribute("readonly","");ba.value=ia;document.body.appendChild(ba);ia=!1;try{ba.select(),ba.setSelectionRange(0,ba.value.length),ia=document.execCommand("copy")}catch(wa){console.error(wa)}ba=!(ba.remove(),ia)}if(ba)throw Error("couldn't copy");return[2]}})});return function(y){return g.apply(this,
arguments)}}(),Tk=function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=
wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},
trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Il=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},ug=function(){function g(){}return g.importLibrary=function(y){return Pc()(function(){var B,M,ba,ia;return Tk(this,function(ya){switch(ya.label){case 0:return[4,un(y)];case 1:return(B=
ya.sent())&&B.library?(M=function(wa,Da){return!wa.find(function(Pa){return Pa.length===Da.length&&Pa.every(function(Ka,lb){return Ka.id===Da[lb].id&&Ka.versionNonce===Da[lb].versionNonce})})},[4,g.loadLibrary()]):[2];case 2:return ba=ya.sent(),ia=B.library.reduce(function(wa,Da){Da=ge(rk(Da));return M(ba,Da)&&wa.push(Da),wa},[]),g.saveLibrary(Il(ba,ia)),[2]}})})()},g}();ug.libraryCache=null;ug.resetLibrary=function(){ug.libraryCache=null;localStorage.removeItem(hc.I.LOCAL_STORAGE_LIBRARY)};ug.loadLibrary=
function(){return new Promise(function(){var g=Pc()(function(y){var B,M;return Tk(this,function(ba){if(ug.libraryCache)return[2,y(JSON.parse(JSON.stringify(ug.libraryCache)))];try{if(!(B=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY)))return[2,y([])];M=JSON.parse(B).map(function(ia){return rk(ia)});ug.libraryCache=JSON.parse(JSON.stringify(M));y(M)}catch(ia){console.error(ia),y([])}return[2]})});return function(y){return g.apply(this,arguments)}}())};ug.saveLibrary=function(g){var y=ug.libraryCache;
try{var B=JSON.stringify(g);ug.libraryCache=JSON.parse(B);localStorage.setItem(hc.I.LOCAL_STORAGE_LIBRARY,B)}catch(M){ug.libraryCache=y,console.error(M)}};var Q=function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;
case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=
ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},ka=function(g,y){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Df(g),appState:ti(y,"export")},null,2)},Ca=function(){var g=Pc()(function(y,B){var M;return Q(this,
function(ba){switch(ba.label){case 0:return M=ka(y,B),[4,jh(new Blob([M],{type:"application/json"}),{fileName:B.name,description:"Excalidraw file",extensions:[".excalidraw"]},B.fileHandle)];case 1:return[2,{fileHandle:ba.sent()}]}})});return function(y,B){return g.apply(this,arguments)}}(),db=function(){var g=Pc()(function(y){var B;return Q(this,function(M){switch(M.label){case 0:return[4,th({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json",
"image/png","image/svg+xml"]})];case 1:return B=M.sent(),[2,Nm(B,y)]}})});return function(y){return g.apply(this,arguments)}}(),Ab=function(){var g=Pc()(function(){var y,B;return Q(this,function(M){switch(M.label){case 0:return[4,ug.loadLibrary()];case 1:return y=M.sent(),B=JSON.stringify({type:"excalidrawlib",version:1,library:y},null,2),"library.excalidrawlib",[4,jh(new Blob([B],{type:hc.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];
case 2:return M.sent(),[2]}})});return function(){return g.apply(this,arguments)}}(),Mb=function(){var g=Pc()(function(){var y;return Q(this,function(B){switch(B.label){case 0:return[4,th({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return y=B.sent(),ug.importLibrary(y),[2]}})});return function(){return g.apply(this,arguments)}}(),pc=function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");
for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=
Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya},Ac=function(){var g=Pc()(function(y,B,M,ba,ia){var ya,wa,Da,Pa,Ka,lb,tb,rb,dc,Yb=ia.exportBackground,zc=ia.exportPadding,fd=void 0===zc?10:zc,id=ia.viewBackgroundColor,vd=ia.name;zc=ia.scale;var le=void 0===zc?1:zc,ke=ia.shouldAddWatermark;return pc(this,function(Oe){switch(Oe.label){case 0:if(0===B.length)throw Error(eb("alerts.cannotExportEmptyCanvas"));return"svg"!==y&&"clipboard-svg"!==y?[3,7]:(wa=Nl,Da=[B],Pa={exportBackground:Yb,exportWithDarkMode:M.exportWithDarkMode,viewBackgroundColor:id,
exportPadding:fd,scale:le,shouldAddWatermark:ke},M.exportEmbedScene&&"svg"===y?[4,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527))]:[3,3]);case 1:return[4,Oe.sent().encodeSvgMetadata({text:ka(B,M)})];case 2:return Ka=Oe.sent(),[3,4];case 3:Ka=void 0,Oe.label=4;case 4:return ya=wa.apply(void 0,Da.concat([(Pa.metadata=Ka,Pa)])),"svg"!==y?[3,6]:[4,jh(new Blob([ya.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(vd,".svg"),extensions:[".svg"]})];case 5:return Oe.sent(),[2];case 6:if("clipboard-svg"===
y)return Dh(ya.outerHTML),[2];Oe.label=7;case 7:return(lb=tm(B,M,{exportBackground:Yb,viewBackgroundColor:id,exportPadding:fd,scale:le,shouldAddWatermark:ke})).style.display="none",document.body.appendChild(lb),"png"!==y?[3,13]:(tb="".concat(vd,".png"),[4,pm(lb)]);case 8:return rb=Oe.sent(),M.exportEmbedScene?[4,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527))]:[3,11];case 9:return[4,Oe.sent().encodePngMetadata({blob:rb,metadata:ka(B,M)})];case 10:rb=Oe.sent(),Oe.label=11;case 11:return[4,jh(rb,
{fileName:tb,extensions:[".png"]})];case 12:return Oe.sent(),[3,17];case 13:if("clipboard"!==y)return[3,17];Oe.label=14;case 14:return Oe.trys.push([14,16,,17]),[4,wn(lb)];case 15:return Oe.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(dc=Oe.sent()).name)throw dc;throw Error(eb("alerts.couldNotCopyToClipboard"));case 17:return lb!==ba&&lb.remove(),[2]}})});return function(y,B,M,ba,ia){return g.apply(this,arguments)}}(),Lc=function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");
for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=
Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),
ya},Xc,nd,Qd;ne({name:"changeProjectName",perform:function(g,y,B){return Tg("change","title"),{appState:Xa(Xa({},y),{},{name:B}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,B=g.updateData;return Ea().createElement(Bi,{label:eb("labels.fileTitle"),value:y.name||"Unnamed",onChange:function(M){return B(M)}})}});ne({name:"changeExportBackground",perform:function(g,y,B){return{appState:Xa(Xa({},y),{},{exportBackground:B}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,
B=g.updateData;return Ea().createElement("label",null,Ea().createElement("input",{type:"checkbox",checked:y.exportBackground,onChange:function(M){return B(M.target.checked)}})," ",eb("labels.withBackground"))}});ne({name:"changeExportEmbedScene",perform:function(g,y,B){return{appState:Xa(Xa({},y),{},{exportEmbedScene:B}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,B=g.updateData;return Ea().createElement("label",{style:{display:"flex"}},Ea().createElement("input",{type:"checkbox",
checked:y.exportEmbedScene,onChange:function(M){return B(M.target.checked)}})," ",eb("labels.exportEmbedScene"),Ea().createElement(Ej,{label:eb("labels.exportEmbedScene_details"),position:"above",long:!0},Ea().createElement("div",{className:"TooltipIcon"},ed)))}});ne({name:"changeShouldAddWatermark",perform:function(g,y,B){return{appState:Xa(Xa({},y),{},{shouldAddWatermark:B}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,B=g.updateData;return Ea().createElement("label",null,Ea().createElement("input",
{type:"checkbox",checked:y.shouldAddWatermark,onChange:function(M){return B(M.target.checked)}})," ",eb("labels.addWatermark"))}});ne({name:"saveScene",perform:(Xc=Pc()(function(g,y,B){var M,ba,ia;return Lc(this,function(ya){switch(ya.label){case 0:M=!!y.fileHandle,ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,Ca(g,y)];case 2:return ba=ya.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},y),{},{fileHandle:ba,toastMessage:M?ba.name?eb("toast.fileSavedToFilename").replace("{filename}",
'"'.concat(ba.name,'"')):eb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(ia=ya.sent())?void 0:ia.name)&&console.error(ia),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(g,y,B){return Xc.apply(this,arguments)}),keyTest:function(g){return"s"===g.key&&g[bf]&&!g.shiftKey},PanelComponent:function(g){var y=g.updateData;return Ea().createElement(gf,{type:"button",icon:De,title:eb("buttons.save"),"aria-label":eb("buttons.save"),showAriaLabel:Ve(),onClick:function(){return y(null)}})}});
ne({name:"saveAsScene",perform:(nd=Pc()(function(g,y,B){var M,ba;return Lc(this,function(ia){switch(ia.label){case 0:return ia.trys.push([0,2,,3]),[4,Ca(g,Xa(Xa({},y),{},{fileHandle:null}))];case 1:return M=ia.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},y),{},{fileHandle:M})}];case 2:return"AbortError"!==(null==(ba=ia.sent())?void 0:ba.name)&&console.error(ba),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(g,y,B){return nd.apply(this,arguments)}),keyTest:function(g){return"s"===
g.key&&g.shiftKey&&g[bf]},PanelComponent:function(g){var y=g.updateData;return Ea().createElement(gf,{type:"button",icon:Em,title:eb("buttons.saveAs"),"aria-label":eb("buttons.saveAs"),showAriaLabel:Ve(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return y(null)}})}});ne({name:"loadScene",perform:(Qd=Pc()(function(g,y){var B,M,ba,ia;return Lc(this,function(ya){switch(ya.label){case 0:return ya.trys.push([0,2,,3]),[4,db(y)];case 1:return B=ya.sent(),
M=B.elements,ba=B.appState,[2,{elements:M,appState:ba,commitToHistory:!0}];case 2:return"AbortError"===(null==(ia=ya.sent())?void 0:ia.name)?[2,!1]:[2,{elements:g,appState:Xa(Xa({},y),{},{errorMessage:ia.message}),commitToHistory:!1}];case 3:return[2]}})}),function(g,y){return Qd.apply(this,arguments)}),keyTest:function(g){return g[bf]&&"o"===g.key},PanelComponent:function(g){var y=g.updateData;g.appState;return Ea().createElement(gf,{type:"button",icon:nm,title:eb("buttons.load"),"aria-label":eb("buttons.load"),
showAriaLabel:Ve(),onClick:y})}});ne({name:"exportWithDarkMode",perform:function(g,y,B){return{appState:Xa(Xa({},y),{},{exportWithDarkMode:B}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,B=g.updateData;return Ea().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},Ea().createElement(ck,{value:y.exportWithDarkMode?"dark":"light",onChange:function(M){B("dark"===M)},title:eb("labels.toggleExportColorScheme")}))}});var fe=
"{}",qf=ne({name:"copyStyles",perform:function(g,y){g=g.find(function(B){return y.selectedElementIds[B.id]});return g&&(fe=JSON.stringify(g)),{appState:vb(vb({},y),{},{toastMessage:eb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(g){return g[bf]&&g.altKey&&"KeyC"===g.code}}),hf=ne({name:"pasteStyles",perform:function(g,y){var B=JSON.parse(fe);return"text"!==(null==B?void 0:B.type)&&"diamond"!==(null==B?void 0:B.type)&&"rectangle"!==(null==B?void 0:
B.type)&&"ellipse"!==(null==B?void 0:B.type)&&"arrow"!==(null==B?void 0:B.type)&&"draw"!==(null==B?void 0:B.type)&&"line"!==(null==B?void 0:B.type)?{elements:g,commitToHistory:!1}:{elements:g.map(function(M){return y.selectedElementIds[M.id]?(M=zg(M,{backgroundColor:null==B?void 0:B.backgroundColor,strokeWidth:null==B?void 0:B.strokeWidth,strokeColor:null==B?void 0:B.strokeColor,strokeStyle:null==B?void 0:B.strokeStyle,fillStyle:null==B?void 0:B.fillStyle,opacity:null==B?void 0:B.opacity,roughness:null==
B?void 0:B.roughness}),be(M)&&(jf(M,{fontSize:(null==B?void 0:B.fontSize)||hc.n5,fontFamily:(null==B?void 0:B.fontFamily)||hc.rk,textAlign:(null==B?void 0:B.textAlign)||hc.Hg}),lk(M)),M):M}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(g){return g[bf]&&g.altKey&&"KeyV"===g.code}}),di=function(g){return Ea().createElement("label",{title:"".concat(g.title," — ?"),className:"help-icon"},Ea().createElement("div",{onClick:g.onClick},ed))};ne({name:"toggleCanvasMenu",perform:function(g,
y){return{appState:rc(rc({},y),{},{openMenu:"canvas"===y.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(g){var y=g.appState;g=g.updateData;return Ea().createElement(gf,{type:"button",icon:Mk,"aria-label":eb("buttons.menu"),onClick:g,selected:"canvas"===y.openMenu})}});ne({name:"toggleEditMenu",perform:function(g,y){return{appState:rc(rc({},y),{},{openMenu:"shape"===y.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(g){var y=g.elements,B=g.appState;g=g.updateData;
return Ea().createElement(gf,{visible:qh(B,ge(y)),type:"button",icon:Mh,"aria-label":eb("buttons.edit"),onClick:g,selected:"shape"===B.openMenu})}});ne({name:"toggleFullScreen",perform:function(){return vh()||document.documentElement.requestFullscreen(),vh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(g){return"KeyF"===g.code&&!g[bf]}});ne({name:"toggleShortcuts",perform:function(g,y){return{appState:rc(rc({},y),{},{showHelpDialog:!y.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(g){g=
g.updateData;return Ea().createElement(di,{title:eb("helpDialog.title"),onClick:g})},keyTest:function(g){return"?"===g.key}});var am=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},Vj=function(g,y){g=uf(ge(g),y);return 2<=g.length&&!function(B){if(2<=B.length)for(var M=function(wa){if(B.reduce(function(Da,Pa){return Da&&Pa.groupIds.includes(wa)},!0))return{value:!0}},
ba=0,ia=B[0].groupIds;ba<ia.length;ba++){var ya=M(ia[ba]);if("object"==typeof ya)return ya.value}return!1}(g)},cg=ne({name:"group",perform:function(g,y){var B=uf(ge(g),y);if(2>B.length)return{appState:y,elements:g,commitToHistory:!1};var M=Ji(y);if(1===M.length&&(M=new Set(Xj(g,M[0]).map(function(ya){return ya.id})),B=new Set(B.map(function(ya){return ya.id})),(new Set(am(Array.from(M),Array.from(B)))).size===M.size))return{appState:y,elements:g,commitToHistory:!1};var ba=vi();M=g.map(function(ya){if(y.selectedElementIds[ya.id]){var wa=
y.editingGroupId;var Da=tl(ya.groupIds);wa=wa?Da.indexOf(wa):-1;Da=(Da.splice(-1<wa?wa:Da.length,0,ba),Da);ya=zg(ya,{groupIds:Da})}return ya});g=Xj(M,ba);var ia=M.lastIndexOf(g[g.length-1]);B=M.slice(ia+1);M=M.slice(0,ia).filter(function(ya){return!ya.groupIds.includes(ba)});g=am(M,g,B);return{appState:Wj(ba,Nc(Nc({},y),{},{selectedGroupIds:{}}),ge(g)),elements:g,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(g,y){return Vj(g,y)},keyTest:function(g){return!g.shiftKey&&
g[bf]&&"KeyG"===g.code},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Vj(y,B),type:"button",icon:Ea().createElement(sf,{appearance:B.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.group")," — ").concat(Wd("CtrlOrCmd+G")),"aria-label":eb("labels.group"),visible:kg(ge(y),B)})}}),wi=ne({name:"ungroup",perform:function(g,y){if(0===Ji(y).length)return{appState:y,elements:g,commitToHistory:!1};g=g.map(function(B){var M=
function(ba,ia){return ba.filter(function(ya){return!ia[ya]})}(B.groupIds,y.selectedGroupIds);return M.length===B.groupIds.length?B:zg(B,{groupIds:M})});return{appState:Vh(Nc(Nc({},y),{},{selectedGroupIds:{}}),ge(g)),elements:g,commitToHistory:!0}},keyTest:function(g){return g.shiftKey&&g[bf]&&"KeyG"===g.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(g,y){return 0<Ji(y).length},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,
{type:"button",hidden:0===Ji(B).length,icon:Ea().createElement(Hk,{appearance:B.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.ungroup")," — ").concat(Wd("CtrlOrCmd+Shift+G")),"aria-label":eb("labels.ungroup"),visible:kg(ge(y),B)})}}),Dk=(e(1395),function(g){var y=g.children,B=g.color,M=g.border;g=g.onClick;return Ea().createElement("div",{className:"Avatar",style:{background:B,border:"1px solid ".concat(M)},onClick:g},y)});ne({name:"goToCollaborator",perform:function(g,
y,B){return B?{appState:Yc(Yc(Yc({},y),Vi({scenePoint:B,viewportDimensions:{width:y.width,height:y.height},zoom:y.zoom})),{},{openMenu:"canvas"===y.openMenu?null:y.openMenu}),commitToHistory:!1}:{appState:y,commitToHistory:!1}},PanelComponent:function(g){var y=g.appState,B=g.updateData;g=g.id;if(!g)return null;var M=y.collaborators.get(g);if(!M)return null;g=Ri(g,y);y=g.background;g=g.stroke;var ba=function(ia){if(!ia)return"?";ia=ia.trim().split(" ");return 2>ia.length?ia[0].substring(0,2).toUpperCase():
(ia[0][0]+ia[ia.length-1][0]).toUpperCase()}(M.username);return Ea().createElement(Dk,{color:y,border:g,onClick:function(){return B(M.pointer)}},ba)}});var jn=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},No=ne({name:"addToLibrary",perform:function(g,y){var B=uf(ge(g),y);return ug.loadLibrary().then(function(M){ug.saveLibrary(jn(M,[B.map(Jj)]))}),!1},contextItemLabel:"labels.addToLibrary"}),
Zn=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},$n=function(g){var y=new Map;return g.forEach(function(B){var M=0===B.groupIds.length?B.id:B.groupIds[B.groupIds.length-1],ba=y.get(M)||[];y.set(M,Zn(ba,[B]))}),Array.from(y.values())},Cf=function(g,y,B){var M,ba,ia,ya=B.axis;B=B.position;g=Sj(g);var wa="x"===ya?["minX","maxX"]:["minY","maxY"],Da=wa[0];wa=
wa[1];return uc(uc({},{x:0,y:0}),{},"start"===B?((M={})[ya]=y[Da]-g[Da],M):"end"===B?((ba={})[ya]=y[wa]-g[wa],ba):((ia={})[ya]=(y[Da]+y[wa])/2-(g[Da]+g[wa])/2,ia))},Sj=function(g){g=Cg(g);return{minX:g[0],minY:g[1],maxX:g[2],maxY:g[3]}},Yh=function(g,y){return 1<uf(ge(g),y).length},Ii=function(g,y,B){y=function(ba,ia){var ya=$n(ba),wa=Sj(ba);return ya.flatMap(function(Da){var Pa=Cf(Da,wa,ia);return Da.map(function(Ka){return zg(Ka,{x:Ka.x+Pa.x,y:Ka.y+Pa.y})})})}(uf(ge(g),y),B);var M=Yi(y);return g.map(function(ba){return M[ba.id]||
ba})},Bn=(ne({name:"alignTop",perform:function(g,y){return{appState:y,elements:Ii(g,y,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(g){return g[bf]&&g.shiftKey&&"ArrowUp"===g.key},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Yh(y,B),type:"button",icon:Ea().createElement(Gh,{appearance:B.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.alignTop")," — ").concat(Wd("CtrlOrCmd+Shift+Up")),"aria-label":eb("labels.alignTop"),
visible:kg(ge(y),B)})}}),ne({name:"alignBottom",perform:function(g,y){return{appState:y,elements:Ii(g,y,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(g){return g[bf]&&g.shiftKey&&"ArrowDown"===g.key},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Yh(y,B),type:"button",icon:Ea().createElement(rg,{appearance:B.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.alignBottom")," — ").concat(Wd("CtrlOrCmd+Shift+Down")),
"aria-label":eb("labels.alignBottom"),visible:kg(ge(y),B)})}}),ne({name:"alignLeft",perform:function(g,y){return{appState:y,elements:Ii(g,y,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(g){return g[bf]&&g.shiftKey&&"ArrowLeft"===g.key},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Yh(y,B),type:"button",icon:Ea().createElement(yj,{appearance:B.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.alignLeft"),
" — ").concat(Wd("CtrlOrCmd+Shift+Left")),"aria-label":eb("labels.alignLeft"),visible:kg(ge(y),B)})}}),ne({name:"alignRight",perform:function(g,y){return{appState:y,elements:Ii(g,y,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(g){return g[bf]&&g.shiftKey&&"ArrowRight"===g.key},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Yh(y,B),type:"button",icon:Ea().createElement(hd,{appearance:B.appearance}),onClick:function(){return M(null)},
title:"".concat(eb("labels.alignRight")," — ").concat(Wd("CtrlOrCmd+Shift+Right")),"aria-label":eb("labels.alignRight"),visible:kg(ge(y),B)})}}),ne({name:"alignVerticallyCentered",perform:function(g,y){return{appState:y,elements:Ii(g,y,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Yh(y,B),type:"button",icon:Ea().createElement(ad,{appearance:B.appearance}),onClick:function(){return M(null)},
title:eb("labels.centerVertically"),"aria-label":eb("labels.centerVertically"),visible:kg(ge(y),B)})}}),ne({name:"alignHorizontallyCentered",perform:function(g,y){return{appState:y,elements:Ii(g,y,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Yh(y,B),type:"button",icon:Ea().createElement(Nk,{appearance:B.appearance}),onClick:function(){return M(null)},title:eb("labels.centerHorizontally"),
"aria-label":eb("labels.centerHorizontally"),visible:kg(ge(y),B)})}}),function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g}),jq=function(g){var y=new Map;return g.forEach(function(B){var M=0===B.groupIds.length?B.id:B.groupIds[B.groupIds.length-1],ba=y.get(M)||[];y.set(M,Bn(ba,[B]))}),Array.from(y.values())},vj=function(g){var y=Cg(g);g=y[0];var B=y[1],M=y[2];y=
y[3];return{minX:g,minY:B,maxX:M,maxY:y,width:M-g,height:y-B,midX:(g+M)/2,midY:(B+y)/2}},Mo=function(g,y){return 1<uf(ge(g),y).length},zn=function(g,y,B){y=function(ba,ia){var ya="x"===ia.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],wa=ya[0],Da=ya[1],Pa=ya[2],Ka=ya[3],lb=vj(ba);ba=jq(ba).map(function(vd){return[vd,vj(vd)]}).sort(function(vd,le){return vd[1][Da]-le[1][Da]});for(var tb=ya=0;tb<ba.length;tb++)ya+=ba[tb][1][Ka];var rb=(lb[Ka]-ya)/(ba.length-1);if(0>rb){var dc=ba.findIndex(function(vd){return vd[1][wa]===
lb[wa]}),Yb=ba.findIndex(function(vd){return vd[1][Pa]===lb[Pa]}),zc=(ba[Yb][1][Da]-ba[dc][1][Da])/(ba.length-1),fd=ba[dc][1][Da];return ba.flatMap(function(vd,le){var ke=vd[0];vd=vd[1];var Oe={x:0,y:0};return le!==dc&&le!==Yb&&(fd+=zc,Oe[ia.axis]=fd-vd[Da]),ke.map(function(Je){return zg(Je,{x:Je.x+Oe.x,y:Je.y+Oe.y})})})}var id=lb[wa];return ba.flatMap(function(vd){var le=vd[0];vd=vd[1];var ke={x:0,y:0};return ke[ia.axis]=id-vd[wa],id+=rb,id+=vd[Ka],le.map(function(Oe){return zg(Oe,{x:Oe.x+ke.x,y:Oe.y+
ke.y})})})}(uf(ge(g),y),B);var M=Yi(y);return g.map(function(ba){return M[ba.id]||ba})},Xn=(ne({name:"distributeHorizontally",perform:function(g,y){return{appState:y,elements:zn(g,y,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(g){return g.altKey&&"KeyH"===g.code},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Mo(y,B),type:"button",icon:Ea().createElement(od,{appearance:B.appearance}),onClick:function(){return M(null)},
title:"".concat(eb("labels.distributeHorizontally")," — ").concat(Wd("Alt+H")),"aria-label":eb("labels.distributeHorizontally"),visible:kg(ge(y),B)})}}),ne({name:"distributeVertically",perform:function(g,y){return{appState:y,elements:zn(g,y,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(g){return g.altKey&&"KeyV"===g.code},PanelComponent:function(g){var y=g.elements,B=g.appState,M=g.updateData;return Ea().createElement(gf,{hidden:!Mo(y,B),type:"button",icon:Ea().createElement(Pg,
{appearance:B.appearance}),onClick:function(){return M(null)},title:"".concat(eb("labels.distributeVertically")," — ").concat(Wd("Alt+V")),"aria-label":eb("labels.distributeVertically"),visible:kg(ge(y),B)})}}),function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=
[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=
y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya}),hn=ne({name:"copy",perform:function(g,y){return yn(ge(g),y),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:function(g){return g[bf]&&"KeyC"===
g.code}}),iq=ne({name:"cut",perform:function(g,y,B,M){return hn.perform(g,y,B,M),Sg.perform(g,y,B,M)},contextItemLabel:"labels.cut",keyTest:function(g){return g[bf]&&"KeyX"===g.code}}),tp=ne({name:"copyAsSvg",perform:function(){var g=Pc()(function(y,B,M,ba){var ia,ya;return Xn(this,function(wa){switch(wa.label){case 0:if(!ba.canvas)return[2,{commitToHistory:!1}];ia=uf(ge(y),B);wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,Ac("clipboard-svg",ia.length?ia:ge(y),B,ba.canvas,B)];case 2:return wa.sent(),
[2,{commitToHistory:!1}];case 3:return ya=wa.sent(),console.error(ya),[2,{appState:he(he({},B),{},{errorMessage:ya.message}),commitToHistory:!1}];case 4:return[2]}})});return function(y,B,M,ba){return g.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),sp=ne({name:"copyAsPng",perform:function(){var g=Pc()(function(y,B,M,ba){var ia,ya;return Xn(this,function(wa){switch(wa.label){case 0:if(!ba.canvas)return[2,{commitToHistory:!1}];ia=uf(ge(y),B);wa.label=1;case 1:return wa.trys.push([1,
3,,4]),[4,Ac("clipboard",ia.length?ia:ge(y),B,ba.canvas,B)];case 2:return wa.sent(),[2,{appState:he(he({},B),{},{toastMessage:eb("toast.copyToClipboardAsPng",{exportSelection:ia.length?eb("toast.selection"):eb("toast.canvas"),exportColorScheme:B.exportWithDarkMode?eb("buttons.darkMode"):eb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return ya=wa.sent(),console.error(ya),[2,{appState:he(he({},B),{},{errorMessage:ya.message}),commitToHistory:!1}];case 4:return[2]}})});return function(y,B,M,
ba){return g.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(g){return"KeyC"===g.code&&g.altKey&&g.shiftKey}}),qp=ne({name:"gridMode",perform:function(g,y){return Tg("view","mode","grid"),{appState:Ae(Ae({},y),{},{gridSize:this.checked(y)?null:hc.k}),commitToHistory:!1}},checked:function(g){return null!==g.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(g){return g[bf]&&"Quote"===g.code}}),oe=ne({name:"zenMode",perform:function(g,y){return Tg("view","mode",
"zen"),{appState:ic(ic({},y),{},{zenModeEnabled:!this.checked(y)}),commitToHistory:!1}},checked:function(g){return g.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(g){return!g[bf]&&g.altKey&&"KeyZ"===g.code}}),Yn=ne({name:"stats",perform:function(g,y){return{appState:kc(kc({},y),{},{showStats:!this.checked(y)}),commitToHistory:!1}},checked:function(g){return g.showStats},contextItemLabel:"stats.title"}),rp=function(g,y,B){if(!(y.multiElement||y.resizingElement||y.editingElement||
y.draggingElement)){B=B();if(null===B)return{commitToHistory:!1};var M=Yi(g),ba=B.elements,ia=Yi(ba);g=g.filter(function(ya){return!ia.hasOwnProperty(ya.id)});ba=ba.map(function(ya){return zg(M[ya.id]||ya,ya)}).concat(g.map(function(ya){return zg(ya,{isDeleted:!0})}));return qj(ba,g),{elements:ba,appState:Ad(Ad({},y),B.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},sm=function(){function g(y,B,M,ba){var ia=this;this.actions={};this.renderAction=function(ya,wa){if(ia.actions[ya]&&
"PanelComponent"in ia.actions[ya]){var Da=ia.actions[ya];ya=Da.PanelComponent;return Ea().createElement(ya,{elements:ia.getElementsIncludingDeleted(),appState:ia.getAppState(),updateData:function(Pa){ia.updater(Da.perform(ia.getElementsIncludingDeleted(),ia.getAppState(),Pa,ia.app))},id:wa})}return null};this.updater=function(ya){if(!(ya&&"then"in ya))return y(ya);ya.then(function(wa){return y(wa)})};this.getAppState=B;this.getElementsIncludingDeleted=M;this.app=ba}return g.prototype.registerAction=
function(y){this.actions[y.name]=y},g.prototype.registerAll=function(y){var B=this;y.forEach(function(M){return B.registerAction(M)})},g.prototype.handleKeyDown=function(y){var B=this,M=Object.values(this.actions).sort(function(ba,ia){return(ia.keyPriority||0)-(ba.keyPriority||0)}).filter(function(ba){return ba.keyTest&&ba.keyTest(y,B.getAppState(),B.getElementsIncludingDeleted())});return 0!==M.length&&!(this.getAppState().viewModeEnabled&&!Object.values(hc.EH).includes(M[0].name))&&(y.preventDefault(),
this.updater(M[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},g.prototype.executeAction=function(y){this.updater(y.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},g}(),Pm=function(g){g=Array.from(g.values());return{x:bo(g,function(y){return y.x})/g.length,y:bo(g,function(y){return y.y})/g.length}},ao=function(g){var y=g[0];g=g[1];return Math.hypot(y.x-g.x,y.y-g.y)},bo=function(g,y){return g.reduce(function(B,M){return B+y(M)},0)},
Oo,kq=function(){function g(){var y=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(B,M){return y.dehydrateHistoryEntry({appState:{selectedElementIds:B.selectedElementIds,viewBackgroundColor:B.viewBackgroundColor,editingLinearElement:B.editingLinearElement,editingGroupId:B.editingGroupId,name:B.name},elements:M.reduce(function(ba,ia){if(Gg(ia)&&B.multiElement&&B.multiElement.id===ia.id){if(B.multiElement&&B.multiElement.id===
ia.id&&2>ia.points.length)return ba;ba.push(Xe(Xe({},ia),{},{points:ia.lastCommittedPoint!==ia.points[ia.points.length-1]?ia.points.slice(0,-1):ia.points}))}else ba.push(ia);return ba},[])})}}return g.prototype.hydrateHistoryEntry=function(y){var B=y.elements,M=this;return{appState:JSON.parse(y.appState),elements:B.map(function(ba){var ia,ya=null===(ia=M.elementCache.get(ba.id))||void 0===ia?void 0:ia.get(ba.versionNonce);if(!ya)throw Error("Element not found: ".concat(ba.id,":").concat(ba.versionNonce));
return ya})}},g.prototype.dehydrateHistoryEntry=function(y){var B=y.elements,M=this;return{appState:JSON.stringify(y.appState),elements:B.map(function(ba){M.elementCache.has(ba.id)||M.elementCache.set(ba.id,new Map);var ia=M.elementCache.get(ba.id);return ia.has(ba.versionNonce)||ia.set(ba.versionNonce,Jj(ba)),{id:ba.id,versionNonce:ba.versionNonce}})}},g.prototype.getSnapshotForTest=function(){var y=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(B){return y.hydrateHistoryEntry(B)}),
redoStack:this.redoStack.map(function(B){return y.hydrateHistoryEntry(B)})}},g.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},g.prototype.shouldCreateEntry=function(y){var B,M=this.lastEntry;if(!M||y.elements.length!==M.elements.length)return!0;for(var ba=y.elements.length-1;-1<ba;ba--){var ia=y.elements[ba],ya=M.elements[ba];if(!ia||!ya||ia.id!==ya.id||ia.versionNonce!==ya.versionNonce)return!0}for(B in y.appState){var wa,
Da;if(("editingLinearElement"!==B||(null===(wa=y.appState[B])||void 0===wa?void 0:wa.elementId)!==(null===(Da=M.appState[B])||void 0===Da?void 0:Da.elementId))&&"selectedElementIds"!==B&&y.appState[B]!==M.appState[B])return!0}return!1},g.prototype.pushEntry=function(y,B){y=this.generateEntry(y,B);(B=this.hydrateHistoryEntry(y))&&this.shouldCreateEntry(B)&&(this.stateHistory.push(y),this.lastEntry=B,this.clearRedoStack())},g.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},
g.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var y=this.redoStack.pop();return void 0!==y?(this.stateHistory.push(y),this.hydrateHistoryEntry(y)):null},g.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var y=this.stateHistory.pop(),B=this.stateHistory[this.stateHistory.length-1];return void 0!==y?(this.redoStack.push(y),this.hydrateHistoryEntry(B)):null},g.prototype.setCurrentState=function(y,B){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(y,
B))},g.prototype.resumeRecording=function(){this.recording=!0},g.prototype.record=function(y,B){this.recording&&(this.pushEntry(y,B),this.recording=!1)},g}(),um=[{icon:Ea().createElement("svg",{viewBox:"0 0 320 512",className:""},Ea().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:Ea().createElement("svg",{viewBox:"0 0 448 512"},Ea().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:Ea().createElement("svg",{viewBox:"0 0 223.646 223.646"},Ea().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:Ea().createElement("svg",{viewBox:"0 0 512 512"},Ea().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:Ea().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},Ea().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:Ea().createElement("svg",{viewBox:"0 0 6 6"},
Ea().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:Ea().createElement("svg",{viewBox:"0 0 512 512"},Ea().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:Ea().createElement("svg",{viewBox:"0 0 448 512"},Ea().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Lo=(e(4518),{cut:[Wd("CtrlOrCmd+X")],copy:[Wd("CtrlOrCmd+C")],
paste:[Wd("CtrlOrCmd+V")],copyStyles:[Wd("CtrlOrCmd+Alt+C")],pasteStyles:[Wd("CtrlOrCmd+Alt+V")],selectAll:[Wd("CtrlOrCmd+A")],deleteSelectedElements:[Wd("Del")],duplicateSelection:[Wd("CtrlOrCmd+D"),Wd("Alt+".concat(eb("helpDialog.drag")))],sendBackward:[Wd("CtrlOrCmd+[")],bringForward:[Wd("CtrlOrCmd+]")],sendToBack:[Wd(Lg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Wd(Lg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Wd("Shift+Alt+C")],copyAsSvg:[],group:[Wd("CtrlOrCmd+G")],ungroup:[Wd("CtrlOrCmd+Shift+G")],
gridMode:[Wd("CtrlOrCmd+'")],zenMode:[Wd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Wd("Alt+R")]}),hq=function(g){var y,B=g.options,M=g.onCloseRequest,ba=g.top,ia=g.left,ya=g.actionManager,wa=g.appState;g=!(null===(y=document.querySelector(".excalidraw"))||void 0===y||!y.classList.contains("Appearance_dark"));return Ea().createElement("div",{className:mc("excalidraw",{"Appearance_dark Appearance_dark-background-none":g})},Ea().createElement(jb,{onCloseRequest:M,top:ba,left:ia,fitInViewport:!0},
Ea().createElement("ul",{className:"context-menu",onContextMenu:function(Da){return Da.preventDefault()}},B.map(function(Da,Pa){var Ka;if("separator"===Da)return Ea().createElement("hr",{key:Pa,className:"context-menu-option-separator"});var lb,tb=Da.name,rb=Da.contextItemLabel?eb(Da.contextItemLabel):"";return Ea().createElement("li",{key:Pa,"data-testid":tb,onClick:M},Ea().createElement("button",{className:mc("context-menu-option",{dangerous:"deleteSelectedElements"===tb,checkmark:null===(Ka=Da.checked)||
void 0===Ka?void 0:Ka.call(Da,wa)}),onClick:function(){return ya.executeAction(Da)}},Ea().createElement("div",{className:"context-menu-option__label"},rb),Ea().createElement("kbd",{className:"context-menu-option__shortcut"},tb?(lb=Lo[tb])&&0<lb.length?lb[0]:"":"")))}))))},Ko=function(){if(Oo)return Oo;var g=document.createElement("div");return document.body.appendChild(g),Oo=g},Mm=function(){(0,$f.unmountComponentAtNode)(Ko())};const An=function(g){var y=[];g.options.forEach(function(B){B&&y.push(B)});
y.length&&(0,$f.render)(Ea().createElement(hq,{top:g.top,left:g.left,options:y,onCloseRequest:Mm,actionManager:g.actionManager,appState:g.appState}),Ko())};e(1575);const Wk=function(g){var y=g.children,B=g.gap,M=g.align,ba=g.justifyContent,ia=g.className;g=g.style;return Ea().createElement("div",{className:mc("Stack Stack_horizontal",ia),style:Tc({"--gap":B,alignItems:M,justifyContent:ba},g)},y)},Xk=function(g){var y=g.children,B=g.gap,M=g.align,ba=g.justifyContent;g=g.className;return Ea().createElement("div",
{className:mc("Stack Stack_vertical",g),style:{"--gap":B,justifyItems:M,justifyContent:ba}},y)};var Yq=function(g){var y=g.appState,B=g.renderAction,M=g.elementType;g=fk(ge(g.elements),y);y=!!y.editingElement;var ba=Ve(),ia="rtl"===document.documentElement.getAttribute("dir"),ya=Mj(M)||g.some(function(Da){return Mj(Da.type)&&(Pa=Da.backgroundColor,Ka=5===Pa.length&&"0"===Pa.substr(4,1),lb=9===Pa.length&&"00"===Pa.substr(7,2),!(Ka||lb||Pa===xk.elementBackground[0]));var Pa,Ka,lb}),wa=Mj(M)||g.some(function(Da){return Mj(Da.type)});
return Ea().createElement("div",{className:"panelColumn"},B("changeStrokeColor"),wa&&B("changeBackgroundColor"),ya&&B("changeFillStyle"),(Uf(M)||g.some(function(Da){return Uf(Da.type)}))&&Ea().createElement(Ea().Fragment,null,B("changeStrokeWidth"),B("changeStrokeStyle"),B("changeSloppiness")),(mk(M)||g.some(function(Da){return mk(Da.type)}))&&Ea().createElement(Ea().Fragment,null,B("changeSharpness")),("text"===M||g.some(function(Da){return"text"===Da.type}))&&Ea().createElement(Ea().Fragment,null,
B("changeFontSize"),B("changeFontFamily"),B("changeTextAlign")),("arrow"===M||g.some(function(Da){return"arrow"===Da.type}))&&Ea().createElement(Ea().Fragment,null,B("changeArrowhead")),B("changeOpacity"),Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.layers")),Ea().createElement("div",{className:"buttonList"},B("sendToBack"),B("sendBackward"),B("bringToFront"),B("bringForward"))),1<g.length&&Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.align")),
Ea().createElement("div",{className:"buttonList"},ia?Ea().createElement(Ea().Fragment,null,B("alignRight"),B("alignHorizontallyCentered"),B("alignLeft")):Ea().createElement(Ea().Fragment,null,B("alignLeft"),B("alignHorizontallyCentered"),B("alignRight")),2<g.length&&B("distributeHorizontally"),Ea().createElement("div",{className:"iconRow"},B("alignTop"),B("alignVerticallyCentered"),B("alignBottom"),2<g.length&&B("distributeVertically")))),!ba&&!y&&0<g.length&&Ea().createElement("fieldset",null,Ea().createElement("legend",
null,eb("labels.actions")),Ea().createElement("div",{className:"buttonList"},B("duplicateSelection"),B("deleteSelectedElements"),B("group"),B("ungroup"))))},Tr=Ea().createElement("svg",{viewBox:"0 0 512 512"},Ea().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
gq=function(g){var y=g.canvas,B=g.elementType,M=g.setAppState,ba=g.isLibraryOpen;return Ea().createElement(Ea().Fragment,null,um.map(function(ia,ya){var wa=ia.value,Da=ia.icon,Pa=ia.key;ia=eb("toolBar.".concat(wa));Pa="".concat(hj("string"==typeof Pa?Pa:Pa[0])," ").concat(eb("helpDialog.or")," ").concat(ya+1);return Ea().createElement(gf,{className:"Shape",key:wa,type:"radio",icon:Da,checked:B===wa,name:"editor-current-shape",title:"".concat(hj(ia)," — ").concat(Pa),keyBindingLabel:"".concat(ya+1),
"aria-label":hj(ia),"aria-keyshortcuts":Pa,"data-testid":wa,onChange:function(){M({elementType:wa,multiElement:null,selectedElementIds:{}});si(y,wa);M({})}})}),Ea().createElement(gf,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Tr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(hj(eb("toolBar.library"))," — 9"),"aria-label":hj(eb("toolBar.library")),onClick:function(){M({isLibraryOpen:!ba})}}))},Sr=function(g){var y=g.renderAction;g=g.zoom;return Ea().createElement(Xk,
{gap:1},Ea().createElement(Wk,{gap:1,align:"center"},y("zoomIn"),y("zoomOut"),y("resetZoom"),Ea().createElement("div",{style:{marginInlineStart:4}},(100*g.value).toFixed(0),"%")))},Xq=function(g){var y=g.appState,B=g.setAppState;g=g.actionManager;return Ea().createElement("div",{style:{display:"flex"}},g.renderAction("changeViewBackgroundColor"),Ea().createElement("div",{style:{marginInlineStart:"0.25rem"}},Ea().createElement(ck,{value:y.appearance,onChange:function(M){B({appearance:M})}})))};e(3211);
const Zq=function(g){var y=g.isCollaborating,B=g.collaboratorCount;g=g.onClick;return Ea().createElement(Ea().Fragment,null,Ea().createElement(gf,{className:mc("CollabButton",{"is-collaborating":y}),onClick:g,icon:El,type:"button",title:eb("labels.liveCollaboration"),"aria-label":eb("labels.liveCollaboration"),showAriaLabel:Ve()},0<B&&Ea().createElement("div",{className:"CollabButton-collaborators"},B)))};e(3040);e(7428);var bl=Ea().forwardRef(function(g,y){var B=g.children,M=g.padding,ba=g.className;
g=g.style;return Ea().createElement("div",{className:mc("Island",ba),style:yb({"--padding":M},g),ref:y},B)}),Ur=(e(205),function(g){var y=up();return y?(0,$f.createPortal)(Ea().createElement("div",{className:mc("Modal",g.className),role:"dialog","aria-modal":"true",onKeyDown:function(B){"Escape"===B.key&&(B.nativeEvent.stopImmediatePropagation(),g.onCloseRequest())},"aria-labelledby":g.labelledBy},Ea().createElement("div",{className:"Modal__background",onClick:g.onCloseRequest}),Ea().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(g.maxWidth,"px")}},g.children)),y):null}),up=function(){var g=(0,jc.useState)(null),y=g[0],B=g[1];return(0,jc.useLayoutEffect)(function(){var M,ba=!(null===(M=document.querySelector(".excalidraw"))||void 0===M||!M.classList.contains("Appearance_dark")),ia=document.createElement("div");return ia.classList.add("excalidraw","excalidraw-modal-container"),ba&&(ia.classList.add("Appearance_dark"),ia.classList.add("Appearance_dark-background-none")),
document.body.appendChild(ia),B(ia),function(){document.body.removeChild(ia)}},[]),y},H=function(g){var y=function(){var ba=(0,jc.useState)(null),ia=ba[1];return[ba[0],(0,jc.useCallback)(function(ya){return ia(ya)},[])]}(),B=y[0];y=y[1];(0,jc.useEffect)(function(){if(B){var ba=M(B);0<ba.length&&!1!==g.autofocus&&(ba[1]||ba[0]).focus();var ia=function(ya){if("Tab"===ya.key){var wa=M(B),Da=document.activeElement,Pa=wa.findIndex(function(Ka){return Ka===Da});0===Pa&&ya.shiftKey?(wa[wa.length-1].focus(),
ya.preventDefault()):Pa!==wa.length-1||ya.shiftKey||(wa[0].focus(),ya.preventDefault())}};return B.addEventListener("keydown",ia),function(){return B.removeEventListener("keydown",ia)}}},[B,g.autofocus]);var M=function(ba){return(ba=ba.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(ba):[]};return Ea().createElement(Ur,{className:mc("Dialog",g.className),labelledBy:"dialog-title",maxWidth:g.small?550:800,onCloseRequest:g.onCloseRequest},Ea().createElement(bl,{ref:y},
Ea().createElement("h2",{id:"dialog-title",className:"Dialog__title"},Ea().createElement("span",{className:"Dialog__titleContent"},g.title),Ea().createElement("button",{className:"Modal__close",onClick:g.onCloseRequest,"aria-label":eb("buttons.close")},Ve()?kh:sj)),Ea().createElement("div",{className:"Dialog__content"},g.children)))},T=function(g){var y=g.message,B=g.onClose,M=(0,jc.useState)(!!y);g=M[0];var ba=M[1];M=Ea().useCallback(function(){ba(!1);B&&B()},[B]);return Ea().createElement(Ea().Fragment,
null,g&&Ea().createElement(H,{small:!0,onCloseRequest:M,title:eb("errorDialog.title")},Ea().createElement("div",null,y.split("\n").map(function(ia){return Ea().createElement(Ea().Fragment,null,ia,Ea().createElement("br",null))}))))},pa=(e(8623),[1,2,3]),Ia=pa.includes(devicePixelRatio)?devicePixelRatio:1,ab="filter"in document.createElement("canvas").getContext("2d"),ub=function(){return Ea().createElement("div",null,Ea().createElement("h3",null,eb("canvasError.cannotShowPreview")),Ea().createElement("p",
null,Ea().createElement("span",null,eb("canvasError.canvasTooBig"))),Ea().createElement("em",null,"(",eb("canvasError.canvasTooBigTip"),")"))},Lb=function(g,y){(0,$f.unmountComponentAtNode)(y);y.innerHTML="";g instanceof HTMLCanvasElement?y.appendChild(g):(0,$f.render)(Ea().createElement(ub,null),y)},cc=function(g){var y=g.elements,B=g.appState,M=g.exportPadding,ba=void 0===M?10:M;M=g.actionManager;var ia=g.onExportToPng,ya=g.onExportToSvg,wa=g.onExportToClipboard,Da=g.onExportToBackend,Pa=kg(y,B);
g=(0,jc.useState)(Ia);var Ka=g[0],lb=g[1];g=(0,jc.useState)(Pa);var tb=g[0],rb=g[1],dc=(0,jc.useRef)(null),Yb=B.exportBackground,zc=B.viewBackgroundColor,fd=B.shouldAddWatermark,id=tb?uf(y,B):y;return(0,jc.useEffect)(function(){rb(Pa)},[Pa]),(0,jc.useEffect)(function(){var vd=dc.current;if(vd)try{var le=tm(id,B,{exportBackground:Yb,viewBackgroundColor:zc,exportPadding:ba,scale:Ka,shouldAddWatermark:fd});pm(le).then(function(){Lb(le,vd)}).catch(function(ke){console.error(ke);Lb(new ln,vd)})}catch(ke){console.error(ke),
Lb(new ln,vd)}},[B,id,Yb,ba,zc,Ka,fd]),Ea().createElement("div",{className:"ExportDialog"},Ea().createElement("div",{className:"ExportDialog__preview",ref:dc}),ab&&M.renderAction("exportWithDarkMode"),Ea().createElement(Xk,{gap:2,align:"center"},Ea().createElement("div",{className:"ExportDialog__actions"},Ea().createElement(Wk,{gap:2},Ea().createElement(gf,{type:"button",label:"PNG",title:eb("buttons.exportToPng"),"aria-label":eb("buttons.exportToPng"),onClick:function(){return ia(id,Ka)}}),Ea().createElement(gf,
{type:"button",label:"SVG",title:eb("buttons.exportToSvg"),"aria-label":eb("buttons.exportToSvg"),onClick:function(){return ya(id,Ka)}}),Km&&Ea().createElement(gf,{type:"button",icon:ok,title:eb("buttons.copyPngToClipboard"),"aria-label":eb("buttons.copyPngToClipboard"),onClick:function(){return wa(id,Ka)}}),Da&&Ea().createElement(gf,{type:"button",icon:nl,title:eb("buttons.getShareableLink"),"aria-label":eb("buttons.getShareableLink"),onClick:function(){return Da(id)}})),Ea().createElement("div",
{className:"ExportDialog__name"},M.renderAction("changeProjectName")),Ea().createElement(Wk,{gap:2},pa.map(function(vd){var le=function(Oe,Je,df,zd){Oe=Wn(Oe,df);Je=Im(Oe,Je,df).map(function(Zd){return Math.trunc(Zd*zd)});return[Je[2],Je[3]]}(id,ba,fd,vd),ke=le[0];le=le[1];ke="".concat(eb("buttons.scale")," ").concat(vd,"x (").concat(ke,"x").concat(le,")");return Ea().createElement(gf,{key:vd,size:"s",type:"radio",icon:"".concat(vd,"x"),name:"export-canvas-scale",title:ke,"aria-label":ke,id:"export-canvas-scale",
checked:vd===Ka,onChange:function(){return lb(vd)}})}))),M.renderAction("changeExportBackground"),Pa&&Ea().createElement("div",null,Ea().createElement("label",null,Ea().createElement("input",{type:"checkbox",checked:tb,onChange:function(vd){return rb(vd.currentTarget.checked)}})," ",eb("labels.onlySelected"))),M.renderAction("changeExportEmbedScene"),M.renderAction("changeShouldAddWatermark")))},Bc=function(g){var y=g.elements,B=g.appState,M=g.exportPadding;M=void 0===M?10:M;var ba=g.actionManager,
ia=g.onExportToPng,ya=g.onExportToSvg,wa=g.onExportToClipboard;g=g.onExportToBackend;var Da=(0,jc.useState)(!1),Pa=Da[0],Ka=Da[1],lb=(0,jc.useRef)(null);Da=Ea().useCallback(function(){var tb;Ka(!1);null===(tb=lb.current)||void 0===tb||tb.focus()},[]);return Ea().createElement(Ea().Fragment,null,Ea().createElement(gf,{onClick:function(){Ka(!0)},icon:sh,type:"button","aria-label":eb("buttons.export"),showAriaLabel:Ve(),title:eb("buttons.export"),ref:lb}),Pa&&Ea().createElement(H,{onCloseRequest:Da,
title:eb("buttons.export")},Ea().createElement(cc,{elements:y,appState:B,exportPadding:M,actionManager:ba,onExportToPng:ia,onExportToSvg:ya,onExportToClipboard:wa,onExportToBackend:g,onCloseRequest:Da})))},cd=(e(4193),function(g){var y=g.children,B=g.side;g=g.className;return Ea().createElement("div",{className:mc("FixedSideContainer","FixedSideContainer_side_".concat(B),g)},y)}),re=Ea().memo(function(g){g=g.appearance;return Ea().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",
height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},Ea().createElement("a",{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},Ea().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===g?Ee.MA[6]:Ee.MA[8]}),Ea().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===
g?Ee.ix:Ee.Sn}),Ea().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",fill:"light"===g?Ee.ix:Ee.Sn})))}),zf=(e(9705),function(g){return(g=function(y){var B=y.appState,M=y.elements,ba=B.elementType;y=B.isResizing;var ia=B.isRotating,ya=B.lastPointerDownWith,wa=null!==B.multiElement;if("arrow"===
ba||"line"===ba)return eb(wa?"hints.linearElementMulti":"hints.linearElement");if("draw"===ba)return eb("hints.freeDraw");if("text"===ba)return eb("hints.text");M=uf(M,B);return y&&"mouse"===ya&&1===M.length?(B=M[0],Gg(B)&&2===B.points.length?eb("hints.lockAngle"):eb("hints.resize")):ia&&"mouse"===ya?eb("hints.rotate"):1===M.length&&Gg(M[0])?B.editingLinearElement?B.editingLinearElement.activePointIndex?eb("hints.lineEditor_pointSelected"):eb("hints.lineEditor_nothingSelected"):eb("hints.lineEditor_info"):
null}({appState:g.appState,elements:g.elements}))?(g=Wd(g),Ea().createElement("div",{className:"HintViewer"},Ea().createElement("span",null,g))):null}),Fd=(e(8465),e(8680),Ea().createElement("svg",{viewBox:"0 0 1792 1792"},Ea().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),Qe=function(g){var y=
g.elements,B=g.pendingElements,M=g.onRemoveFromLibrary;g=g.onClick;var ba=(0,jc.useRef)(null);(0,jc.useEffect)(function(){var Pa=y||B;if(Pa){var Ka=Nl(Pa,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1});Pa=0;for(var lb=ba.current.children;Pa<lb.length;Pa++){var tb=lb[Pa];"svg"===tb.tagName&&ba.current.removeChild(tb)}ba.current.appendChild(Ka);var rb=ba.current;return function(){rb.removeChild(Ka)}}},[y,B]);var ia=(0,jc.useState)(!1),ya=ia[0],wa=ia[1];ia=Ve();var Da=(ya||ia)&&
B&&Ea().createElement("div",{className:"library-unit__adder"},Fd);return Ea().createElement("div",{className:mc("library-unit",{"library-unit__active":y||B}),onMouseEnter:function(){return wa(!0)},onMouseLeave:function(){return wa(!1)}},Ea().createElement("div",{className:mc("library-unit__dragger",{"library-unit__pulse":!!B}),ref:ba,draggable:!!y,onClick:y||B?g:void 0,onDragStart:function(Pa){wa(!1);Pa.dataTransfer.setData(hc.LO.excalidrawlib,JSON.stringify(y))}}),Da,y&&(ya||ia)&&Ea().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":eb("labels.removeFromLibrary"),onClick:M},sj))},Af=Ea().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},Ea().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),mf=Ea().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},Ea().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Qc=function(g){return Ea().createElement("label",{className:mc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(g.size||"m"),{"zen-mode-visibility--hidden":g.zenModeEnabled}),title:"".concat(g.title," — Q")},Ea().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:g.name,id:g.id,onChange:g.onChange,checked:g.checked,"aria-label":g.title}),Ea().createElement("div",{className:"ToolIcon__icon"},g.checked?Af:mf))},Ec=function(g){var y=g.heading,B=g.children;g=Uh()(g,["heading","children"]);var M=Ea().createElement("h2",{className:"visually-hidden",id:"".concat(y,
"-title")},eb("headings.".concat(y)));return Ea().createElement("section",Pd()({},g,{"aria-labelledby":"".concat(y,"-title")}),"function"==typeof B?B(M):Ea().createElement(Ea().Fragment,null,M,B))},Oc=(e(3142),function(g){var y=g.children,B=g.className;g=g.mobile;return Ea().createElement("div",{className:mc("UserList",B,{UserList_mobile:g})},y)}),xd=function(g){var y=g.appState,B=g.elements,M=g.libraryMenu,ba=g.actionManager,ia=g.exportButton,ya=g.setAppState,wa=g.onCollabButtonClick,Da=g.onLockToggle,
Pa=g.canvas,Ka=g.isCollaborating,lb=g.renderCustomFooter;g=g.viewModeEnabled;return Ea().createElement(Ea().Fragment,null,!g&&Ea().createElement(cd,{side:"top",className:"App-top-bar"},Ea().createElement(Ec,{heading:"shapes"},function(tb){return Ea().createElement(Xk,{gap:4,align:"center"},Ea().createElement(Wk,{gap:1},Ea().createElement(bl,{padding:1},tb,Ea().createElement(Wk,{gap:1},Ea().createElement(gq,{canvas:Pa,elementType:y.elementType,setAppState:ya,isLibraryOpen:y.isLibraryOpen}))),Ea().createElement(Qc,
{checked:y.elementLocked,onChange:Da,title:eb("toolBar.lock")})),M)}),Ea().createElement(zf,{appState:y,elements:B})),Ea().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},Ea().createElement(bl,{padding:0},"canvas"===y.openMenu?Ea().createElement(Ec,{className:"App-mobile-menu",heading:"canvasActions"},Ea().createElement("div",{className:"panelColumn"},Ea().createElement(Xk,{gap:4},g?Ea().createElement(Ea().Fragment,null,ba.renderAction("saveScene"),
ba.renderAction("saveAsScene"),ia):Ea().createElement(Ea().Fragment,null,ba.renderAction("loadScene"),ba.renderAction("saveScene"),ba.renderAction("saveAsScene"),ia,ba.renderAction("clearCanvas"),wa&&Ea().createElement(Zq,{isCollaborating:Ka,collaboratorCount:y.collaborators.size,onClick:wa}),Ea().createElement(Xq,{actionManager:ba,appState:y,setAppState:ya})),null==lb?void 0:lb(!0),0<y.collaborators.size&&Ea().createElement("fieldset",null,Ea().createElement("legend",null,eb("labels.collaborators")),
Ea().createElement(Oc,{mobile:!0},Array.from(y.collaborators).filter(function(tb){tb[0];return 0!==Object.keys(tb[1]).length}).map(function(tb){var rb=tb[0];tb[1];return Ea().createElement(Ea().Fragment,{key:rb},ba.renderAction("goToCollaborator",rb))})))))):"shape"===y.openMenu&&!g&&qh(y,B)?Ea().createElement(Ec,{className:"App-mobile-menu",heading:"selectedShapeActions"},Ea().createElement(Yq,{appState:y,elements:B,renderAction:ba.renderAction,elementType:y.elementType})):null,Ea().createElement("footer",
{className:"App-toolbar"},g?Ea().createElement("div",{className:"App-toolbar-content"},ba.renderAction("toggleCanvasMenu")):Ea().createElement("div",{className:"App-toolbar-content"},ba.renderAction("toggleCanvasMenu"),ba.renderAction("toggleEditMenu"),ba.renderAction("undo"),ba.renderAction("redo"),ba.renderAction(y.multiElement?"finalize":"duplicateSelection"),ba.renderAction("deleteSelectedElements")),y.scrolledOutside&&!y.openMenu&&Ea().createElement("button",{className:"scroll-back-to-content",
onClick:function(){ya(function(tb){for(var rb=1;rb<arguments.length;rb++){var dc=null!=arguments[rb]?arguments[rb]:{};rb%2?yd(Object(dc),!0).forEach(function(Yb){pd()(tb,Yb,dc[Yb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tb,Object.getOwnPropertyDescriptors(dc)):yd(Object(dc)).forEach(function(Yb){Object.defineProperty(tb,Yb,Object.getOwnPropertyDescriptor(dc,Yb))})}return tb}({},ki(B,y)))}},eb("buttons.scrollBackToContent"))))))},Bd=(e(8416),function(g){var y=(0,jc.useRef)(null),
B=(0,jc.useState)(null),M=B[0],ba=B[1];return(0,jc.useLayoutEffect)(function(){if(g.spreadsheet){var ia=Un(g.chartType,g.spreadsheet,0,0);ba(ia);var ya=Nl(ia,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1}),wa=y.current;return wa.appendChild(ya),g.selected&&wa.parentNode.focus(),function(){wa.removeChild(ya)}}},[g.spreadsheet,g.chartType,g.selected]),Ea().createElement("button",{className:"ChartPreview",onClick:function(){M&&g.onClick(g.chartType,M)}},Ea().createElement("div",
{ref:y}))}),Jf=function(g){var y=g.setAppState,B=g.appState,M=g.onClose,ba=g.onInsertChart;g=Ea().useCallback(function(){M&&M()},[M]);var ia=function(ya,wa){ba(wa);Tg("magic","chart",ya);y({currentChartType:ya,pasteDialog:{shown:!1,data:null}})};return Ea().createElement(H,{small:!0,onCloseRequest:g,title:eb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},Ea().createElement("div",{className:"container"},Ea().createElement(Bd,{chartType:"bar",spreadsheet:B.pasteDialog.data,selected:"bar"===
B.currentChartType,onClick:ia}),Ea().createElement(Bd,{chartType:"line",spreadsheet:B.pasteDialog.data,selected:"line"===B.currentChartType,onClick:ia})))},He=(e(341),function(){return Ea().createElement("div",{className:"HelpDialog--header"},Ea().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},eb("helpDialog.documentation")),Ea().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",
target:"_blank",rel:"noopener noreferrer"},eb("helpDialog.blog")),Ea().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},eb("helpDialog.github")))}),Kf=function(g){return Ea().createElement(Ea().Fragment,null,Ea().createElement("h3",null,g.title),g.children)},ng=function(g){return Ea().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},g.children)},
Nf=function(g){return Ea().createElement("div",{style:{width:"49%"}},g.children)},rm=function(g){return Ea().createElement("div",{className:"HelpDialog--island"},Ea().createElement("h3",{className:"HelpDialog--island-title"},g.caption),g.children)},tf=function(g){return Ea().createElement("div",{className:"HelpDialog--shortcut"},Ea().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},Ea().createElement("div",{style:{lineHeight:1.4}},g.label),Ea().createElement("div",
{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},g.shortcuts.map(function(y,B){return Ea().createElement(Ea().Fragment,{key:B},Ea().createElement(au,null,y),g.isOr&&B!==g.shortcuts.length-1&&eb("helpDialog.or"))}))))};tf.defaultProps={isOr:!0};var au=function(g){return Ea().createElement("kbd",Pd()({className:"HelpDialog--key"},g))},bu=function(g){var y=g.onClose;g=Ea().useCallback(function(){y&&y()},[y]);return Ea().createElement(Ea().Fragment,
null,Ea().createElement(H,{onCloseRequest:g,title:eb("helpDialog.title"),className:"HelpDialog"},Ea().createElement(He,null),Ea().createElement(Kf,{title:eb("helpDialog.shortcuts")},Ea().createElement(ng,null,Ea().createElement(Nf,null,Ea().createElement(rm,{caption:eb("helpDialog.shapes")},Ea().createElement(tf,{label:eb("toolBar.selection"),shortcuts:["V","1"]}),Ea().createElement(tf,{label:eb("toolBar.rectangle"),shortcuts:["R","2"]}),Ea().createElement(tf,{label:eb("toolBar.diamond"),shortcuts:["D",
"3"]}),Ea().createElement(tf,{label:eb("toolBar.ellipse"),shortcuts:["E","4"]}),Ea().createElement(tf,{label:eb("toolBar.arrow"),shortcuts:["A","5"]}),Ea().createElement(tf,{label:eb("toolBar.line"),shortcuts:["P","6"]}),Ea().createElement(tf,{label:eb("toolBar.draw"),shortcuts:["Shift+P","7"]}),Ea().createElement(tf,{label:eb("toolBar.text"),shortcuts:["T","8"]}),Ea().createElement(tf,{label:eb("helpDialog.textNewLine"),shortcuts:[Wd("Enter"),Wd("Shift+Enter")]}),Ea().createElement(tf,{label:eb("helpDialog.textFinish"),
shortcuts:[Wd("Esc"),Wd("CtrlOrCmd+Enter")]}),Ea().createElement(tf,{label:eb("helpDialog.curvedArrow"),shortcuts:["A",eb("helpDialog.click"),eb("helpDialog.click"),eb("helpDialog.click")],isOr:!1}),Ea().createElement(tf,{label:eb("helpDialog.curvedLine"),shortcuts:["L",eb("helpDialog.click"),eb("helpDialog.click"),eb("helpDialog.click")],isOr:!1}),Ea().createElement(tf,{label:eb("toolBar.lock"),shortcuts:["Q"]}),Ea().createElement(tf,{label:eb("helpDialog.preventBinding"),shortcuts:[Wd("CtrlOrCmd")]})),
Ea().createElement(rm,{caption:eb("helpDialog.view")},Ea().createElement(tf,{label:eb("buttons.zoomIn"),shortcuts:[Wd("CtrlOrCmd++")]}),Ea().createElement(tf,{label:eb("buttons.zoomOut"),shortcuts:[Wd("CtrlOrCmd+-")]}),Ea().createElement(tf,{label:eb("buttons.resetZoom"),shortcuts:[Wd("CtrlOrCmd+0")]}),Ea().createElement(tf,{label:eb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),Ea().createElement(tf,{label:eb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),Ea().createElement(tf,{label:eb("buttons.fullScreen"),
shortcuts:["F"]}),Ea().createElement(tf,{label:eb("buttons.zenMode"),shortcuts:[Wd("Alt+Z")]}),Ea().createElement(tf,{label:eb("labels.showGrid"),shortcuts:[Wd("CtrlOrCmd+'")]}),Ea().createElement(tf,{label:eb("labels.viewMode"),shortcuts:[Wd("Alt+R")]}))),Ea().createElement(Nf,null,Ea().createElement(rm,{caption:eb("helpDialog.editor")},Ea().createElement(tf,{label:eb("labels.selectAll"),shortcuts:[Wd("CtrlOrCmd+A")]}),Ea().createElement(tf,{label:eb("labels.multiSelect"),shortcuts:[Wd("Shift+".concat(eb("helpDialog.click")))]}),
Ea().createElement(tf,{label:eb("labels.moveCanvas"),shortcuts:[Wd("Space+".concat(eb("helpDialog.drag"))),Wd("Wheel+".concat(eb("helpDialog.drag")))],isOr:!0}),Ea().createElement(tf,{label:eb("labels.cut"),shortcuts:[Wd("CtrlOrCmd+X")]}),Ea().createElement(tf,{label:eb("labels.copy"),shortcuts:[Wd("CtrlOrCmd+C")]}),Ea().createElement(tf,{label:eb("labels.paste"),shortcuts:[Wd("CtrlOrCmd+V")]}),Ea().createElement(tf,{label:eb("labels.copyAsPng"),shortcuts:[Wd("Shift+Alt+C")]}),Ea().createElement(tf,
{label:eb("labels.copyStyles"),shortcuts:[Wd("CtrlOrCmd+Alt+C")]}),Ea().createElement(tf,{label:eb("labels.pasteStyles"),shortcuts:[Wd("CtrlOrCmd+Alt+V")]}),Ea().createElement(tf,{label:eb("labels.delete"),shortcuts:[Wd("Del")]}),Ea().createElement(tf,{label:eb("labels.sendToBack"),shortcuts:[Wd(Lg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),Ea().createElement(tf,{label:eb("labels.bringToFront"),shortcuts:[Wd(Lg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),Ea().createElement(tf,{label:eb("labels.sendBackward"),
shortcuts:[Wd("CtrlOrCmd+[")]}),Ea().createElement(tf,{label:eb("labels.bringForward"),shortcuts:[Wd("CtrlOrCmd+]")]}),Ea().createElement(tf,{label:eb("labels.alignTop"),shortcuts:[Wd("CtrlOrCmd+Shift+Up")]}),Ea().createElement(tf,{label:eb("labels.alignBottom"),shortcuts:[Wd("CtrlOrCmd+Shift+Down")]}),Ea().createElement(tf,{label:eb("labels.alignLeft"),shortcuts:[Wd("CtrlOrCmd+Shift+Left")]}),Ea().createElement(tf,{label:eb("labels.alignRight"),shortcuts:[Wd("CtrlOrCmd+Shift+Right")]}),Ea().createElement(tf,
{label:eb("labels.duplicateSelection"),shortcuts:[Wd("CtrlOrCmd+D"),Wd("Alt+".concat(eb("helpDialog.drag")))]}),Ea().createElement(tf,{label:eb("buttons.undo"),shortcuts:[Wd("CtrlOrCmd+Z")]}),Ea().createElement(tf,{label:eb("buttons.redo"),shortcuts:Hj?[Wd("CtrlOrCmd+Y"),Wd("CtrlOrCmd+Shift+Z")]:[Wd("CtrlOrCmd+Shift+Z")]}),Ea().createElement(tf,{label:eb("labels.group"),shortcuts:[Wd("CtrlOrCmd+G")]}),Ea().createElement(tf,{label:eb("labels.ungroup"),shortcuts:[Wd("CtrlOrCmd+Shift+G")]})))))))},Xr=
function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,
(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},
trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Zt=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},$t=function(g){var y=g.library,B=g.onRemoveFromLibrary,M=g.onAddToLibrary,ba=g.onInsertShape,ia=g.pendingElements,ya=g.setAppState,wa=g.setLibraryItems;g=Ve()?4:6;var Da=
Math.max(1,Math.ceil((y.length+(0<ia.length?1:0))/g)),Pa=[],Ka=!1;Pa.push(Ea().createElement("div",{className:"layer-ui__library-header"},Ea().createElement(gf,{key:"import",type:"button",title:eb("buttons.load"),"aria-label":eb("buttons.load"),icon:nm,onClick:function(){Mb().then(function(){ya({isLibraryOpen:!1})}).catch(zk).catch(function(zc){ya({errorMessage:zc.message})})}}),Ea().createElement(gf,{key:"export",type:"button",title:eb("buttons.export"),"aria-label":eb("buttons.export"),icon:sh,
onClick:function(){Ab().catch(zk).catch(function(zc){ya({errorMessage:zc.message})})}}),Ea().createElement(gf,{key:"reset",type:"button",title:eb("buttons.resetLibrary"),"aria-label":eb("buttons.resetLibrary"),icon:Pi,onClick:function(){window.confirm(eb("alerts.resetLibrary"))&&(ug.resetLibrary(),wa([]))}}),Ea().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},eb("labels.libraries"))));for(var lb=0;lb<Da;lb++){for(var tb=g*lb,rb=[],dc=0;dc<g;dc++){var Yb=
0<ia.length&&!Ka&&tb+dc>=y.length;Ka=Ka||Yb;rb.push(Ea().createElement(Xk,{key:dc},Ea().createElement(Qe,{elements:y[tb+dc],pendingElements:Yb?ia:void 0,onRemoveFromLibrary:B.bind(null,tb+dc),onClick:Yb?M.bind(null,ia):ba.bind(null,y[tb+dc])})))}Pa.push(Ea().createElement(Wk,{align:"center",gap:1,key:lb},rb))}return Ea().createElement(Xk,{align:"start",gap:1,className:"layer-ui__library-items"},Pa)},Xt=function(g){var y=g.onClickOutside,B=g.onInsertShape,M=g.pendingElements,ba=g.onAddToLibrary;g=
g.setAppState;var ia=(0,jc.useRef)(null);!function(rb,dc){(0,jc.useEffect)(function(){var Yb=function(zc){rb.current&&(zc.target instanceof Element&&(rb.current.contains(zc.target)||!document.body.contains(zc.target))||dc(zc))};return document.addEventListener("pointerdown",Yb,!1),function(){document.removeEventListener("pointerdown",Yb)}},[rb,dc])}(ia,function(rb){rb.target.closest(".ToolIcon_type_button__library")||y(rb)});var ya=(0,jc.useState)([]),wa=ya[0],Da=ya[1],Pa=(0,jc.useState)("preloading");
ya=Pa[0];var Ka=Pa[1],lb=(0,jc.useRef)(null);(0,jc.useEffect)(function(){return Promise.race([new Promise(function(rb){lb.current=setTimeout(function(){rb("loading")},100)}),ug.loadLibrary().then(function(rb){Da(rb);Ka("ready")})]).then(function(rb){"loading"===rb&&Ka("loading")}),function(){clearTimeout(lb.current)}},[]);Pa=(0,jc.useCallback)(function(){var rb=Pc()(function(dc){var Yb,zc;return Xr(this,function(fd){switch(fd.label){case 0:return[4,ug.loadLibrary()];case 1:return Yb=fd.sent(),zc=
Yb.filter(function(id,vd){return vd!==dc}),ug.saveLibrary(zc),Da(zc),[2]}})});return function(dc){return rb.apply(this,arguments)}}(),[]);var tb=(0,jc.useCallback)(function(){var rb=Pc()(function(dc){var Yb,zc;return Xr(this,function(fd){switch(fd.label){case 0:return[4,ug.loadLibrary()];case 1:return Yb=fd.sent(),zc=Zt(Yb,[dc]),ba(),ug.saveLibrary(zc),Da(zc),[2]}})});return function(dc){return rb.apply(this,arguments)}}(),[ba]);return"preloading"===ya?null:Ea().createElement(bl,{padding:1,ref:ia,
className:"layer-ui__library"},"loading"===ya?Ea().createElement("div",{className:"layer-ui__library-message"},eb("labels.libraryLoadingMessage")):Ea().createElement($t,{library:wa,onRemoveFromLibrary:Pa,onAddToLibrary:tb,onInsertShape:B,pendingElements:M,setAppState:g,setLibraryItems:Da}))};const Yt=Ea().memo(function(g){var y,B=g.actionManager,M=g.appState,ba=g.setAppState,ia=g.canvas,ya=g.elements,wa=g.onCollabButtonClick,Da=g.onLockToggle,Pa=g.onInsertElements,Ka=g.zenModeEnabled,lb=g.showExitZenModeBtn,
tb=g.toggleZenMode,rb=g.isCollaborating,dc=g.onExportToBackend,Yb=g.renderCustomFooter;g=g.viewModeEnabled;var zc=Ve(),fd=function(){var ke=function(Oe){return function(){var Je=Pc()(function(df,zd){return Xr(this,function(Zd){switch(Zd.label){case 0:return ia?[4,Ac(Oe,df,M,ia,{exportBackground:M.exportBackground,name:M.name,viewBackgroundColor:M.viewBackgroundColor,scale:zd,shouldAddWatermark:M.shouldAddWatermark}).catch(zk).catch(function(ie){console.error(ie);ba({errorMessage:ie.message})})]:[3,
2];case 1:Zd.sent(),Zd.label=2;case 2:return[2]}})});return function(df,zd){return Je.apply(this,arguments)}}()};return Ea().createElement(Bc,{elements:ya,appState:M,actionManager:B,onExportToPng:ke("png"),onExportToSvg:ke("svg"),onExportToClipboard:ke("clipboard"),onExportToBackend:dc?function(Oe){dc&&dc(Oe,M,ia)}:void 0})},id=(0,jc.useCallback)(function(ke){ba({isLibraryOpen:!1})},[ba]),vd=(0,jc.useCallback)(function(){ba({selectedElementIds:{},selectedGroupIds:{}})},[ba]),le=M.isLibraryOpen?Ea().createElement(Xt,
{pendingElements:uf(ya,M),onClickOutside:id,onInsertShape:Pa,onAddToLibrary:vd,setAppState:ba}):null;Pa=Ea().createElement(Ea().Fragment,null,M.isLoading&&Ea().createElement(oc,null),M.errorMessage&&Ea().createElement(T,{message:M.errorMessage,onClose:function(){return ba({errorMessage:null})}}),M.showHelpDialog&&Ea().createElement(bu,{onClose:function(){return ba({showHelpDialog:!1})}}),M.pasteDialog.shown&&Ea().createElement(Jf,{setAppState:ba,appState:M,onInsertChart:Pa,onClose:function(){return ba({pasteDialog:{shown:!1,
data:null}})}}));return zc?Ea().createElement(Ea().Fragment,null,Pa,Ea().createElement(xd,{appState:M,elements:ya,actionManager:B,libraryMenu:le,exportButton:fd(),setAppState:ba,onCollabButtonClick:wa,onLockToggle:Da,canvas:ia,isCollaborating:rb,renderCustomFooter:Yb,viewModeEnabled:g})):Ea().createElement("div",{className:mc("layer-ui__wrapper",{"disable-pointerEvents":M.draggingElement||M.resizingElement||M.editingElement&&!be(M.editingElement)})},Pa,(y=qh(M,ya),Ea().createElement(cd,{side:"top"},
Ea().createElement("div",{className:"App-menu App-menu_top"},Ea().createElement(Xk,{gap:4,className:mc({"disable-pointerEvents":Ka})},g?Ea().createElement(Ec,{heading:"canvasActions",className:mc("zen-mode-transition",{"transition-left":Ka})},Ea().createElement(bl,{padding:2,style:{zIndex:1}},Ea().createElement(Xk,{gap:4},Ea().createElement(Wk,{gap:1,justifyContent:"space-between"},B.renderAction("saveScene"),B.renderAction("saveAsScene"),fd())))):Ea().createElement(Ec,{heading:"canvasActions",className:mc("zen-mode-transition",
{"transition-left":Ka})},Ea().createElement(bl,{padding:2,style:{zIndex:1}},Ea().createElement(Xk,{gap:4},Ea().createElement(Wk,{gap:1,justifyContent:"space-between"},B.renderAction("loadScene"),B.renderAction("saveScene"),B.renderAction("saveAsScene"),fd(),B.renderAction("clearCanvas"),wa&&Ea().createElement(Zq,{isCollaborating:rb,collaboratorCount:M.collaborators.size,onClick:wa})),Ea().createElement(Xq,{actionManager:B,appState:M,setAppState:ba})))),y&&Ea().createElement(Ec,{heading:"selectedShapeActions",
className:mc("zen-mode-transition",{"transition-left":Ka})},Ea().createElement(bl,{className:hc.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(M.height-200,"px")}},Ea().createElement(Yq,{appState:M,elements:ya,renderAction:B.renderAction,elementType:M.elementType})))),!g&&Ea().createElement(Ec,{heading:"shapes"},function(ke){return Ea().createElement(Xk,{gap:4,align:"start"},Ea().createElement(Wk,{gap:1},Ea().createElement(bl,{padding:1,className:mc({"zen-mode":Ka})},Ea().createElement(zf,
{appState:M,elements:ya}),ke,Ea().createElement(Wk,{gap:1},Ea().createElement(gq,{canvas:ia,elementType:M.elementType,setAppState:ba,isLibraryOpen:M.isLibraryOpen}))),Ea().createElement(Qc,{zenModeEnabled:Ka,checked:M.elementLocked,onChange:Da,title:eb("toolBar.lock")})),le)}),Ea().createElement(Oc,{className:mc("zen-mode-transition",{"transition-right":Ka})},0<M.collaborators.size&&Array.from(M.collaborators).filter(function(ke){ke[0];return 0!==Object.keys(ke[1]).length}).map(function(ke){var Oe=
ke[0];ke=ke[1];return Ea().createElement(Ej,{label:ke.username||"Unknown user",key:Oe},B.renderAction("goToCollaborator",Oe))}))))),Ea().createElement("div",{className:mc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Ka})},Ea().createElement(Xk,{gap:2},Ea().createElement(Ec,{heading:"canvasActions"},Ea().createElement(bl,{padding:1},Ea().createElement(Sr,{renderAction:B.renderAction,zoom:M.zoom})),Ea().createElement("a",{className:mc("encrypted-icon tooltip zen-mode-visibility",
{"zen-mode-visibility--hidden":Ka}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},Ea().createElement(Ej,{label:eb("encrypted.tooltip"),position:"above",long:!0},Vd))))),Ea().createElement("aside",{className:mc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ka})},Ea().createElement(re,{appearance:M.appearance})),Ea().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},Ea().createElement("div",
{className:mc("zen-mode-transition",{"transition-right disable-pointerEvents":Ka})},null==Yb?void 0:Yb(!1),B.renderAction("toggleShortcuts")),Ea().createElement("button",{className:mc("disable-zen-mode",{"disable-zen-mode--visible":lb}),onClick:tb},eb("buttons.exitZenMode"))),M.scrolledOutside&&Ea().createElement("button",{className:"scroll-back-to-content",onClick:function(){ba(function(ke){for(var Oe=1;Oe<arguments.length;Oe++){var Je=null!=arguments[Oe]?arguments[Oe]:{};Oe%2?lf(Object(Je),!0).forEach(function(df){pd()(ke,
df,Je[df])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(Je)):lf(Object(Je)).forEach(function(df){Object.defineProperty(ke,df,Object.getOwnPropertyDescriptor(Je,df))})}return ke}({},ki(ya,M)))}},eb("buttons.scrollBackToContent")))},function(g,y){var B=function(ia){ia.suggestedBindings;ia.startBoundElement;return Uh()(ia,["suggestedBindings","startBoundElement"])},M=B(g.appState),ba=B(y.appState);B=Object.keys(M);return g.renderCustomFooter===y.renderCustomFooter&&
g.langCode===y.langCode&&g.elements===y.elements&&B.every(function(ia){return M[ia]===ba[ia]})});var Rs=function(){try{var g=localStorage.getItem("excalidraw");return g?JSON.stringify(g).length:0}catch(y){return console.error(y),0}},cu=(e(7287),function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;
switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;default:if(!(ia=wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();
wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];return ia[1]},trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya}),Ss=ri(function(g){var y=Rs();try{var B=localStorage.getItem("excalidraw-state"),M=localStorage.getItem("excalidraw-collab"),ba=
localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY);var ia=(B?JSON.stringify(B).length:0)+(M?JSON.stringify(M).length:0)+(ba?JSON.stringify(ba).length:0)+Rs()}catch(ya){ia=(console.error(ya),0)}g({scene:y,total:ia})},500),eu=function(g){var y=Ve(),B=(0,jc.useState)({scene:0,total:0}),M=B[0],ba=B[1];(0,jc.useEffect)(function(){Ss(function(Pa){ba(Pa)})});(0,jc.useEffect)(function(){return function(){return Ss.cancel()}},[]);B=Cg(g.elements);var ia=fk(g.elements,g.appState),ya=Cg(ia);if(y&&g.appState.openMenu)return null;
var wa,Da;y=Lf();return y!==hc.eQ?(Da=y.slice(0,16).replace("T"," "),wa=y.slice(21)):Da=eb("stats.versionNotAvailable"),Ea().createElement("div",{className:"Stats"},Ea().createElement(bl,{padding:2},Ea().createElement("div",{className:"close",onClick:g.onClose},sj),Ea().createElement("h3",null,eb("stats.title")),Ea().createElement("table",null,Ea().createElement("tbody",null,Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.scene"))),Ea().createElement("tr",null,Ea().createElement("td",
null,eb("stats.elements")),Ea().createElement("td",null,g.elements.length)),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.width")),Ea().createElement("td",null,Math.round(B[2])-Math.round(B[0]))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.height")),Ea().createElement("td",null,Math.round(B[3])-Math.round(B[1]))),Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.storage"))),Ea().createElement("tr",null,Ea().createElement("td",
null,eb("stats.scene")),Ea().createElement("td",null,rl(M.scene,1))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.total")),Ea().createElement("td",null,rl(M.total,1))),1===ia.length&&Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.element"))),1<ia.length&&Ea().createElement(Ea().Fragment,null,Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.selected"))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.elements")),
Ea().createElement("td",null,ia.length))),0<ia.length&&Ea().createElement(Ea().Fragment,null,Ea().createElement("tr",null,Ea().createElement("td",null,"x"),Ea().createElement("td",null,Math.round(1===ia.length?ia[0].x:ya[0]))),Ea().createElement("tr",null,Ea().createElement("td",null,"y"),Ea().createElement("td",null,Math.round(1===ia.length?ia[0].y:ya[1]))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.width")),Ea().createElement("td",null,Math.round(1===ia.length?ia[0].width:
ya[2]-ya[0]))),Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.height")),Ea().createElement("td",null,Math.round(1===ia.length?ia[0].height:ya[3]-ya[1])))),1===ia.length&&Ea().createElement("tr",null,Ea().createElement("td",null,eb("stats.angle")),Ea().createElement("td",null,"".concat(Math.round(180*ia[0].angle/Math.PI),"°"))),Ea().createElement("tr",null,Ea().createElement("th",{colSpan:2},eb("stats.version"))),Ea().createElement("tr",null,Ea().createElement("td",{colSpan:2,
style:{textAlign:"center",cursor:"pointer"},onClick:Pc()(function(){return cu(this,function(Pa){switch(Pa.label){case 0:return Pa.trys.push([0,2,,3]),[4,Dh(Lf())];case 1:return Pa.sent(),g.setAppState({toastMessage:eb("toast.copyToClipboard")}),[3,3];case 2:return Pa.sent(),[3,3];case 3:return[2]}})}),title:eb("stats.versionCopy")},Da,Ea().createElement("br",null),wa))))))},fu=(e(5849),function(g){var y=g.message,B=g.clearToast,M=(0,jc.useRef)(0),ba=(0,jc.useCallback)(function(){return M.current=
window.setTimeout(function(){return B()},hc.Lg)},[B]);return(0,jc.useEffect)(function(){return ba(),function(){return clearTimeout(M.current)}},[ba,y]),Ea().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==M?void 0:M.current)},onMouseLeave:ba},Ea().createElement("p",{className:"Toast__message"},y))}),Ts=ne({name:"viewMode",perform:function(g,y){return Tg("view","mode","view"),{appState:Xf(Xf({},y),{},{viewModeEnabled:!this.checked(y),selectedElementIds:{}}),
commitToHistory:!1}},checked:function(g){return g.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(g){return!g[bf]&&g.altKey&&"KeyR"===g.code}}),gu=function(){var g=function(y,B){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,ba){M.__proto__=ba}||function(M,ba){for(var ia in ba)Object.prototype.hasOwnProperty.call(ba,ia)&&(M[ia]=ba[ia])})(y,B)};return function(y,B){function M(){this.constructor=y}g(y,B);y.prototype=null===B?Object.create(B):(M.prototype=
B.prototype,new M)}}(),dp=function(g,y){function B(Da){return function(Pa){return function(Ka){if(M)throw new TypeError("Generator is already executing.");for(;wa;)try{if(M=1,ba&&(ia=2&Ka[0]?ba.return:Ka[0]?ba.throw||((ia=ba.return)&&ia.call(ba),0):ba.next)&&!(ia=ia.call(ba,Ka[1])).done)return ia;switch(ba=0,ia&&(Ka=[2&Ka[0],ia.value]),Ka[0]){case 0:case 1:ia=Ka;break;case 4:return wa.label++,{value:Ka[1],done:!1};case 5:wa.label++;ba=Ka[1];Ka=[0];continue;case 7:Ka=wa.ops.pop();wa.trys.pop();continue;
default:if(!(ia=wa.trys,(ia=0<ia.length&&ia[ia.length-1])||6!==Ka[0]&&2!==Ka[0])){wa=0;continue}if(3===Ka[0]&&(!ia||Ka[1]>ia[0]&&Ka[1]<ia[3]))wa.label=Ka[1];else if(6===Ka[0]&&wa.label<ia[1])wa.label=ia[1],ia=Ka;else if(ia&&wa.label<ia[2])wa.label=ia[2],wa.ops.push(Ka);else{ia[2]&&wa.ops.pop();wa.trys.pop();continue}}Ka=y.call(g,wa)}catch(lb){Ka=[6,lb],ba=0}finally{M=ia=0}if(5&Ka[0])throw Ka[1];return{value:Ka[0]?Ka[1]:void 0,done:!0}}([Da,Pa])}}var M,ba,ia,ya,wa={label:0,sent:function(){if(1&ia[0])throw ia[1];
return ia[1]},trys:[],ops:[]};return ya={next:B(0),throw:B(1),return:B(2)},"function"==typeof Symbol&&(ya[Symbol.iterator]=function(){return this}),ya},Lk=function(){for(var g=0,y=0,B=arguments.length;y<B;y++)g+=arguments[y].length;g=Array(g);var M=0;for(y=0;y<B;y++)for(var ba=arguments[y],ia=0,ya=ba.length;ia<ya;ia++,M++)g[M]=ba[ia];return g},ik=new kq,wq=!1,Zr=0,Jp=0,Kp=0,ep=!1,xq=!1,$r=!1,Yr={horizontal:null,vertical:null},eo=0,lq=!1,fo=null,vl=new Map,wp=null,ar=null,zp=null,Wr=function(g){function y(B){var M=
this;var ba=M=g.call(this,B)||this;Ut.call(M);var ia,ya,wa,Da=Ch(),Pa=B.width,Ka=void 0===Pa?window.innerWidth:Pa;Pa=B.height;var lb=void 0===Pa?window.innerHeight:Pa,tb=B.offsetLeft,rb=B.offsetTop;Pa=B.excalidrawRef;var dc=B.viewModeEnabled;dc=void 0!==dc&&dc;var Yb=B.zenModeEnabled;Yb=void 0!==Yb&&Yb;B=B.gridModeEnabled;B=void 0!==B&&B;if(M.state=Va(Va(Va({},Da),{},{isLoading:!0,width:Ka,height:lb},M.getCanvasOffsets({offsetLeft:tb,offsetTop:rb})),{},{viewModeEnabled:dc,zenModeEnabled:Yb,gridSize:B?
hc.k:null}),Pa){var zc;Da="current"in Pa&&(null===(zc=Pa.current)||void 0===zc?void 0:zc.readyPromise)||((wa=new Promise(function(fd,id){ia=fd;ya=id})).resolve=ia,wa.reject=ya,wa);wa={ready:!0,readyPromise:Da,updateScene:M.updateScene,resetScene:M.resetScene,getSceneElementsIncludingDeleted:M.getSceneElementsIncludingDeleted,history:{clear:M.resetHistory},setScrollToCenter:M.setScrollToCenter,getSceneElements:M.getSceneElements,getAppState:function(){return ba.state}};"function"==typeof Pa?Pa(wa):
Pa.current=wa;Da.resolve(wa)}return M.scene=new xh,M.actionManager=new sm(M.syncActionResult,function(){return ba.state},function(){return ba.scene.getElementsIncludingDeleted()},M),M.actionManager.registerAll(jg),M.actionManager.registerAction({name:"undo",perform:function(fd,id){return rp(fd,id,function(){return ik.undoOnce()})},keyTest:function(fd){return fd[bf]&&"z"===fd.key.toLowerCase()&&!fd.shiftKey},PanelComponent:function(fd){fd=fd.updateData;return Ea().createElement(gf,{type:"button",icon:lh,
"aria-label":eb("buttons.undo"),onClick:fd})},commitToHistory:function(){return!1}}),M.actionManager.registerAction(function(fd){return{name:"redo",perform:function(id,vd){return rp(id,vd,function(){return fd.redoOnce()})},keyTest:function(id){return id[bf]&&id.shiftKey&&"z"===id.key.toLowerCase()||Hj&&id.ctrlKey&&!id.shiftKey&&"y"===id.key},PanelComponent:function(id){id=id.updateData;return Ea().createElement(gf,{type:"button",icon:Dj,"aria-label":eb("buttons.redo"),onClick:id})},commitToHistory:function(){return!1}}}(ik)),
M}return gu(y,g),y.prototype.renderCanvas=function(){var B=window.devicePixelRatio,M=this.state,ba=M.width,ia=M.height,ya=ba*B;B*=ia;return M.viewModeEnabled?Ea().createElement("canvas",{id:"canvas",style:{width:ba,height:ia,cursor:"grabbing"},width:ya,height:B,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},
eb("labels.drawingCanvas")):Ea().createElement("canvas",{id:"canvas",style:{width:ba,height:ia},width:ya,height:B,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},eb("labels.drawingCanvas"))},y.prototype.render=function(){var B,
M=this,ba=this.state,ia=ba.zenModeEnabled,ya=ba.width,wa=ba.height;ba=ba.viewModeEnabled;var Da=this.props,Pa=Da.onCollabButtonClick,Ka=Da.onExportToBackend;Da=Da.renderFooter;var lb=ya/2,tb=wa/2;return Ea().createElement("div",{className:mc("excalidraw",{"excalidraw--view-mode":ba}),ref:this.excalidrawContainerRef,style:{width:ya,height:wa}},Ea().createElement(Yt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),
onCollabButtonClick:Pa,onLockToggle:this.toggleLock,onInsertElements:function(rb){return M.addElementsFromPasteOrLibrary(rb,lb,tb)},zenModeEnabled:ia,toggleZenMode:this.toggleZenMode,langCode:ua.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ka,renderCustomFooter:Da,viewModeEnabled:ba,showExitZenModeBtn:void 0===(null===(B=this.props)||void 0===B?void 0:B.zenModeEnabled)&&ia}),Ea().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&Ea().createElement(eu,
{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&Ea().createElement(fu,{message:this.state.toastMessage,clearToast:this.clearToast}),Ea().createElement("main",null,this.renderCanvas()))},y.prototype.componentDidMount=function(){var B=this;return Pc()(function(){return dp(this,function(M){return"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(B.setState.bind(B),Object.defineProperties(window.h,
{state:{configurable:!0,get:function(){return B.state}},setState:{configurable:!0,value:function(){for(var ba=[],ia=0;ia<arguments.length;ia++)ba[ia]=arguments[ia];return B.setState.apply(B,ba)}},app:{configurable:!0,value:B}})),B.scene.addCallback(B.onSceneUpdated),B.addEventListeners(),"number"==typeof B.props.offsetLeft&&"number"==typeof B.props.offsetTop?B.initializeScene():B.setState(B.getCanvasOffsets(B.props),function(){B.initializeScene()}),[2]})})()},y.prototype.componentWillUnmount=function(){this.unmounted=
!0;this.removeEventListeners();this.scene.destroy();clearTimeout(eo);eo=0},y.prototype.removeEventListeners=function(){document.removeEventListener(hc.Ks.COPY,this.onCopy);document.removeEventListener(hc.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(hc.Ks.CUT,this.onCut);document.removeEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(hc.Ks.KEYUP,this.onKeyUp);window.removeEventListener(hc.Ks.RESIZE,
this.onResize,!1);window.removeEventListener(hc.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(hc.Ks.BLUR,this.onBlur,!1);window.removeEventListener(hc.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(hc.Ks.DROP,this.disableEvent,!1);document.removeEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1)},y.prototype.addEventListeners=
function(){var B,M;this.removeEventListeners();document.addEventListener(hc.Ks.COPY,this.onCopy);document.addEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(hc.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(B=document.fonts)||void 0===B||null===(M=B.addEventListener)||void 0===M||M.call(B,"loadingdone",this.onFontLoaded);document.addEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(hc.Ks.GESTURE_CHANGE,
this.onGestureChange,!1);document.addEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(hc.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(hc.Ks.CUT,this.onCut),document.addEventListener(hc.Ks.SCROLL,this.onScroll),window.addEventListener(hc.Ks.RESIZE,this.onResize,!1),window.addEventListener(hc.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(hc.Ks.BLUR,this.onBlur,!1),window.addEventListener(hc.Ks.DRAG_OVER,this.disableEvent,
!1),window.addEventListener(hc.Ks.DROP,this.disableEvent,!1))},y.prototype.componentDidUpdate=function(B,M){var ba,ia,ya,wa,Da=this;(B.langCode!==this.props.langCode&&this.updateLanguage(),B.width!==this.props.width||B.height!==this.props.height||"number"==typeof this.props.offsetLeft&&B.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&B.offsetTop!==this.props.offsetTop)&&this.setState(Va({width:null!==(ya=this.props.width)&&void 0!==ya?ya:window.innerWidth,height:null!==
(wa=this.props.height)&&void 0!==wa?wa:window.innerHeight},this.getCanvasOffsets(this.props)));B.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners);M.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();B.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});B.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?
hc.k:null});null===(ba=document.querySelector(".excalidraw"))||void 0===ba||ba.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Da.actionManager.executeAction(Mf)});B=M.multiElement;M.elementType!==this.state.elementType&&null!=B&&this.state.isBindingEnabled&&og(B)&&ek(B,this.state,this.scene,Eg(dg.getPointAtIndexGlobalCoordinates(B,-1)));var Pa={},Ka=
{},lb={},tb={},rb={};this.state.collaborators.forEach(function(zc,fd){if(zc.selectedElementIds)for(var id=0,vd=Object.keys(zc.selectedElementIds);id<vd.length;id++){var le=vd[id];le in lb||(lb[le]=[]);lb[le].push(fd)}zc.pointer&&(zc.username&&(tb[fd]=zc.username),zc.userState&&(rb[fd]=zc.userState),Ka[fd]=mh({sceneX:zc.pointer.x,sceneY:zc.pointer.y},Da.state),Pa[fd]=zc.button)});M=this.scene.getElements();ba=cn(M.filter(function(zc){return!Da.state.editingElement||"text"!==Da.state.editingElement.type||
zc.id!==Da.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ka,remotePointerButton:Pa,remoteSelectedElementIds:lb,remotePointerUsernames:tb,remotePointerUserStates:rb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!xg().matches});B=ba.atLeastOneVisibleElement;
(ba=ba.scrollBars)&&(Yr=ba);var dc,Yb;M="text"!==(null===(ia=this.state.editingElement)||void 0===ia?void 0:ia.type)&&!B&&0<M.length;(this.state.scrolledOutside!==M&&this.setState({scrolledOutside:M}),ik.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(dc=(Yb=this.props).onChange)||void 0===dc||dc.call(Yb,this.scene.getElementsIncludingDeleted(),this.state)},y.resetTapTwice=function(){wq=!1},y.prototype.addTextFromPaste=function(B){var M,ba=vg({clientX:Jp,
clientY:Kp},this.state);B=Ij({x:ba.x,y:ba.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:B,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,
textAlign:this.state.currentItemTextAlign,verticalAlign:hc.hs});this.scene.replaceAllElements(Lk(this.scene.getElementsIncludingDeleted(),[B]));this.setState({selectedElementIds:(M={},M[B.id]=!0,M)});ik.resumeRecording()},y.prototype.selectShapeTool=function(B){var M;ep||si(this.canvas,B);(M=document.activeElement)instanceof HTMLElement&&M.className.includes("ToolIcon")&&document.activeElement.blur();ej(B)||this.setState({suggestedBindings:[]});"selection"!==B?this.setState({elementType:B,selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:B})},y.prototype.handleTextWysiwyg=function(B,M){M=M.isExistingElement;var ba=void 0!==M&&M,ia=this,ya=function(wa,Da){void 0===Da&&(Da=!1);ia.scene.replaceAllElements(Lk(ia.scene.getElementsIncludingDeleted().map(function(Pa){if(Pa.id===B.id&&be(Pa)){var Ka=Da;Ka={text:wa,isDeleted:null!=Ka?Ka:Pa.isDeleted};var lb=Ui(wa,Ti(Pa));var tb=lb.width;var rb=lb.height;lb=lb.baseline;var dc=Pa.textAlign;var Yb=Pa.verticalAlign;if("center"===
dc&&"middle"===Yb)dc=Ui(Pa.text,Ti(Pa)),Yb=Wh(Pa,{width:tb-dc.width,height:rb-dc.height}),dc=Pa.x-Yb.x,Yb=Pa.y-Yb.y;else{var zc=ig(Pa);Yb=zc[0];var fd=zc[1],id=zc[2];zc=zc[3];var vd=Qg(Pa,tb,rb);dc=(Yb=Zf({s:!0,e:"center"===dc||"left"===dc,w:"center"===dc||"right"===dc},Pa.x,Pa.y,Pa.angle,(Yb-vd[0])/2,(fd-vd[1])/2,(id-vd[2])/2,(zc-vd[3])/2))[0];Yb=Yb[1]}tb={width:tb,height:rb,x:Number.isFinite(dc)?dc:Pa.x,y:Number.isFinite(Yb)?Yb:Pa.y,baseline:lb};Pa=zg(Pa,Ha(Ka,tb))}return Pa})))};!function(wa){var Da=
wa.id,Pa=wa.appState,Ka=wa.onChange,lb=wa.onSubmit,tb=wa.getViewportCoords,rb=wa.element;wa=wa.canvas;var dc=function(){var Je,df=null===(Je=xh.getScene(rb))||void 0===Je?void 0:Je.getElement(Da);if(df&&be(df)){Je=tb(df.x,df.y);var zd=Je[0],Zd=Je[1];Je=df.textAlign;var ie=df.angle;Yb.value=df.text;var $e=df.text.replace(/\r\n?/g,"\n").split("\n"),Eh=df.height/$e.length;$e=Object;var fi=$e.assign,zj=Yb.style,aj=Ti(df);Eh="".concat(Eh,"px");var Ul="".concat(df.width,"px"),nn="".concat(df.height,"px");
zd="".concat(zd,"px");Zd="".concat(Zd,"px");var em=df.height,Fn=Pa.zoom,Po=Pa.offsetTop;ie=180*ie/Math.PI;ie="translate(".concat((df.width-2*Pa.offsetLeft)*(Fn.value-1)/2,"px, ").concat((em-2*Po)*(Fn.value-1)/2,"px) scale(").concat(Fn.value,") rotate(").concat(ie,"deg)");fi.call($e,zj,{font:aj,lineHeight:Eh,width:Ul,height:nn,left:zd,top:Zd,transform:ie,textAlign:Je,color:df.strokeColor,opacity:df.opacity/100,filter:"var(--appearance-filter)"})}},Yb=document.createElement("textarea");Yb.dir="auto";
Yb.tabIndex=0;Yb.dataset.type="wysiwyg";Yb.wrap="off";Object.assign(Yb.style,{position:"fixed",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});dc();Ka&&(Yb.oninput=function(){Ka(ml(Yb.value))});Yb.onkeydown=function(Je){"Escape"===Je.key?(Je.preventDefault(),fd()):"Enter"===Je.key&&Je[bf]?(Je.preventDefault(),Je.isComposing||229===Je.keyCode)||
fd():"Enter"!==Je.key||Je.altKey||Je.stopPropagation()};var zc=function(Je){Je.preventDefault();Je.stopPropagation()},fd=function(){lb(ml(Yb.value));ke||(ke=!0,Yb.onblur=null,Yb.oninput=null,Yb.onkeydown=null,Oe&&Oe.disconnect(),window.removeEventListener("resize",dc),window.removeEventListener("wheel",zc,!0),window.removeEventListener("pointerdown",vd),window.removeEventListener("pointerup",id),window.removeEventListener("blur",fd),le(),Yb.remove())},id=function(){window.removeEventListener("pointerup",
id);setTimeout(function(){Yb.onblur=fd;Yb.focus()})},vd=function(Je){Je.target instanceof HTMLElement&&Je.target.closest(".".concat(hc.$C.SHAPE_ACTIONS_MENU))&&!Dg(Je.target)&&(Yb.onblur=null,window.addEventListener("pointerup",id),window.addEventListener("blur",fd))},le=xh.getScene(rb).addCallback(function(){dc();Yb.focus()}),ke=!1;Yb.onblur=fd;var Oe=null;wa&&"ResizeObserver"in window?(Oe=new window.ResizeObserver(function(){dc()})).observe(wa):window.addEventListener("resize",dc);window.addEventListener("pointerdown",
vd);window.addEventListener("wheel",zc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Yb);Yb.focus();Yb.select()}({id:B.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(wa,Da){wa=mh({sceneX:wa,sceneY:Da},ia.state);return[wa.x,wa.y]},onChange:bg(function(wa){ya(wa);!B.isDeleted&&yi(B)}),onSubmit:bg(function(wa){var Da=!wa.trim();ya(wa,Da);Da?qj(ia.scene.getElements(),[B]):ia.setState(function(Pa){var Ka;return{selectedElementIds:Va(Va({},
Pa.selectedElementIds),{},(Ka={},Ka[B.id]=!0,Ka))}});Da&&!ba||ik.resumeRecording();ia.setState({draggingElement:null,editingElement:null});ia.state.elementLocked&&si(ia.canvas,ia.state.elementType)}),element:B});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});ya(B.text)},y.prototype.getTextElementAtPosition=function(B,M){return(B=this.getElementAtPosition(B,M))&&be(B)&&!B.isDeleted?B:null},y.prototype.getElementAtPosition=function(B,M){var ba=this.getElementsAtPosition(B,
M);if(1<ba.length){var ia=ba[ba.length-1];return Ek(ia,this.state,B,M)?ba[ba.length-2]:ia}return 1===ba.length?ba[0]:null},y.prototype.getElementsAtPosition=function(B,M){var ba,ia,ya=this;return ba=this.scene.getElements(),ia=function(wa){var Da=ya.state,Pa=10/Da.zoom.value,Ka=[B,M];return Da.selectedElementIds[wa.id]?Pl(wa,Ka,Pa):ak(wa,Da,Ka)},ba.filter(function(wa){return!wa.isDeleted&&ia(wa)})},y.prototype.maybeCleanupAfterMissingPointerUp=function(B){null!==fo&&fo(B)},y.prototype.updateGestureOnPointerDown=
function(B){vl.set(B.pointerId,{x:B.clientX,y:B.clientY});2===vl.size&&(wp=Pm(vl),zp=this.state.zoom.value,ar=ao(Array.from(vl.values())))},y.prototype.initialPointerDownState=function(B){var M=vg(B,this.state),ba=uf(this.scene.getElements(),this.state),ia=Cg(ba),ya=ia[0],wa=ia[1],Da=ia[2];ia=ia[3];return{origin:M,originInGrid:Eg(pi(M.x,M.y,this.state.gridSize)),scrollbars:ii(Yr,B.clientX-this.state.offsetLeft,B.clientY-this.state.offsetTop),lastCoords:Va({},M),originalElements:this.scene.getElements().reduce(function(Pa,
Ka){return Pa.set(Ka.id,Jj(Ka)),Pa},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Da+ya)/2,y:(ia+wa)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(M,ba)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},y.prototype.handleDraggingScrollBar=function(B,M){var ba=this;if(!M.scrollbars.isOverEither||
this.state.multiElement)return!1;$r=!0;M.lastCoords.x=B.clientX;M.lastCoords.y=B.clientY;var ia=bg(function(wa){wa.target instanceof HTMLElement&&ba.handlePointerMoveOverScrollbars(wa,M)}),ya=bg(function(){$r=!1;si(ba.canvas,ba.state.elementType);fo=null;ba.setState({cursorButton:"up"});ba.savePointer(B.clientX,B.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,ia);window.removeEventListener(hc.Ks.POINTER_UP,ya)});return fo=ya,window.addEventListener(hc.Ks.POINTER_MOVE,ia),window.addEventListener(hc.Ks.POINTER_UP,
ya),!0},y.prototype.isASelectedElement=function(B){return null!=B&&this.state.selectedElementIds[B.id]},y.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(B,M){if(2>M.length)return!1;var ba=10/this.state.zoom.value;M=Cg(M);var ia=M[1],ya=M[2],wa=M[3];return B.x>M[0]-ba&&B.x<ya+ba&&B.y>ia-ba&&B.y<wa+ba},y.prototype.onKeyDownFromPointerDownHandler=function(B){var M=this;return bg(function(ba){M.maybeHandleResize(B,ba)||M.maybeDragNewGenericElement(B,ba)})},y.prototype.onKeyUpFromPointerDownHandler=
function(B){var M=this;return bg(function(ba){"Alt"===ba.key&&ba.preventDefault();M.maybeHandleResize(B,ba)||M.maybeDragNewGenericElement(B,ba)})},y.prototype.onPointerMoveFromPointerDownHandler=function(B){var M=this;return bg(function(ba){if(null===B.drag.offset&&(B.drag.offset=Eg(function(id,vd,le){id=Cg(id);return[vd-id[0],le-id[1]]}(uf(M.scene.getElements(),M.state),B.origin.x,B.origin.y))),ba.target instanceof HTMLElement&&!M.handlePointerMoveOverScrollbars(ba,B)){var ia=vg(ba,M.state),ya=pi(ia.x,
ia.y,M.state.gridSize),wa=ya[0];ya=ya[1];if(B.drag.hasOccurred||"arrow"!==M.state.elementType&&"line"!==M.state.elementType||!(Math.hypot(B.origin.x-ia.x,B.origin.y-ia.y)<hc.f)){if(B.resize.isResizing&&(B.lastCoords.x=ia.x,B.lastCoords.y=ia.y,M.maybeHandleResize(B,ba)))return!0;if(M.state.editingLinearElement&&dg.handlePointDragging(M.state,function(id){return M.setState(id)},ia.x,ia.y,function(id,vd){M.maybeSuggestBindingForLinearElementAtCursor(id,vd,ia)}))return B.lastCoords.x=ia.x,void(B.lastCoords.y=
ia.y);if(B.hit.allHitElements.some(function(id){return M.isASelectedElement(id)})||B.hit.hasHitCommonBoundingBoxOfSelectedElements){B.drag.hasOccurred=!0;var Da=uf(M.scene.getElements(),M.state);if(0<Da.length){wa=pi(ia.x-B.drag.offset.x,ia.y-B.drag.offset.y,M.state.gridSize);var Pa=wa[0];wa=wa[1];ya=[Math.abs(ia.x-B.origin.x),Math.abs(ia.y-B.origin.y)];if(function(id,vd,le,ke,Oe,Je,df,zd){void 0===Je&&(Je=!1);void 0===df&&(df=0);void 0===zd&&(zd=0);Oe=Cg(vd);var Zd=le-Oe[0],ie=ke-Oe[1];vd.forEach(function($e){if(Je){var Eh=
Je&&df<zd;var fi=Je&&df>zd;var zj=id.originalElements.get($e.id);Eh=Eh&&zj?zj.x:$e.x+Zd;fi=fi&&zj?zj.y:$e.y+ie}else Eh=$e.x+Zd,fi=$e.y+ie;jf($e,{x:Eh,y:fi});yi($e,{simultaneouslyUpdated:vd})})}(B,Da,Pa,wa,M.scene,ba.shiftKey,ya[0],ya[1]),M.maybeSuggestBindingForAll(Da),ba.altKey&&!B.hit.hasBeenDuplicated){B.hit.hasBeenDuplicated=!0;Da=[];ba=[];var Ka=new Map;ya=new Map;for(var lb=B.hit.element,tb=0,rb=M.scene.getElementsIncludingDeleted();tb<rb.length;tb++){var dc=rb[tb];if(M.state.selectedElementIds[dc.id]||
dc.id===(null==lb?void 0:lb.id)&&B.hit.wasAddedToSelection){var Yb=Wi(M.state.editingGroupId,Ka,dc),zc=pi(B.origin.x-B.drag.offset.x,B.origin.y-B.drag.offset.y,M.state.gridSize);jf(Yb,{x:Yb.x+(zc[0]-Pa),y:Yb.y+(zc[1]-wa)});Da.push(Yb);ba.push(dc);ya.set(dc.id,Yb.id)}else Da.push(dc)}Pa=Lk(Da,ba);Rj(Pa,ba,ya,"duplicatesServeAsOld");M.scene.replaceAllElements(Pa)}return}}if(Da=M.state.draggingElement)if(Gg(Da)?(B.drag.hasOccurred=!0,Ka=Da.points,tb=lb=void 0,"draw"===Da.type?(lb=ia.x-Da.x,tb=ia.y-Da.y):
(lb=wa-Da.x,tb=ya-Da.y),ba.shiftKey&&2===Ka.length&&(lb=(Pa=Ye(M.state.elementType,lb,tb)).width,tb=Pa.height),1===Ka.length?jf(Da,{points:Lk(Ka,[[lb,tb]])}):1<Ka.length&&("draw"===Da.type?jf(Da,{points:E(Lk(Ka,[[lb,tb]]),.7/M.state.zoom.value)}):jf(Da,{points:Lk(Ka.slice(0,-1),[[lb,tb]])})),og(Da)&&M.maybeSuggestBindingForLinearElementAtCursor(Da,"end",ia,M.state.startBoundElement)):(B.lastCoords.x=ia.x,B.lastCoords.y=ia.y,M.maybeDragNewGenericElement(B,ba)),"selection"===M.state.elementType){Pa=
M.scene.getElements();!ba.shiftKey&&kg(Pa,M.state)&&M.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var fd=function(id,vd){vd=ig(vd);var le=vd[0],ke=vd[1],Oe=vd[2],Je=vd[3];return id.filter(function(df){var zd=qi(df),Zd=zd[0],ie=zd[1],$e=zd[2];zd=zd[3];return"selection"!==df.type&&le<=Zd&&ke<=ie&&Oe>=$e&&Je>=zd})}(Pa,Da);M.setState(function(id){return Vh(Va(Va({},id),{},{selectedElementIds:Va(Va({},id.selectedElementIds),fd.reduce(function(vd,le){return vd[le.id]=!0,vd},
{}))}),M.scene.getElements())})}}}})},y.prototype.handlePointerMoveOverScrollbars=function(B,M){return M.scrollbars.isOverHorizontal?(B=B.clientX,this.setState({scrollX:this.state.scrollX-(B-M.lastCoords.x)/this.state.zoom.value}),M.lastCoords.x=B,!0):M.scrollbars.isOverVertical?(B=B.clientY,this.setState({scrollY:this.state.scrollY-(B-M.lastCoords.y)/this.state.zoom.value}),M.lastCoords.y=B,!0):!1},y.prototype.onPointerUpFromPointerDownHandler=function(B){var M=this;return bg(function(ba){var ia=
M.state,ya=ia.draggingElement,wa=ia.resizingElement,Da=ia.multiElement,Pa=ia.elementType,Ka=ia.elementLocked,lb=ia.isResizing;ia=ia.isRotating;if(M.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Da||be(M.state.editingElement)?M.state.editingElement:null}),M.savePointer(ba.clientX,ba.clientY,"up"),M.state.editingLinearElement){var tb=dg.handlePointerUp(ba,M.state.editingLinearElement,M.state);tb!==M.state.editingLinearElement&&M.setState({editingLinearElement:tb,
suggestedBindings:[]})}if(fo=null,window.removeEventListener(hc.Ks.POINTER_MOVE,B.eventListeners.onMove),window.removeEventListener(hc.Ks.POINTER_UP,B.eventListeners.onUp),window.removeEventListener(hc.Ks.KEYDOWN,B.eventListeners.onKeyDown),window.removeEventListener(hc.Ks.KEYUP,B.eventListeners.onKeyUp),"draw"!==(null==ya?void 0:ya.type))if(Gg(ya))1<ya.points.length&&ik.resumeRecording(),ba=vg(ba,M.state),B.drag.hasOccurred||!ya||Da?B.drag.hasOccurred&&!Da&&(M.state.isBindingEnabled&&og(ya)&&ek(ya,
M.state,M.scene,ba),M.setState({suggestedBindings:[],startBoundElement:null}),Ka||"draw"===Pa?M.setState(function(Yb){var zc;return{draggingElement:null,selectedElementIds:Va(Va({},Yb.selectedElementIds),{},(zc={},zc[M.state.draggingElement.id]=!0,zc))}}):(Gi(M.canvas),M.setState(function(Yb){var zc;return{draggingElement:null,elementType:"selection",selectedElementIds:Va(Va({},Yb.selectedElementIds),{},(zc={},zc[M.state.draggingElement.id]=!0,zc))}}))):(jf(ya,{points:Lk(ya.points,[[ba.x-ya.x,ba.y-
ya.y]])}),M.setState({multiElement:ya,editingElement:M.state.draggingElement}));else{if("selection"!==Pa&&ya&&Rh(ya))return M.scene.replaceAllElements(M.scene.getElementsIncludingDeleted().slice(0,-1)),void M.setState({draggingElement:null});ya&&jf(ya,Kl(ya));wa&&ik.resumeRecording();wa&&Rh(wa)&&M.scene.replaceAllElements(M.scene.getElementsIncludingDeleted().filter(function(Yb){return Yb.id!==wa.id}));var rb=B.hit.element;if(rb&&!B.drag.hasOccurred&&!B.hit.wasAddedToSelection)if(ba.shiftKey)if(M.state.selectedElementIds[rb.id])if(null!=
yh(M.state,rb)){var dc=rb.groupIds.flatMap(function(Yb){return Xj(M.scene.getElements(),Yb)}).map(function(Yb){var zc;return(zc={})[Yb.id]=!1,zc}).reduce(function(Yb,zc){return Va(Va({},Yb),zc)},{});M.setState(function(Yb){return{selectedGroupIds:Va(Va({},Yb.selectedElementIds),rb.groupIds.map(function(zc){var fd;return(fd={})[zc]=!1,fd}).reduce(function(zc,fd){return Va(Va({},zc),fd)},{})),selectedElementIds:Va(Va({},Yb.selectedElementIds),dc)}})}else M.setState(function(Yb){var zc;return{selectedElementIds:Va(Va({},
Yb.selectedElementIds),{},(zc={},zc[rb.id]=!1,zc))}});else M.setState(function(Yb){var zc;return{selectedElementIds:Va(Va({},Yb.selectedElementIds),{},(zc={},zc[rb.id]=!0,zc))}});else M.setState(function(Yb){var zc;return Va({},Vh(Va(Va({},Yb),{},{selectedElementIds:(zc={},zc[rb.id]=!0,zc)}),M.scene.getElements()))});M.state.editingLinearElement||B.drag.hasOccurred||M.state.isResizing||!(rb&&Ek(rb,M.state,B.origin.x,B.origin.y)||!rb&&B.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ka&&"draw"!==
Pa&&ya&&M.setState(function(Yb){var zc;return{selectedElementIds:Va(Va({},Yb.selectedElementIds),{},(zc={},zc[ya.id]=!0,zc))}}),("selection"!==Pa||kg(M.scene.getElements(),M.state))&&ik.resumeRecording(),(B.drag.hasOccurred||lb||ia)&&(M.state.isBindingEnabled?wg:ih)(uf(M.scene.getElements(),M.state)),Ka||"draw"===Pa?M.setState({draggingElement:null,suggestedBindings:[]}):(Gi(M.canvas),M.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):M.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null})}else M.actionManager.executeAction(Mf)})},y.prototype.maybeSuggestBindingForAll=function(B){var M;B=(M=new Set(B.map(function(ba){return ba.id})),B.flatMap(function(ba){return og(ba)?Cl(ba).filter(function(ia){return!M.has(ia.id)}):tk(ba)?rh(ba).filter(function(ia){return!M.has(ia[0].id)}):[]}));this.setState({suggestedBindings:B})},y.prototype.clearSelection=function(B){this.setState(function(M){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:M.editingGroupId&&
null!=B&&B.groupIds.includes(M.editingGroupId)?M.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},y.prototype.getTextWysiwygSnappedToCenterPosition=function(B,M,ba,ia,ya){if(ya=function(wa,Da,Pa){for(var Ka=null,lb=wa.length-1;0<=lb;--lb)if(!wa[lb].isDeleted){var tb=ig(wa[lb]),rb=tb[1],dc=tb[2],Yb=tb[3];if(tb[0]<Da&&Da<dc&&rb<Pa&&Pa<Yb){Ka=wa[lb];break}}return Ka}(this.scene.getElementsIncludingDeleted().filter(function(wa){return!be(wa)}),
B,M))if(ia=ya.x+ya.width/2,ya=ya.y+ya.height/2,Math.hypot(B-ia,M-ya)<hc.wZ)return B=mh({sceneX:ia,sceneY:ya},ba),{viewportX:B.x,viewportY:B.y,elementCenterX:ia,elementCenterY:ya}},y.prototype.getCanvasOffsets=function(B){var M,ba;return"number"==typeof(null==B?void 0:B.offsetLeft)&&"number"==typeof(null==B?void 0:B.offsetTop)?{offsetLeft:B.offsetLeft,offsetTop:B.offsetTop}:null!==(M=this.excalidrawContainerRef)&&void 0!==M&&null!==(ba=M.current)&&void 0!==ba&&ba.parentElement?(ba=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),
M=ba.left,ba=ba.top,{offsetLeft:"number"==typeof(null==B?void 0:B.offsetLeft)?B.offsetLeft:M,offsetTop:"number"==typeof(null==B?void 0:B.offsetTop)?B.offsetTop:ba}):{offsetLeft:"number"==typeof(null==B?void 0:B.offsetLeft)?B.offsetLeft:0,offsetTop:"number"==typeof(null==B?void 0:B.offsetTop)?B.offsetTop:0}},y.prototype.updateLanguage=function(){var B=this;return Pc()(function(){var M;return dp(this,function(ba){switch(ba.label){case 0:return M=fa.find(function(ia){return ia.code===B.props.langCode})||
Za,[4,gb(M)];case 1:return ba.sent(),B.setAppState({}),[2]}})})()},y}(Ea().Component);Wr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Ut=function(){var g=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=Ea().createRef();this.getSceneElementsIncludingDeleted=function(){return g.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return g.scene.getElements()};this.syncActionResult=bg(function(y){if(!g.unmounted&&!1!==y){var B=null;
if(y.elements&&(y.elements.forEach(function(Pa){var Ka;(null===(Ka=g.state.editingElement)||void 0===Ka?void 0:Ka.id)===Pa.id&&g.state.editingElement!==Pa&&!Pa.isDeleted&&(B=Pa)}),g.scene.replaceAllElements(y.elements),y.commitToHistory&&ik.resumeRecording()),y.appState||B){var M,ba,ia;y.commitToHistory&&ik.resumeRecording();var ya=(null==y||null===(M=y.appState)||void 0===M?void 0:M.viewModeEnabled)||!1,wa=(null==y||null===(ba=y.appState)||void 0===ba?void 0:ba.zenModeEnabled)||!1,Da=(null==y||null===
(ia=y.appState)||void 0===ia?void 0:ia.gridSize)||null;void 0!==g.props.viewModeEnabled&&(ya=g.props.viewModeEnabled);void 0!==g.props.zenModeEnabled&&(wa=g.props.zenModeEnabled);void 0!==g.props.gridModeEnabled&&(Da=g.props.gridModeEnabled?hc.k:null);g.setState(function(Pa){var Ka;return Va(Va({},y.appState),{},{editingElement:B||(null===(Ka=y.appState)||void 0===Ka?void 0:Ka.editingElement)||null,width:Pa.width,height:Pa.height,offsetTop:Pa.offsetTop,offsetLeft:Pa.offsetLeft,viewModeEnabled:ya,
zenModeEnabled:wa,gridSize:Da})},function(){y.syncHistory&&ik.setCurrentState(g.state,g.scene.getElementsIncludingDeleted())})}}});this.onBlur=bg(function(){ep=!1;g.setState({isBindingEnabled:!0})});this.onUnload=function(){g.onBlur()};this.disableEvent=function(y){y.preventDefault()};this.onFontLoaded=function(){g.scene.getElementsIncludingDeleted().forEach(function(y){be(y)&&ui.delete(y)});g.onSceneUpdated()};this.importLibraryFromUrl=function(){var y=Pc()(function(B){var M,ba,ia,ya,wa;return dp(this,
function(Da){switch(Da.label){case 0:window.history.replaceState({},hc.iC,window.location.origin),Da.label=1;case 1:return Da.trys.push([1,7,,8]),[4,fetch(B)];case 2:return[4,Da.sent().blob()];case 3:return M=Da.sent(),ya=(ia=JSON).parse,[4,M.text()];case 4:Da=ba=ya.apply(ia,[Da.sent()]);if("object"!=typeof Da||!Da||"excalidrawlib"!==Da.type||1!==Da.version)throw Error();return window.confirm(eb("alerts.confirmAddLibrary",{numShapes:ba.library.length}))?[4,ug.importLibrary(M)]:[3,6];case 5:Da.sent(),
g.setState({isLibraryOpen:!0}),Da.label=6;case 6:return[3,8];case 7:return wa=Da.sent(),window.alert(eb("alerts.errorLoadingLibrary")),console.error(wa),[3,8];case 8:return[2]}})});return function(B){return y.apply(this,arguments)}}();this.resetHistory=function(){ik.clear()};this.resetScene=bg(function(y){g.scene.replaceAllElements([]);g.setState(function(B){return Va(Va({},Ch()),{},{isLoading:(null==y||!y.resetLoadingState)&&B.isLoading,appearance:g.state.appearance})});g.resetHistory()});this.initializeScene=
Pc()(function(){var y,B,M,ba,ia;return dp(this,function(ya){switch(ya.label){case 0:"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var wa=Pc()(function(Da){var Pa,Ka;return dp(this,function(lb){switch(lb.label){case 0:return Da.files.length?[4,(Pa=Da.files[0]).getFile()]:[2];case 1:return(Ka=lb.sent()).handle=Pa,Nm(Ka,g.state).then(function(tb){return g.syncActionResult({elements:tb.elements,appState:Va(Va({},tb.appState||g.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(tb){g.setState({isLoading:!1,
errorMessage:tb.message})}),[2]}})});return function(Da){return wa.apply(this,arguments)}}()),g.state.isLoading||g.setState({isLoading:!0}),B=null,ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,g.props.initialData];case 2:return B=ya.sent()||null,[3,4];case 3:return M=ya.sent(),console.error(M),[3,4];case 4:return(ba=fn(B,null)).appState=Va(Va({},ba.appState),{},{isLoading:!1}),null!==(y=B)&&void 0!==y&&y.scrollToCenter&&(ba.appState=Va(Va({},ba.appState),ki(ba.elements,Va(Va({},ba.appState),
{},{width:g.state.width,height:g.state.height,offsetTop:g.state.offsetTop,offsetLeft:g.state.offsetLeft})))),g.resetHistory(),g.syncActionResult(Va(Va({},ba),{},{commitToHistory:!0})),(ia=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,g.importLibraryFromUrl(ia)]:[3,6];case 5:ya.sent(),ya.label=6;case 6:return[2]}})});this.onResize=bg(function(){g.scene.getElementsIncludingDeleted().forEach(function(y){return ui.delete(y)});g.setState({})});this.onScroll=ri(function(){var y=g.getCanvasOffsets(),
B=y.offsetTop,M=y.offsetLeft;g.setState(function(ba){return ba.offsetLeft===M&&ba.offsetTop===B?null:{offsetTop:B,offsetLeft:M}})},hc.HM);this.onCut=bg(function(y){Dg(y.target)||(g.cutAll(),y.preventDefault())});this.onCopy=bg(function(y){Dg(y.target)||(g.copyAll(),y.preventDefault())});this.cutAll=function(){g.copyAll();g.actionManager.executeAction(Sg)};this.copyAll=function(){yn(g.scene.getElements(),g.state)};this.onTapStart=function(y){if(!wq)return wq=!0,clearTimeout(Zr),void(Zr=window.setTimeout(Wr.resetTapTwice,
hc.Gj));if(wq&&1===y.touches.length){var B=y.touches[0];g.handleCanvasDoubleClick({clientX:B.clientX,clientY:B.clientY});wq=!1;clearTimeout(Zr)}y.preventDefault();2===y.touches.length&&g.setState({selectedElementIds:{}})};this.onTapEnd=function(y){y.preventDefault();0<y.touches.length&&g.setState({previousSelectedElementIds:{},selectedElementIds:g.state.previousSelectedElementIds})};this.pasteFromClipboard=bg(function(){var y=Pc()(function(B){var M,ba,ia;return dp(this,function(ya){switch(ya.label){case 0:return M=
document.activeElement,ba=document.elementFromPoint(Jp,Kp),!B||ba instanceof HTMLCanvasElement&&!Dg(M)?[4,xn(B)]:[2];case 1:return(ia=ya.sent()).errorMessage?g.setState({errorMessage:ia.errorMessage}):ia.spreadsheet?g.setState({pasteDialog:{data:ia.spreadsheet,shown:!0}}):ia.elements?g.addElementsFromPasteOrLibrary(ia.elements):ia.text&&g.addTextFromPaste(ia.text),g.selectShapeTool("selection"),null==B||B.preventDefault(),[2]}})});return function(B){return y.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=
function(y,B,M){void 0===B&&(B=Jp);void 0===M&&(M=Kp);var ba=Cg(y),ia=ba[0],ya=ba[1],wa=Math.abs(ia-ba[2])/2;ba=Math.abs(ya-ba[3])/2;B=vg({clientX:B,clientY:M},g.state);wa=B.x-wa;ba=B.y-ba;var Da=new Map;wa=pi(wa,ba,g.state.gridSize);var Pa=wa[0],Ka=wa[1],lb=new Map;wa=y.map(function(tb){var rb=Wi(g.state.editingGroupId,Da,tb,{x:tb.x+Pa-ia,y:tb.y+Ka-ya});return lb.set(tb.id,rb.id),rb});ba=Lk(g.scene.getElementsIncludingDeleted(),wa);Rj(ba,y,lb);g.scene.replaceAllElements(ba);ik.resumeRecording();
g.setState(Vh(Va(Va({},g.state),{},{isLibraryOpen:!1,selectedElementIds:wa.reduce(function(tb,rb){return tb[rb.id]=!0,tb},{}),selectedGroupIds:{}}),g.scene.getElements()))};this.setAppState=function(y){g.setState(y)};this.removePointer=function(y){"touch"===y.pointerType&&eo&&(clearTimeout(eo),eo=0,lq=!1);vl.delete(y.pointerId)};this.toggleLock=function(){g.setState(function(y){return{elementLocked:!y.elementLocked,elementType:y.elementLocked?"selection":y.elementType}})};this.toggleZenMode=function(){g.actionManager.executeAction(oe)};
this.toggleStats=function(){g.state.showStats||Tg("dialog","stats");g.actionManager.executeAction(Yn)};this.setScrollToCenter=function(y){g.setState(Va({},ki(ge(y),g.state,g.canvas)))};this.clearToast=function(){g.setState({toastMessage:null})};this.updateScene=bg(function(y){var B;y.commitToHistory&&ik.resumeRecording();null!==(B=y.appState)&&void 0!==B&&B.viewBackgroundColor&&g.setState({viewBackgroundColor:y.appState.viewBackgroundColor});y.elements&&g.scene.replaceAllElements(y.elements);y.collaborators&&
g.setState({collaborators:y.collaborators})});this.onSceneUpdated=function(){g.setState({})};this.updateCurrentCursorPosition=bg(function(y){Jp=y.x;Kp=y.y});this.onKeyDown=bg(function(y){var B;if(!(("Proxy"in window&&(!y.shiftKey&&/^[A-Z]$/.test(y.key)||y.shiftKey&&/^[a-z]$/.test(y.key))&&(y=new Proxy(y,{get:function(ya,wa){var Da=ya[wa];return"function"==typeof Da?Da.bind(ya):"key"===wa?y.shiftKey?ya.key.toUpperCase():ya.key.toLowerCase():Da}})),Dg(y.target)&&"Escape"!==y.key||yg(y.key)&&(B=y.target,
B instanceof HTMLElement&&"wysiwyg"===B.dataset.type||B instanceof HTMLBRElement||B instanceof HTMLInputElement||B instanceof HTMLTextAreaElement||B instanceof HTMLSelectElement))||("?"===y.key&&g.setState({showHelpDialog:!0}),g.actionManager.handleKeyDown(y)||g.state.viewModeEnabled))){if(y[bf]&&g.setState({isBindingEnabled:!1}),"Digit9"===y.code&&g.setState({isLibraryOpen:!g.state.isLibraryOpen}),yg(y.key)){B=g.state.gridSize&&(y.shiftKey?hc.$e:g.state.gridSize)||(y.shiftKey?hc.Iw:hc.$e);var M=
g.scene.getElements().filter(function(ya){return g.state.selectedElementIds[ya.id]}),ba=0,ia=0;"ArrowLeft"===y.key?ba=-B:"ArrowRight"===y.key?ba=B:"ArrowUp"===y.key?ia=-B:"ArrowDown"===y.key&&(ia=B);M.forEach(function(ya){jf(ya,{x:ya.x+ba,y:ya.y+ia});yi(ya,{simultaneouslyUpdated:M})});g.maybeSuggestBindingForAll(M);y.preventDefault()}else if("Enter"===y.key)if(B=uf(g.scene.getElements(),g.state),1===B.length&&Gg(B[0]))g.state.editingLinearElement&&g.state.editingLinearElement.elementId===B[0].id||
(ik.resumeRecording(),g.setState({editingLinearElement:new dg(B[0],g.scene)}));else{if(1===B.length&&!Gg(B[0]))return B=B[0],g.startTextEditing({sceneX:B.x+B.width/2,sceneY:B.y+B.height/2}),void y.preventDefault()}else y.ctrlKey||y.altKey||y.metaKey||null!==g.state.draggingElement||((B=function(ya){var wa=um.find(function(Da,Pa){return ya===(Pa+1).toString()||("string"==typeof Da.key?Da.key===ya:Da.key.includes(ya))});return(null==wa?void 0:wa.value)||null}(y.key))?g.selectShapeTool(B):"q"===y.key&&
g.toggleLock());" "===y.key&&0===vl.size&&(ep=!0,Hi(g.canvas,hc.oc.GRABBING))}});this.onKeyUp=bg(function(y){if(" "===y.key&&("selection"===g.state.elementType?Gi(g.canvas):(si(g.canvas,g.state.elementType),g.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),ep=!1),y[bf]||g.state.isBindingEnabled||g.setState({isBindingEnabled:!0}),yg(y.key))y=uf(g.scene.getElements(),g.state),g.state.isBindingEnabled?wg(y):ih(y),g.setState({suggestedBindings:[]})});this.onGestureStart=bg(function(y){y.preventDefault();
g.setState({selectedElementIds:{}});zp=g.state.zoom.value});this.onGestureChange=bg(function(y){if(y.preventDefault(),2!==vl.size){var B=zp;B&&g.setState(function(M){var ba=M.zoom,ia=M.offsetLeft;M=M.offsetTop;return{zoom:ai(Qj(B*y.scale),ba,{left:ia,top:M},{x:Jp,y:Kp})}})}});this.onGestureEnd=bg(function(y){y.preventDefault();g.setState({previousSelectedElementIds:{},selectedElementIds:g.state.previousSelectedElementIds});zp=null});this.startTextEditing=function(y){var B=y.sceneX,M=y.sceneY;y=y.insertAtParentCenter;
var ba=void 0===y||y;y=g.getTextElementAtPosition(B,M);ba=ba&&g.getTextWysiwygSnappedToCenterPosition(B,M,g.state,g.canvas,window.devicePixelRatio);B=y||Ij({x:ba?ba.elementCenterX:B,y:ba?ba.elementCenterY:M,strokeColor:g.state.currentItemStrokeColor,backgroundColor:g.state.currentItemBackgroundColor,fillStyle:g.state.currentItemFillStyle,strokeWidth:g.state.currentItemStrokeWidth,strokeStyle:g.state.currentItemStrokeStyle,roughness:g.state.currentItemRoughness,opacity:g.state.currentItemOpacity,strokeSharpness:g.state.currentItemStrokeSharpness,
text:"",fontSize:g.state.currentItemFontSize,fontFamily:g.state.currentItemFontFamily,textAlign:ba?"center":g.state.currentItemTextAlign,verticalAlign:ba?"middle":hc.hs});g.setState({editingElement:B});y?ba&&"center"===B.textAlign||jf(B,{verticalAlign:hc.hs}):(g.scene.replaceAllElements(Lk(g.scene.getElementsIncludingDeleted(),[B])),ba||jf(B,{y:B.y-B.baseline/2}));g.setState({editingElement:B});g.handleTextWysiwyg(B,{isExistingElement:!!y})};this.handleCanvasDoubleClick=function(y){if(!g.state.multiElement&&
"selection"===g.state.elementType){var B=uf(g.scene.getElements(),g.state);if(1===B.length&&Gg(B[0]))g.state.editingLinearElement&&g.state.editingLinearElement.elementId===B[0].id||(ik.resumeRecording(),g.setState({editingLinearElement:new dg(B[0],g.scene)}));else{Gi(g.canvas);var M=vg(y,g.state);B=M.x;M=M.y;if(0<Ji(g.state).length){var ba=g.getElementAtPosition(B,M),ia=ba&&function(ya,wa){return ya.groupIds.find(function(Da){return wa[Da]})}(ba,g.state.selectedGroupIds);if(ia)return void g.setState(function(ya){var wa;
return Vh(Va(Va({},ya),{},{editingGroupId:ia,selectedElementIds:(wa={},wa[ba.id]=!0,wa),selectedGroupIds:{}}),g.scene.getElements())})}Gi(g.canvas);y[bf]||g.startTextEditing({sceneX:B,sceneY:M,insertAtParentCenter:!y.altKey})}}};this.handleCanvasPointerMove=function(y){g.savePointer(y.clientX,y.clientY,g.state.cursorButton);vl.has(y.pointerId)&&vl.set(y.pointerId,{x:y.clientX,y:y.clientY});var B=zp;if(2===vl.size&&wp&&B&&ar){var M=Pm(vl),ba=M.x-wp.x,ia=M.y-wp.y;wp=M;var ya=ao(Array.from(vl.values()))/
ar;g.setState(function(dc){var Yb=dc.zoom,zc=dc.offsetLeft,fd=dc.offsetTop;return{scrollX:dc.scrollX+ba/Yb.value,scrollY:dc.scrollY+ia/Yb.value,zoom:ai(Qj(B*ya),Yb,{left:zc,top:fd},M),shouldCacheIgnoreZoom:!0}});g.resetShouldCacheIgnoreZoomDebounced()}else wp=ar=zp=null;if(!(ep||xq||$r)){var wa=ii(Yr,y.clientX-g.state.offsetLeft,y.clientY-g.state.offsetTop).isOverEither;g.state.draggingElement||g.state.multiElement||(wa?Gi(g.canvas):si(g.canvas,g.state.elementType));var Da=vg(y,g.state),Pa=Da.x,Ka=
Da.y;if(g.state.editingLinearElement&&!g.state.editingLinearElement.isDragging){var lb=dg.handlePointerMove(y,Pa,Ka,g.state.editingLinearElement,g.state.gridSize);lb!==g.state.editingLinearElement&&g.setState({editingLinearElement:lb});null!=lb.lastUncommittedPoint?g.maybeSuggestBindingAtCursor(Da):g.setState({suggestedBindings:[]})}"arrow"===g.state.elementType&&(lb=g.state.draggingElement,og(lb)?g.maybeSuggestBindingForLinearElementAtCursor(lb,"end",Da,g.state.startBoundElement):g.maybeSuggestBindingAtCursor(Da));
if(g.state.multiElement){wa=g.state.multiElement;Da=wa.x;lb=wa.y;y=wa.points;var tb=wa.lastCommittedPoint,rb=y[y.length-1];return si(g.canvas,g.state.elementType),void(rb===tb?Math.hypot(rb[0]-(Pa-Da),rb[1]-(Ka-lb))>=hc.qx?jf(wa,{points:Lk(y,[[Pa-Da,Ka-lb]])}):Hi(g.canvas,hc.oc.POINTER):2<y.length&&tb&&Math.hypot(tb[0]-(Pa-Da),tb[1]-(Ka-lb))<hc.qx?(Hi(g.canvas,hc.oc.POINTER),jf(wa,{points:y.slice(0,-1)})):(bi(y,g.state.zoom.value)&&Hi(g.canvas,hc.oc.POINTER),jf(wa,{points:Lk(y.slice(0,-1),[[Pa-Da,
Ka-lb]])})))}if(!(y.buttons||"selection"!==g.state.elementType&&"text"!==g.state.elementType)){tb=g.scene.getElements();lb=uf(tb,g.state);if(1!==lb.length||wa||g.state.editingLinearElement){if(1<lb.length&&!wa&&(Pa=of(Cg(lb),Pa,Ka,g.state.zoom,y.pointerType)))return void Hi(g.canvas,Ie({transformHandleType:Pa}))}else if((Pa=Mi(tb,g.state,Pa,Ka,g.state.zoom,y.pointerType))&&Pa.transformHandleType)return void Hi(g.canvas,Ie(Pa));Pa=g.getElementAtPosition(Da.x,Da.y);"text"===g.state.elementType?Hi(g.canvas,
be(Pa)?hc.oc.TEXT:hc.oc.CROSSHAIR):wa?Hi(g.canvas,hc.oc.AUTO):Pa||g.isHittingCommonBoundingBoxOfSelectedElements(Da,lb)?Hi(g.canvas,hc.oc.MOVE):Hi(g.canvas,hc.oc.AUTO)}}};this.handleTouchMove=function(y){lq=!0};this.handleCanvasPointerDown=function(y){if(y.persist(),g.maybeOpenContextMenuAfterPointerDownOnTouchDevices(y),g.maybeCleanupAfterMissingPointerUp(y),!(xq||(g.setState({lastPointerDownWith:y.pointerType,cursorButton:"down"}),g.savePointer(y.clientX,y.clientY,"down"),g.handleCanvasPanUsingWheelOrSpaceDrag(y)||
y.button!==hc.Oh.MAIN&&y.button!==hc.Oh.TOUCH||(g.updateGestureOnPointerDown(y),y.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<vl.size)))){var B=g.initialPointerDownState(y);if(!g.handleDraggingScrollBar(y,B)&&(g.clearSelectionIfNotUsingSelection(),g.updateBindingEnabledOnPointerMove(y),!g.handleSelectionOnPointerDown(y,B)))if("text"!==g.state.elementType){"arrow"===g.state.elementType||"draw"===g.state.elementType||"line"===g.state.elementType?g.handleLinearElementOnPointerDown(y,
g.state.elementType,B):g.createGenericElementOnPointerDown(g.state.elementType,B);y=g.onPointerMoveFromPointerDownHandler(B);var M=g.onPointerUpFromPointerDownHandler(B),ba=g.onKeyDownFromPointerDownHandler(B),ia=g.onKeyUpFromPointerDownHandler(B);fo=M;g.state.viewModeEnabled||(window.addEventListener(hc.Ks.POINTER_MOVE,y),window.addEventListener(hc.Ks.POINTER_UP,M),window.addEventListener(hc.Ks.KEYDOWN,ba),window.addEventListener(hc.Ks.KEYUP,ia),B.eventListeners.onMove=y,B.eventListeners.onUp=M,
B.eventListeners.onKeyUp=ia,B.eventListeners.onKeyDown=ba)}else g.handleTextOnPointerDown(y,B)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(y){"touch"===y.pointerType&&(lq=!1,eo?lq=!0:eo=window.setTimeout(function(){eo=0;lq||g.openContextMenu({clientX:y.clientX,clientY:y.clientY})},hc.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(y){if(0!==vl.size||!(y.button===hc.Oh.WHEEL||y.button===hc.Oh.MAIN&&ep||g.state.viewModeEnabled))return!1;xq=!0;var B=!1,M=/Linux/.test(window.navigator.platform);
Hi(g.canvas,hc.oc.GRABBING);var ba=y.clientX,ia=y.clientY,ya=bg(function(Da){var Pa=ba-Da.clientX,Ka=ia-Da.clientY;if(ba=Da.clientX,ia=Da.clientY,M&&!B&&(1<Math.abs(Pa)||1<Math.abs(Ka))){B=!0;var lb=function(rb){document.body.removeEventListener(hc.Ks.PASTE,lb);rb.stopPropagation()},tb=function(){setTimeout(function(){document.body.removeEventListener(hc.Ks.PASTE,lb);window.removeEventListener(hc.Ks.POINTER_UP,tb)},100)};document.body.addEventListener(hc.Ks.PASTE,lb);window.addEventListener(hc.Ks.POINTER_UP,
tb)}g.setState({scrollX:g.state.scrollX-Pa/g.state.zoom.value,scrollY:g.state.scrollY-Ka/g.state.zoom.value})}),wa=bg(fo=function(){fo=null;xq=!1;ep||si(g.canvas,g.state.elementType);g.setState({cursorButton:"up"});g.savePointer(y.clientX,y.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,ya);window.removeEventListener(hc.Ks.POINTER_UP,wa);window.removeEventListener(hc.Ks.BLUR,wa)});return window.addEventListener(hc.Ks.BLUR,wa),window.addEventListener(hc.Ks.POINTER_MOVE,ya,{passive:!0}),
window.addEventListener(hc.Ks.POINTER_UP,wa),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==g.state.elementType&&g.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(y,B){if("selection"===g.state.elementType){var M=g.scene.getElements(),ba=uf(M,g.state);1!==ba.length||g.state.editingLinearElement?1<ba.length&&(B.resize.handleType=of(Cg(ba),B.origin.x,B.origin.y,g.state.zoom,y.pointerType)):(M=Mi(M,g.state,B.origin.x,
B.origin.y,g.state.zoom,y.pointerType),null!=M&&(g.setState({resizingElement:M.element}),B.resize.handleType=M.transformHandleType));if(B.resize.handleType)Hi(g.canvas,Ie({transformHandleType:B.resize.handleType})),B.resize.isResizing=!0,B.resize.offset=Eg(function(tb,rb,dc,Yb){var zc,fd=1===rb.length?ig(rb[0]):Cg(rb),id=fd[0],vd=fd[1],le=fd[2];fd=fd[3];rb=1===rb.length?rb[0].angle:0;switch(dc=(zc=Hf(dc,Yb,(id+le)/2,(vd+fd)/2,-rb))[0],Yb=zc[1],tb){case "n":return Hf(dc-(id+le)/2,Yb-vd,0,0,rb);case "s":return Hf(dc-
(id+le)/2,Yb-fd,0,0,rb);case "w":return Hf(dc-id,Yb-(vd+fd)/2,0,0,rb);case "e":return Hf(dc-le,Yb-(vd+fd)/2,0,0,rb);case "nw":return Hf(dc-id,Yb-vd,0,0,rb);case "ne":return Hf(dc-le,Yb-vd,0,0,rb);case "sw":return Hf(dc-id,Yb-fd,0,0,rb);case "se":return Hf(dc-le,Yb-fd,0,0,rb);default:return[0,0]}}(B.resize.handleType,ba,B.origin.x,B.origin.y)),1===ba.length&&Gg(ba[0])&&2===ba[0].points.length&&(B.resize.arrowDirection=(wa=B.resize.handleType,Da=ba[0],Pa=Da.points[1],Ka=Pa[0],lb=Pa[1],"nw"===wa&&(0>
Ka||0>lb)||"ne"===wa&&0<=Ka||"sw"===wa&&0>=Ka||"se"===wa&&(0<Ka||0<lb)?"end":"origin"));else{var ia;if(g.state.editingLinearElement&&(ba=dg.handlePointerDown(y,g.state,function(tb){return g.setState(tb)},ik,B.origin),ba.hitElement&&(B.hit.element=ba.hitElement),ba.didAddPoint))return!0;B.hit.element=null!==(ia=B.hit.element)&&void 0!==ia?ia:g.getElementAtPosition(B.origin.x,B.origin.y);B.hit.allHitElements=g.getElementsAtPosition(B.origin.x,B.origin.y);var ya=B.hit.element;ia=B.hit.allHitElements.some(function(tb){return g.isASelectedElement(tb)});
if(null!==ya&&ia||y.shiftKey||B.hit.hasHitCommonBoundingBoxOfSelectedElements||g.clearSelection(ya),null!=ya){if(y[bf])return g.setState(function(tb){var rb;tb=cb(cb({},tb),{},{editingGroupId:ya.groupIds.length?ya.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(rb={},rb[ya.id]=!0,rb)});return Va(Va({},tb),{},{previousSelectedElementIds:g.state.selectedElementIds})}),!1;g.state.selectedElementIds[ya.id]||(g.state.editingGroupId&&!ya.groupIds.includes(g.state.editingGroupId)&&g.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null}),ia||B.hit.hasHitCommonBoundingBoxOfSelectedElements||(g.setState(function(tb){var rb;return Vh(Va(Va({},tb),{},{selectedElementIds:Va(Va({},tb.selectedElementIds),{},(rb={},rb[ya.id]=!0,rb))}),g.scene.getElements())}),B.hit.wasAddedToSelection=!0))}g.setState({previousSelectedElementIds:g.state.selectedElementIds})}}var wa,Da,Pa,Ka,lb;return!1};this.handleTextOnPointerDown=function(y,B){var M;"text"!==(null===(M=g.state.editingElement)||void 0===M?void 0:
M.type)&&(g.startTextEditing({sceneX:B.origin.x,sceneY:B.origin.y,insertAtParentCenter:!y.altKey}),Gi(g.canvas),g.state.elementLocked||g.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(y,B,M){if(g.state.multiElement){var ba=g.state.multiElement;if("line"===ba.type&&bi(ba.points,g.state.zoom.value))return jf(ba,{lastCommittedPoint:ba.points[ba.points.length-1]}),void g.actionManager.executeAction(Mf);B=ba.x;y=ba.y;var ia=ba.lastCommittedPoint;if(1<ba.points.length&&
ia&&Math.hypot(ia[0]-(M.origin.x-B),ia[1]-(M.origin.y-y))<hc.qx)return void g.actionManager.executeAction(Mf);g.setState(function(Da){var Pa;return{selectedElementIds:Va(Va({},Da.selectedElementIds),{},(Pa={},Pa[ba.id]=!0,Pa))}});jf(ba,{lastCommittedPoint:ba.points[ba.points.length-1]});Hi(g.canvas,hc.oc.POINTER)}else{y=pi(M.origin.x,M.origin.y,"draw"===B?null:g.state.gridSize);var ya=g.state;ia=ya.currentItemStartArrowhead;ya=ya.currentItemEndArrowhead;ia="arrow"===B?[ia,ya]:[null,null];var wa=Te({type:B,
x:y[0],y:y[1],strokeColor:g.state.currentItemStrokeColor,backgroundColor:g.state.currentItemBackgroundColor,fillStyle:g.state.currentItemFillStyle,strokeWidth:g.state.currentItemStrokeWidth,strokeStyle:g.state.currentItemStrokeStyle,roughness:g.state.currentItemRoughness,opacity:g.state.currentItemOpacity,strokeSharpness:g.state.currentItemLinearStrokeSharpness,startArrowhead:ia[0],endArrowhead:ia[1]});g.setState(function(Da){var Pa;return{selectedElementIds:Va(Va({},Da.selectedElementIds),{},(Pa=
{},Pa[wa.id]=!1,Pa))}});jf(wa,{points:Lk(wa.points,[[0,0]])});M=$h(M.origin,g.scene);g.scene.replaceAllElements(Lk(g.scene.getElementsIncludingDeleted(),[wa]));g.setState({draggingElement:wa,editingElement:wa,startBoundElement:M,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(y,B){B=pi(B.origin.x,B.origin.y,g.state.gridSize);y=Ml({type:y,x:B[0],y:B[1],strokeColor:g.state.currentItemStrokeColor,backgroundColor:g.state.currentItemBackgroundColor,fillStyle:g.state.currentItemFillStyle,
strokeWidth:g.state.currentItemStrokeWidth,strokeStyle:g.state.currentItemStrokeStyle,roughness:g.state.currentItemRoughness,opacity:g.state.currentItemOpacity,strokeSharpness:g.state.currentItemStrokeSharpness});"selection"===y.type?g.setState({selectionElement:y,draggingElement:y}):(g.scene.replaceAllElements(Lk(g.scene.getElementsIncludingDeleted(),[y])),g.setState({multiElement:null,draggingElement:y,editingElement:y}))};this.updateBindingEnabledOnPointerMove=function(y){y=!y[bf];g.state.isBindingEnabled!==
y&&g.setState({isBindingEnabled:y})};this.maybeSuggestBindingAtCursor=function(y){y=$h(y,g.scene);g.setState({suggestedBindings:null!=y?[y]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(y,B,M,ba){B=$h(M,g.scene);g.setState({suggestedBindings:null==B||(null==ba?void 0:ba.id)===B.id&&3>y.points.length?[]:[B]})};this.handleCanvasRef=function(y){var B,M,ba;null!==y?(g.canvas=y,g.rc=Qh.canvas(g.canvas),g.canvas.addEventListener(hc.Ks.WHEEL,g.handleWheel,{passive:!1}),g.canvas.addEventListener(hc.Ks.TOUCH_START,
g.onTapStart),g.canvas.addEventListener(hc.Ks.TOUCH_END,g.onTapEnd)):(null===(B=g.canvas)||void 0===B||B.removeEventListener(hc.Ks.WHEEL,g.handleWheel),null===(M=g.canvas)||void 0===M||M.removeEventListener(hc.Ks.TOUCH_START,g.onTapStart),null===(ba=g.canvas)||void 0===ba||ba.removeEventListener(hc.Ks.TOUCH_END,g.onTapEnd))};this.handleCanvasOnDrop=function(){var y=Pc()(function(B){var M,ba,ia,ya,wa,Da,Pa,Ka,lb,tb,rb;return dp(this,function(dc){switch(dc.label){case 0:return dc.trys.push([0,3,,4]),
"image/png"!==(null==(ba=B.dataTransfer.files[0])?void 0:ba.type)&&"image/svg+xml"!==(null==ba?void 0:ba.type)?[3,2]:[4,Nm(ba,g.state)];case 1:return ia=dc.sent(),ya=ia.elements,wa=ia.appState,g.syncActionResult({elements:ya,appState:Va(Va({},wa||g.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Da=dc.sent(),[2,g.setState({isLoading:!1,errorMessage:Da.message})];case 4:if(""!==(Pa=B.dataTransfer.getData(hc.LO.excalidrawlib)))return g.addElementsFromPasteOrLibrary(JSON.parse(Pa),
B.clientX,B.clientY),[2];if(!("application/json"===(null==(Ka=null===(M=B.dataTransfer)||void 0===M?void 0:M.files[0])?void 0:Ka.type)||null!=Ka&&Ka.name.endsWith(".excalidraw")))return[3,9];if(g.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];dc.label=5;case 5:return dc.trys.push([5,7,,8]),lb=B.dataTransfer.items[0],tb=Ka,[4,lb.getAsFileSystemHandle()];case 6:return tb.handle=dc.sent(),[3,8];case 7:return rb=dc.sent(),console.warn(rb.name,
rb.message),[3,8];case 8:return Nm(Ka,g.state).then(function(Yb){return g.syncActionResult({elements:Yb.elements,appState:Va(Va({},Yb.appState||g.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Yb){g.setState({isLoading:!1,errorMessage:Yb.message})}),[3,10];case 9:(null==Ka?void 0:Ka.type)===hc.LO.excalidrawlib||null!=Ka&&Ka.name.endsWith(".excalidrawlib")?ug.importLibrary(Ka).then(function(){g.setState({isLibraryOpen:!1})}).catch(function(Yb){return g.setState({isLoading:!1,errorMessage:Yb.message})}):
g.setState({isLoading:!1,errorMessage:eb("alerts.couldNotLoadInvalidFile")}),dc.label=10;case 10:return[2]}})});return function(B){return y.apply(this,arguments)}}();this.handleCanvasContextMenu=function(y){y.preventDefault();g.openContextMenu(y)};this.maybeDragNewGenericElement=function(y,B){var M=g.state.draggingElement,ba=y.lastCoords;if(M)if("selection"===M.type)ji(M,g.state.elementType,y.origin.x,y.origin.y,ba.x,ba.y,Math.abs(y.origin.x-ba.x),Math.abs(y.origin.y-ba.y),B.shiftKey,B.altKey);else{var ia=
pi(ba.x,ba.y,g.state.gridSize);ba=ia[0];ia=ia[1];ji(M,g.state.elementType,y.originInGrid.x,y.originInGrid.y,ba,ia,Math.abs(y.originInGrid.x-ba),Math.abs(y.originInGrid.y-ia),B.shiftKey,B.altKey);g.maybeSuggestBindingForAll([M])}};this.maybeHandleResize=function(y,B){var M=uf(g.scene.getElements(),g.state),ba=y.resize.handleType;g.setState({isResizing:ba&&"rotation"!==ba,isRotating:"rotation"===ba});var ia=y.lastCoords;ia=pi(ia.x-y.resize.offset.x,ia.y-y.resize.offset.y,g.state.gridSize);a:{var ya=
y.resize.arrowDirection,wa=B.shiftKey,Da=B.altKey;B=B.shiftKey;var Pa=ia[0],Ka=ia[1];ia=y.resize.center.x;var lb=y.resize.center.y;if(1===M.length){ia=M[0];if("rotation"===ba)ba=ig(ia),ba=5*Math.PI/2+Math.atan2(Ka-(ba[1]+ba[3])/2,Pa-(ba[0]+ba[2])/2),wa&&(ba+=hc.ay/2,ba-=ba%hc.ay),ba=Qf(ba),jf(ia,{angle:ba}),yi(ia);else if(!Gg(ia)||2!==ia.points.length||"nw"!==ba&&"ne"!==ba&&"sw"!==ba&&"se"!==ba)if(!be(ia)||"nw"!==ba&&"ne"!==ba&&"sw"!==ba&&"se"!==ba){if(ba){ya=y.originalElements.get(ia.id);var tb=
Qg(ya,ya.width,ya.height);wa=[tb[0],tb[1]];y=[tb[2],tb[3]];tb=[(wa[0]+y[0])/2,(wa[1]+y[1])/2];lb=fj([Pa,Ka],tb,-ya.angle);Pa=Qg(ia,ia.width,ia.height);var rb=Pa[2]-Pa[0],dc=Pa[3]-Pa[1];Pa=(y[0]-wa[0])/rb;Ka=(y[1]-wa[1])/dc;ba.includes("e")&&(Pa=(lb[0]-wa[0])/rb);ba.includes("s")&&(Ka=(lb[1]-wa[1])/dc);ba.includes("w")&&(Pa=(y[0]-lb[0])/rb);ba.includes("n")&&(Ka=(y[1]-lb[1])/dc);lb=ya.width;rb=ya.height;Pa*=ia.width;Ka*=ia.height;if(Da&&(Pa=2*Pa-lb,Ka=2*Ka-rb),B){dc=Math.abs(Pa)/lb;var Yb=Math.abs(Ka)/
rb;if(1===ba.length&&(Ka*=dc,Pa*=Yb),2===ba.length)dc=Math.max(dc,Yb),Pa=lb*dc*Math.sign(Pa),Ka=rb*dc*Math.sign(Ka)}Yb=Qg(ya,Pa,Ka);lb=Yb[0];rb=Yb[1];dc=Yb[2]-lb;Yb=Yb[3]-rb;var zc=rj(wa);if(["n","w","nw"].includes(ba)&&(zc=[y[0]-Math.abs(dc),y[1]-Math.abs(Yb)]),"ne"===ba)zc=[wa[0],y[1]],zc=[zc[0],zc[1]-Math.abs(Yb)];"sw"===ba&&(wa=[y[0],wa[1]],zc=[wa[0]-Math.abs(dc),wa[1]]);B&&(["s","n"].includes(ba)&&(zc[0]=tb[0]-dc/2),["e","w"].includes(ba)&&(zc[1]=tb[1]-Yb/2));0>Pa&&(ba.includes("e")&&(zc[0]-=
Math.abs(dc)),ba.includes("w")&&(zc[0]+=Math.abs(dc)));0>Ka&&(ba.includes("s")&&(zc[1]-=Math.abs(Yb)),ba.includes("n")&&(zc[1]+=Math.abs(Yb)));Da&&(zc[0]=tb[0]-Math.abs(dc)/2,zc[1]=tb[1]-Math.abs(Yb)/2);ba=ya.angle;Da=fj(zc,tb,ba);B=fj([zc[0]+Math.abs(dc)/2,zc[1]+Math.abs(Yb)/2],tb,ba);zc=fj(Da,B,-ba);ba=kf(ya,Pa,Ka);Da=rj(zc);Da[0]+=ya.x-lb;Da[1]+=ya.y-rb;ba=Hc({width:Math.abs(Pa),height:Math.abs(Ka),x:Da[0],y:Da[1]},ba);0!==ba.width&&0!==ba.height&&Number.isFinite(ba.x)&&Number.isFinite(ba.y)&&
(yi(ia,{newSize:{width:ba.width,height:ba.height}}),jf(ia,ba))}}else{ya=ig(ia);y=ya[0];wa=ya[1];B=ya[2];ya=ya[3];Ka=Hf(Pa,Ka,(y+B)/2,(wa+ya)/2,-ia.angle);Pa=Ka[0];Ka=Ka[1];switch(ba){case "se":tb=Math.max((Pa-y)/(B-y),(Ka-wa)/(ya-wa));break;case "nw":tb=Math.max((B-Pa)/(B-y),(ya-Ka)/(ya-wa));break;case "ne":tb=Math.max((Pa-y)/(B-y),(ya-Ka)/(ya-wa));break;case "sw":tb=Math.max((B-Pa)/(B-y),(Ka-wa)/(ya-wa))}0<tb&&(Pa=ia.width*tb,tb*=ia.height,Ka=Og(ia,Pa,tb),null!==Ka&&(lb=Qg(ia,Pa,tb),y=(y-lb[0])/
2,wa=(wa-lb[1])/2,B=(B-lb[2])/2,ya=(ya-lb[3])/2,ba={n:/^(n|ne|nw)$/.test(ba)||Da&&/^(s|se|sw)$/.test(ba),s:/^(s|se|sw)$/.test(ba)||Da&&/^(n|ne|nw)$/.test(ba),w:/^(w|nw|sw)$/.test(ba)||Da&&/^(e|ne|se)$/.test(ba),e:/^(e|ne|se)$/.test(ba)||Da&&/^(w|nw|sw)$/.test(ba)},ba=Zf(ba,ia.x,ia.y,ia.angle,y,wa,B,ya),jf(ia,{fontSize:Ka.size,width:Pa,height:tb,baseline:Ka.baseline,x:ba[0],y:ba[1]})));yi(ia)}else ba=ig(ia),Da=Hf(Pa,Ka,(ba[0]+ba[2])/2,(ba[1]+ba[3])/2,-ia.angle),ba=Da[0],Da=Da[1],Da="end"===ya?[ba-
ia.x,Da-ia.y]:[ia.x+ia.points[1][0]-ba,ia.y+ia.points[1][1]-Da],ba=Da[0],Da=Da[1],wa&&(B=ia.angle,ba=Ye.apply(void 0,rj([ia.type],Hf(ba,Da,0,0,B))),Da=Hf(ba.width,ba.height,0,0,-B),ba=Da[0],Da=Da[1]),B=Zf("end"===ya?{s:!0,e:!0}:{n:!0,w:!0},ia.x,ia.y,ia.angle,0,0,(ia.points[1][0]-ba)/2,(ia.points[1][1]-Da)/2),jf(ia,{x:B[0],y:B[1],points:[[0,0],[ba,Da]]});ia=!0}else{if(1<M.length){if("rotation"===ba){ia=(ll(y,M,Pa,Ka,wa,ia,lb),!0);break a}if("nw"===ba||"ne"===ba||"sw"===ba||"se"===ba){ia=(Dl(M,ba,Pa,
Ka),!0);break a}}ia=!1}}return!!ia&&(g.maybeSuggestBindingForAll(M),!0)};this.openContextMenu=function(y){var B,M=y.clientX;y=y.clientY;var ba=vg({clientX:M,clientY:y},g.state),ia=ba.x,ya=ba.y,wa=cg.contextItemPredicate(g.actionManager.getElementsIncludingDeleted(),g.actionManager.getAppState()),Da=wi.contextItemPredicate(g.actionManager.getElementsIncludingDeleted(),g.actionManager.getAppState());ba=xg().matches;var Pa=g.scene.getElements();ia=g.getElementAtPosition(ia,ya);ya=[];(Km&&0<Pa.length&&
ya.push(sp),Jm&&0<Pa.length&&ya.push(tp),ia)?(g.state.selectedElementIds[ia.id]||g.setState({selectedElementIds:(B={},B[ia.id]=!0,B)}),g.state.viewModeEnabled?An({options:Lk([navigator.clipboard&&hn],ya),top:y,left:M,actionManager:g.actionManager,appState:g.state}):An({options:Lk([ba&&iq,ba&&navigator.clipboard&&hn,ba&&navigator.clipboard&&{name:"paste",perform:function(Ka,lb){return g.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},ba&&"separator"],ya,["separator",
qf,hf,"separator",wa&&cg,Da&&wi,(wa||Da)&&"separator",No,"separator",ym,pl,w,I,"separator",qa,Sg]),top:y,left:M,actionManager:g.actionManager,appState:g.state})):(B=Lk(ya,[void 0===g.props.gridModeEnabled&&qp,void 0===g.props.zenModeEnabled&&oe,void 0===g.props.viewModeEnabled&&Ts,Yn]),(An({options:B,top:y,left:M,actionManager:g.actionManager,appState:g.state}),g.state.viewModeEnabled)||An({options:[ba&&navigator.clipboard&&{name:"paste",perform:function(Ka,lb){return g.pasteFromClipboard(null),{commitToHistory:!1}},
contextItemLabel:"labels.paste"},ba&&navigator.clipboard&&"separator",Km&&0<Pa.length&&sp,Jm&&0<Pa.length&&tp,(Km&&0<Pa.length||Jm&&0<Pa.length)&&"separator",ja,"separator",void 0===g.props.gridModeEnabled&&qp,void 0===g.props.zenModeEnabled&&oe,void 0===g.props.viewModeEnabled&&Ts,Yn],top:y,left:M,actionManager:g.actionManager,appState:g.state}))};this.handleWheel=bg(function(y){if(y.preventDefault(),!xq){var B=y.deltaX,M=y.deltaY,ba=g.state,ia=ba.selectedElementIds,ya=ba.previousSelectedElementIds;
if(y.metaKey||y.ctrlKey){y=Math.sign(M);ba=Math.abs(M);10<ba&&(ba=10);ba*=y;0!==Object.keys(ya).length&&setTimeout(function(){g.setState({selectedElementIds:ya,previousSelectedElementIds:{}})},1E3);var wa=g.state.zoom.value-ba/100;return wa+=Math.log10(Math.max(1,g.state.zoom.value))*-y,wa=Math.round(wa*hc.V4*100)/(100*hc.V4),g.setState(function(Da){var Pa=Da.zoom,Ka=Da.offsetLeft;Da=Da.offsetTop;return{zoom:ai(Qj(wa),Pa,{left:Ka,top:Da},{x:Jp,y:Kp}),selectedElementIds:{},previousSelectedElementIds:0!==
Object.keys(ia).length?ia:ya,shouldCacheIgnoreZoom:!0}}),void g.resetShouldCacheIgnoreZoomDebounced()}y.shiftKey?g.setState(function(Da){return{scrollX:Da.scrollX-(M||B)/Da.zoom.value}}):g.setState(function(Da){var Pa=Da.zoom;return{scrollX:Da.scrollX-B/Pa.value,scrollY:Da.scrollY-M/Pa.value}})}});this.savePointer=function(y,B,M){var ba,ia;y&&B&&(y=vg({clientX:y,clientY:B},g.state),isNaN(y.x)||isNaN(y.y),null===(ba=(ia=g.props).onPointerUpdate)||void 0===ba||ba.call(ia,{pointer:y,button:M,pointersMap:vl}))};
this.resetShouldCacheIgnoreZoomDebounced=ri(function(){g.unmounted||g.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(g){return this.app.scene.replaceAllElements(g)}},history:{configurable:!0,get:function(){return ik}},library:{configurable:!0,value:ug}}));e(8234);e(4651);var Qs=
function(g){var y=g.width,B=g.height,M=g.offsetLeft,ba=g.offsetTop,ia=g.onChange,ya=g.initialData,wa=g.excalidrawRef,Da=g.onCollabButtonClick,Pa=g.isCollaborating,Ka=g.onPointerUpdate,lb=g.onExportToBackend,tb=g.renderFooter,rb=g.langCode;rb=void 0===rb?Za.code:rb;var dc=g.viewModeEnabled,Yb=g.zenModeEnabled;g=g.gridModeEnabled;return(0,jc.useEffect)(function(){var zc=function(fd){"number"==typeof fd.scale&&1!==fd.scale&&fd.preventDefault()};return document.addEventListener("touchmove",zc,{passive:!1}),
function(){document.removeEventListener("touchmove",zc)}},[]),Ea().createElement(se,{langCode:rb},Ea().createElement(mg,null,Ea().createElement(Wr,{width:y,height:B,offsetLeft:M,offsetTop:ba,onChange:ia,initialData:ya,excalidrawRef:wa,onCollabButtonClick:Da,isCollaborating:Pa,onPointerUpdate:Ka,onExportToBackend:lb,renderFooter:tb,langCode:rb,viewModeEnabled:dc,zenModeEnabled:Yb,gridModeEnabled:g})))};Qs.defaultProps={lanCode:Za.code};var Vt=(0,jc.forwardRef)(function(g,y){return Ea().createElement(Qs,
kb()({},g,{excalidrawRef:y}))});const Wt=Ea().memo(Vt,function(g,y){g.initialData;var B=sc()(g,["initialData"]),M=(y.initialData,sc()(y,["initialData"]));g=Object.keys(g);y=Object.keys(y);return g.length===y.length&&g.every(function(ba){return B[ba]===M[ba]})});e(6009);const du=Wt},4698:u=>{u.exports=v},6207:u=>{u.exports=l}},a={};return h.m=q,h.n=u=>{var m=u&&u.__esModule?()=>u.default:()=>u;return h.d(m,{a:m}),m},d=Object.getPrototypeOf?u=>Object.getPrototypeOf(u):u=>u.__proto__,h.t=function(u,
m){if((1&m&&(u=this(u)),8&m)||"object"==typeof u&&u&&(4&m&&u.__esModule||16&m&&"function"==typeof u.then))return u;var e=Object.create(null);h.r(e);var r={};f=f||[null,d({}),d([]),d(d)];for(m=2&m&&u;"object"==typeof m&&!~f.indexOf(m);m=d(m))Object.getOwnPropertyNames(m).forEach(z=>r[z]=()=>u[z]);return r.default=()=>u,h.d(e,r),e},h.d=(u,m)=>{for(var e in m)h.o(m,e)&&!h.o(u,e)&&Object.defineProperty(u,e,{enumerable:!0,get:m[e]})},h.f={},h.e=u=>Promise.all(Object.keys(h.f).reduce((m,e)=>(h.f[e](u,m),
m),[])),h.u=u=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",
491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[u]+"-"+{9:"4c2d5c85067885b645af",43:"25b9d373be7998ec8292",60:"b1be5a5efcc755c07d59",62:"73f897900f59b18297f8",137:"5405a70006ac91601a5c",149:"6dd9b7298afdffcf91ef",164:"0e0d76b0ec51eec085f9",196:"08b07d372c3d3c8a012c",
213:"34f56d7f1f2f80889a14",242:"5c814bfe8c8afece2196",246:"0156721cbd6f7f7d53c0",262:"6bcb0fc5bb372765fcc4",280:"533afc0d50cc43daa571",304:"6e008d0de37586fe3be9",317:"1ef86d5f25e74cdc8c07",351:"9d87e847bedbcf7eeb2e",364:"36f93b4d67d8f8b386c4",381:"e6484705437c57afd8ba",384:"86c2a2dcf09266c579cb",401:"fc289748fac9d3515954",465:"0098334cb9a435eb74eb",472:"c3caff3c25c838cabb4e",491:"a963182dae0376271aea",526:"dff5b4d6bcb5f52ae5b8",558:"f279c4a807586879abec",565:"d5128dd436bf3fbea3e2",583:"16a0f6cb353a26ac3bb3",
661:"b63671a66b4f486a152c",698:"ce2f80ea5452829415f2",710:"c91b47131199307f68bf",736:"b4c65010480c4491af72",752:"cdaca327e54ab136970b",852:"4b867ec2769274f799f2",869:"d5fa851675c0a792d0f1",920:"f33e34b9500103bb0c9f",933:"d607b524c3147901f4f9"}[u]+".js",h.o=(u,m)=>Object.prototype.hasOwnProperty.call(u,m),k={},h.l=(u,m,e,r)=>{if(k[u])k[u].push(m);else{var z;if(void 0!==e){r=document.getElementsByTagName("script");for(var A=0;A<r.length;A++){var E=r[A];if(E.getAttribute("src")==u||E.getAttribute("data-webpack")==
"Excalidraw:"+e){var K=E;break}}}K||(z=!0,(K=document.createElement("script")).charset="utf-8",K.timeout=120,h.nc&&K.setAttribute("nonce",h.nc),K.setAttribute("data-webpack","Excalidraw:"+e),K.src=u);k[u]=[m];m=(C,D)=>{K.onerror=K.onload=null;clearTimeout(G);var x=k[u];if(delete k[u],K.parentNode&&K.parentNode.removeChild(K),x&&x.forEach(R=>R(D)),C)return C(D)};var G=setTimeout(m.bind(null,void 0,{type:"timeout",target:K}),12E4);K.onerror=m.bind(null,K.onerror);K.onload=m.bind(null,K.onload);z&&document.head.appendChild(K)}},
h.r=u=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},h.p="",(()=>{var u={163:0};h.f.j=(r,z)=>{var A=h.o(u,r)?u[r]:void 0;if(0!==A)if(A)z.push(A[2]);else{var E=new Promise((G,C)=>{A=u[r]=[G,C]});z.push(A[2]=E);z=h.p+h.u(r);var K=Error();h.l(z,G=>{if(h.o(u,r)&&(0!==(A=u[r])&&(u[r]=void 0),A)){var C=G&&("load"===G.type?"missing":G.type);G=G&&G.target&&G.target.src;K.message="Loading chunk "+
r+" failed.\n("+C+": "+G+")";K.name="ChunkLoadError";K.type=C;K.request=G;A[1](K)}},"chunk-"+r,r)}};var m=(r,z)=>{for(var A,E,[K,G,C]=z,D=0,x=[];D<K.length;D++)E=K[D],h.o(u,E)&&u[E]&&x.push(u[E][0]),u[E]=0;for(A in G)h.o(G,A)&&(h.m[A]=G[A]);C&&C(h);for(r&&r(z);x.length;)x.shift()()},e=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];e.forEach(m.bind(null,0));e.push=m.bind(null,e.push.bind(e))})(),h(3956)})()})};
'use strict';var wjc=function(a,b){var c=$APP.Oz();$APP.l(c)&&$APP.Ir($APP.C1a(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.HH.K($APP.F(["Error loading ",a,": ",d]))})},yjc=function(a){var b=$APP.No(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Fg(xjc.F(a),b);return a},zjc=new $APP.K(null,"view-mode-enabled","view-mode-enabled",-588220561),Ajc=new $APP.K("frontend.extensions.excalidraw","view-mode?","frontend.extensions.excalidraw/view-mode?",
525380621),Bjc=new $APP.K(null,"viewBackgroundColor","viewBackgroundColor",1889137994),Cjc=new $APP.K(null,"grid-mode-enabled","grid-mode-enabled",584978327),Djc=new $APP.K(null,"gridSize","gridSize",843108791),Ejc=new $APP.K("frontend.extensions.excalidraw","elements","frontend.extensions.excalidraw/elements",1745667967),Fjc=new $APP.K("frontend.extensions.excalidraw","loading?","frontend.extensions.excalidraw/loading?",-1335058663),Gjc=new $APP.K("frontend.extensions.excalidraw","data","frontend.extensions.excalidraw/data",
-1371036113),Hjc=new $APP.K(null,"zen-mode-enabled","zen-mode-enabled",-955634269),Ijc=new $APP.K("frontend.extensions.excalidraw","zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),Jjc=new $APP.K(null,"appState","appState",-1920687968),Kjc=new $APP.K(null,"initial-data","initial-data",-1315709804),xjc=new $APP.K("frontend.extensions.excalidraw","draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.ada("excalidraw");var Ljc=$APP.Gn(641);var Mjc,Njc,Ojc,Pjc;$APP.jbc={};Mjc=$APP.lT($APP.Ga(Ljc,"default"));Njc=$APP.ej.F(null);
Ojc=$APP.Ho($APP.Lo,function(a,b,c){$APP.Dz($APP.Nz);$APP.Qo(Njc);var d=$APP.H.B(a,xjc),e=$APP.H.B(a,Ijc),f=$APP.H.B(a,Ajc),k=$APP.Dz($APP.hQa),m=$APP.H.B(a,Ejc),n=$APP.mr.F(c);return $APP.l(b)?$APP.T("div",{onMouseDown:function(q){return $APP.Wr(q)},className:"overflow-hidden"},[$APP.T("div",{style:{fontSize:10},className:"my-1"},[$APP.T("a",{onClick:$APP.iQa,className:"mr-2"},[$APP.mo($APP.Gr("Wide Mode (%s)",$APP.F([$APP.l(k)?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.fj.B(e,$APP.xc)},
className:"mr-2"},[$APP.mo($APP.Gr("Zen Mode (%s)",$APP.F([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.fj.B(f,$APP.xc)},className:"mr-2"},[$APP.mo($APP.Gr("View Mode (%s)",$APP.F([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.T("div",{onMouseDown:function(q){$APP.Wr(q);return $APP.Lz($APP.IY,!0)},onBlur:function(){return $APP.Lz($APP.IY,!1)},className:"draw-wrap"},[$APP.mo(function(){var q=$APP.Fo.K($APP.F([new $APP.h(null,6,[$APP.zT,function(u,v){var y=$APP.pk(u);return $APP.w(y)&&
$APP.hi.B(u,$APP.r(m))?(v=$APP.pk(v),$APP.P3a(n,JSON.stringify($APP.rk(new $APP.h(null,5,[$APP.gl,"excalidraw",$APP.yQ,2,$APP.Aw,$APP.Y2a,$APP.m3,u,Jjc,$APP.ii(v,new $APP.N(null,2,5,$APP.O,[Djc,Bjc],null))],null)))),$APP.Fg(m,u)):null},Hjc,$APP.r(e),zjc,$APP.r(f),Cjc,!1,Kjc,b,$APP.Es,$APP.r(d)],null),$APP.l(k)?new $APP.h(null,1,[$APP.Fs,650],null):new $APP.h(null,1,[$APP.Fs,500],null)]));return Mjc.F?Mjc.F(q):Mjc.call(null,q)}())])]):null},new $APP.N(null,7,5,$APP.O,[$APP.G6,$APP.Oo(800,xjc),$APP.Oo(!0,
Ijc),$APP.Oo(!1,Ajc),$APP.Oo(null,Ejc),new $APP.h(null,1,[$APP.xo,yjc],null),new $APP.h(null,1,[$APP.Do,yjc],null)],null),"frontend.extensions.excalidraw/draw-inner");
Pjc=$APP.Ho($APP.Lo,function(a,b){var c=$APP.H.B(a,Gjc);a=$APP.H.B(a,Fjc);a=$APP.Qo(a);c=$APP.Qo(c);var d=$APP.Dz($APP.o0b);return $APP.l($APP.mr.F(b))?$APP.l(d)?(b=$APP.DT("Loading"),$APP.T("div",$APP.De(b)?$APP.lo($APP.ho($APP.F([new $APP.h(null,1,[$APP.fo,new $APP.N(null,1,5,$APP.O,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.De(b)?null:[$APP.mo(b)])):!1===a?Ojc(c,b):null:null},new $APP.N(null,2,5,$APP.O,[$APP.G6,new $APP.h(null,1,[$APP.vo,function(a){var b=$APP.Io.F(a);b=$APP.D.G(b,
0,null);b=$APP.mr.F(b);var c=$APP.ej.F(null),d=$APP.ej.F(!0);$APP.l(b)&&wjc(b,function(e){if($APP.Ik(e))var f=null;else try{f=JSON.parse(e)}catch(k){if(k instanceof Error)e=k,$APP.HH.K($APP.F(["from json error:"])),console.dir(e),f=$APP.tF($APP.Wpa("Could not load this invalid excalidraw file"),$APP.Gu);else throw k;}$APP.Fg(c,f);return $APP.Fg(d,!1)});return $APP.P.K(a,Gjc,c,$APP.F([Fjc,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.kbc=$APP.Ho($APP.Ko,function(a){var b=$APP.Oz(),c=$APP.Dz(new $APP.N(null,2,5,$APP.O,[$APP.uI,b],null));return $APP.pB(b)&&$APP.xc(c)&&$APP.xc($APP.Fr())?null:Pjc(a)},new $APP.N(null,1,5,$APP.O,[$APP.G6],null),"frontend.extensions.excalidraw/draw");$APP.xb.mj();
}).call(this);